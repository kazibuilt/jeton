"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7011],{62334:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(24643),o=n(40099),r=n(84987);const s={id:"tip_arrow_white-99f4b53c",use:"tip_arrow_white-99f4b53c-usage",viewBox:"0 0 24 8",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 8" id="tip_arrow_white-99f4b53c"><path d="M0 8c7 0 10-8 12-8s5 8 12 8z" /></symbol>'};function a(e){const t=(0,o.useContext)(r.X);return(0,o.useLayoutEffect)((()=>(t.add(s),()=>{t.remove("tip_arrow_white-99f4b53c")})),[]),(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,i.jsx)("use",{xlinkHref:"#tip_arrow_white-99f4b53c"},void 0)}),void 0)}},10745:(e,t,n)=>{n.d(t,{O9:()=>r,hG:()=>s,yE:()=>a});var i=n(40099),o=n(90159);function r({elemRef:e,onHitBottom:t,bottomThreshold:n=10,throttle:r=100,isFirstRender:s}){const a=(0,o._g)((()=>{if(!e.current||s)return;const{offsetHeight:i,scrollTop:o,scrollHeight:r}=e.current;i+o+n>=r&&(null==t||t())}),[n,e,t,s],r);(0,i.useEffect)((()=>{const{current:t}=e;return null==t||t.addEventListener("scroll",a),()=>{null==t||t.removeEventListener("scroll",a)}}),[e,e.current,a])}function s({elemRef:e,boundingElemRef:t,onHitBottom:n,bottomThreshold:r=10,throttle:s=100}){const a=(0,o._g)((()=>{if(!e.current)return;const{bottom:i}=e.current.getBoundingClientRect(),o=(null==t?void 0:t.current)?t.current.getBoundingClientRect().bottom:window.innerHeight;i-r<=o&&(null==n||n())}),[t,r,e,n],s);(0,i.useEffect)((()=>{var e;const n=null!==(e=null==t?void 0:t.current)&&void 0!==e?e:window;return n.addEventListener("scroll",a),()=>{n.removeEventListener("scroll",a)}}),[t,a])}function a({elemRef:e,onHitTop:t,scrollTopRef:n,throttle:r=100,isFirstRender:s,onScrollDown:a}){const d=(0,o._g)((()=>{if(!e.current||s)return;const{scrollTop:i,scrollHeight:o}=e.current,r=i<=0;if(n){const s=i<=n.current;n.current=i,r&&s&&(null==t||t(),e.current.scrollTop=e.current.scrollHeight-o)}else r&&(null==t||t());i>0&&(null==a||a())}),[e,t,s],r);(0,i.useEffect)((()=>{const{current:t}=e;return null==t||t.addEventListener("scroll",d),null==t||t.addEventListener("wheel",d),()=>{null==t||t.removeEventListener("scroll",d),null==t||t.removeEventListener("wheel",d)}}),[e,e.current,d])}},40772:(e,t,n)=>{n.d(t,{w:()=>r});var i=n(40099),o=n(47172);function r(){const e=(0,o.useHistory)();return(0,i.useCallback)(((t,{href:n,state:i,shouldUsePush:o})=>{o&&(t.preventDefault(),e.push(n,i))}),[e])}},60342:(e,t,n)=>{n.d(t,{K:()=>r});var i=n(40099),o=n(88920);function r(e=0){const t=(0,i.useRef)(0),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1),{shouldOptimizeCta:d}=(0,o.kb)(),l=(0,i.useRef)(null),u=(0,i.useRef)(null),c=(0,i.useCallback)((()=>{r(!0),window.clearTimeout(t.current)}),[]),_=(0,i.useCallback)((()=>{window.clearTimeout(t.current),s||(t.current=window.setTimeout((()=>{r(!1)}),e))}),[e,s]),p=(0,i.useCallback)((e=>{a(e)}),[]),g=(0,i.useCallback)((()=>{s||window.setTimeout((()=>{var e,t,i;n&&(d?(null===(e=l.current)||void 0===e?void 0:e.hasFocusForChildren())||_():(null===(i=Array.from(null===(t=u.current)||void 0===t?void 0:t.querySelectorAll("*")))||void 0===i?void 0:i.includes(document.activeElement))||_())}),e)}),[s,e,n,d,_]);return{active:n,timeoutRef:t,setActive:r,handleMouseEnter:c,handleMouseLeave:_,handleOtherModalOpen:p,actionItemRef:l,buttonShareRef:u,handleButtonShareOnBlur:g}}},97706:(e,t,n)=>{n.d(t,{z:()=>g});var i=n(24643),o=n(40099),r=n(17784),s=n(62186),a=n(62334);function d(e,t){return e||t?t?e?{left:"50%",transform:`translate(-50%, ${t}px)`}:{transform:`translateY(${t}px)`}:{left:"50%",transform:"translateX(-50%)"}:null}const l=(0,s.default)("div",{target:"e2ipgxl0"})((({zIndex2:e,state:t,duration:n=300,theme:i,centered:o,verticalPropKey:r,verticalOffset:s})=>[{position:"absolute",zIndex:e?2:1,background:i.colors.BGPrimary,borderRadius:"8px",[r]:"calc(100% + 12px)",boxShadow:"0 4px 16px rgba(0, 0, 0, .12)",transition:`opacity ${n}ms`,opacity:Number("entering"===t||"entered"===t),overscrollBehavior:"contain"},d(o,s)]),"label:DivContainer;"),u=(0,s.default)(a.A,{shouldForwardProp:e=>"verticalPropKey"!==e&&"centered"!==e,target:"e2ipgxl1"})([{display:"block",width:"24px",height:"8px",position:"absolute"},({centered:e})=>e?{left:"50%"}:null,({verticalPropKey:e})=>"top"===e?{top:"-8px"}:{bottom:"-8px"},({centered:e,verticalPropKey:t})=>{const n=[];return e&&n.push("translateX(-50%)"),t&&"bottom"===t&&n.push("rotate(180deg)"),{transform:n.length>0?n.join(" "):void 0}}],"label:StyledTopArrow;");var c=n(88920);const _={topRight:"right",topLeft:"left",top:null,bottomRight:"right",bottomLeft:"left",bottom:null},p={topRight:"bottom",topLeft:"bottom",top:"bottom",bottomRight:"top",bottomLeft:"top",bottom:"top"},g=function({placement:e,margin:t="-2px",arrowMargin:n=6,duration:s=300,backgroundColor:a="#fff",active:d=!1,verticalOffset:g=0,style:h,hideArrow:m=!1,id:v,onKeyDown:y,ariaLabel:b,ariaLabelledBy:f,children:w}){const S=(0,o.useRef)(null),L=_[e],x=p[e],{allowRightPanelScroll:O,shouldOptimizeReply:j}=(0,c.kb)(),F=Object.assign({backgroundColor:a},h),A={};return L&&(A[L]=n,F[L]=t),(0,i.jsx)(r.Ay,{in:d,timeout:s,unmountOnExit:!0,nodeRef:S,children:e=>(0,i.jsxs)(l,{zIndex2:j||O,verticalPropKey:x,state:e,duration:s,ref:S,style:F,centered:!L,verticalOffset:g,id:v,tabIndex:-1,onKeyDown:y,"aria-label":b,"aria-labelledby":f,children:[!m&&(0,i.jsx)(u,{fill:a,style:A,centered:!L,verticalPropKey:x}),w]})})}},89107:(e,t,n)=>{n.d(t,{C:()=>E});var i=n(58632),o=n(64162),r=n(4126),s=n(93995),a=n(23999),d=n(26324),l=n(95719),u=n(62564),c=n(78288),_=n(31014),p=n(24451),g=n(72916),h=n(8536),m=n(74690),v=n(80339),y=n(93608),b=n(65365),f=n(27016),w=n(55322),S=n(50970),L=n(54888),x=n(43271),O=n(45489),j=n(38203),F=n(39228);let A=class{constructor(e){this.fetch=e}getSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/user/preview/",{query:t,baseUrlType:2})}getGeneralSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/general/preview/",{query:t,baseUrlType:2})}getMobileGeneralSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/general/sug/",{query:t,baseUrlType:2})}};A=(0,i.__decorate)([(0,j._)(),(0,i.__metadata)("design:paramtypes",[F.pM])],A);let E=class extends o.E{constructor(e,t,n,i,o,r){super(),this.service=e,this.home=t,this.biz=n,this.videoPlayerJotai=i,this.search=o,this.personalization=r,this.defaultState={sugList:[],mobileSugList:[],loading:!1,activeIndex:-1,searchValue:"",previousSearchValue:"",inputFocus:!1,newSugSessionTimeStamp:void 0,queryId:void 0,videoPageType:""}}setVideoPageType(e,t){e.videoPageType=t}setSearchValue(e,t){e.searchValue=t}setPreviousSearchValue(e,t){e.previousSearchValue=t}setInputFocus(e,t){e.inputFocus=t}handleInputFocusChange(e){return e.pipe((0,l.M)((e=>{e&&b.$G.handleSearchEntry({enter_method:"enter"})})),(0,u.T)(this.getActions().setInputFocus))}setNewSugSessionTimeStamp(e,t){e.newSugSessionTimeStamp=t}setList(e,t){e.sugList=t}setMobileList(e,t){e.mobileSugList=t}setLoading(e,t){e.loading=t}setActiveIndex(e,t){e.activeIndex=t}setActiveUp(e){e.activeIndex=Math.max(0,e.activeIndex-1)}setActiveDown(e){const{sugList:t,activeIndex:n}=e;e.activeIndex=Math.min(t.length,n+1)}setQueryId(e,t){e.queryId=t}getSugList(e){return e.pipe((0,c.w)("keyword"),(0,_.B)(500),(0,p.E)(this.state$,this.home.state$,this.biz.state$,this.videoPlayerJotai.state$,this.search.state$,this.personalization.state$),(0,u.T)((([e,t,{appContext:n},{bizContext:i},{currentVideo:o},{searchGlobalParams:r},{isSearchPersonalized:s}])=>({payload:e,inputFocus:t.inputFocus,isLogin:Boolean(null==n?void 0:n.user),searchVideoForLoggedin:null==i?void 0:i.searchVideoForLoggedin,currentVideo:o,rootEnterFrom:null==r?void 0:r.rootEnterFrom,nonPersonalized:s?void 0:1}))),(0,g.n)((({payload:e,inputFocus:t,isLogin:n,searchVideoForLoggedin:i,currentVideo:o,rootEnterFrom:r,nonPersonalized:s})=>e.keyword?(n||!i?this.service.getGeneralSugList({keyword:e.keyword,app_language:e.app_language,is_non_personalized_search:s}):this.service.getSugList(Object.assign(Object.assign({},e),{is_non_personalized_search:s}))).pipe((0,u.T)((e=>{const{status_code:t,sug_list:n=[],log_pb:i}=e;let o=[];return 0===t&&n.length&&(o=n.map((e=>{var t;return Object.assign(Object.assign({},e),{impr_id:null!==(t=null==i?void 0:i.impr_id)&&void 0!==t?t:""})}))),Object.assign(Object.assign({},e),{sug_list:o})})),(0,l.M)((({sug_list:n,words_query_record:i,log_pb:s})=>{var a,d;if(t){const t="browser_mode"===this.state.videoPageType,l={impr_id:null!==(a=null==s?void 0:s.impr_id)&&void 0!==a?a:"",enter_from:r,raw_query:e.keyword,search_position:t?"video_detail":y.f.commonParams.page_name,video_page_type:this.state.videoPageType,enter_group_id:null!==(d=null==o?void 0:o.id)&&void 0!==d?d:""};b.$G.handleSugGroupImpression(Object.assign({words_source:"sug",words_num:String(n.length)},l)),n.forEach(((e,t)=>{var n;b.$G.handleSugImpression(Object.assign({words_source:"sug",words_position:t,words_content:e.content,sug_type:e.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!==(n=null==i?void 0:i.query_id)&&void 0!==n?n:"",group_id:e.word_record.group_id},l))}))}})),(0,h.Z)((e=>{var t;return(0,a.of)(this.getActions().setList(e.sug_list),this.getActions().setQueryId(null===(t=null==e?void 0:e.words_query_record)||void 0===t?void 0:t.query_id))})),(0,m.Z)(this.getActions().setLoading(!0),this.getActions().setActiveIndex(-1)),(0,v.q)(this.getActions().setLoading(!1))):(0,a.of)(this.getActions().setList([])))))}getMobileSugList(e){return e.pipe((0,_.B)(500),(0,p.E)(this.state$,this.personalization.state$),(0,g.n)((([{keyword:e,app_language:t},{newSugSessionTimeStamp:n},{isSearchPersonalized:i}])=>e?this.service.getMobileGeneralSugList({keyword:e,app_language:t,is_non_personalized_search:i?void 0:1}).pipe((0,u.T)((e=>{const{status_code:t,sug_list:n=[],log_pb:i}=e;let o=[];return 0===t&&n.length&&(o=n.map((e=>{var t;return Object.assign(Object.assign({},e),{impr_id:null!==(t=null==i?void 0:i.impr_id)&&void 0!==t?t:""})}))),Object.assign(Object.assign({},e),{sug_list:o})})),(0,l.M)((({sug_list:t,words_query_record:i,log_pb:o,extra:r})=>{b.$G.handleSugGroupImpression({words_source:"sug",words_num:String(t.length),raw_query:e,search_position:y.f.commonParams.previous_page}),t.forEach(((t,s)=>{var a,d;b.$G.handleSugImpression({impr_id:null!==(a=null==o?void 0:o.impr_id)&&void 0!==a?a:"",words_source:"sug",words_position:s,words_content:t.content,raw_query:e,sug_type:t.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!==(d=null==i?void 0:i.query_id)&&void 0!==d?d:"",group_id:t.word_record.group_id,search_position:y.f.commonParams.previous_page,new_sug_session_id:String(null!=n?n:null==r?void 0:r.now)})}))})),(0,h.Z)((e=>{var t;return(0,a.of)(this.getActions().setMobileList(e.sug_list),this.getActions().setNewSugSessionTimeStamp(String(null!=n?n:null===(t=e.extra)||void 0===t?void 0:t.now)))})),(0,w.n)({})):(0,a.of)(this.getActions().setMobileList([]),this.getActions().setNewSugSessionTimeStamp(void 0)))))}};(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,String]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setVideoPageType",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,String]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setSearchValue",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,String]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setPreviousSearchValue",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setInputFocus",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[d.c]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"handleInputFocusChange",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setNewSugSessionTimeStamp",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Array]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setList",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Array]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setMobileList",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setLoading",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Number]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setActiveIndex",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setActiveUp",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setActiveDown",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"setQueryId",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[d.c]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"getSugList",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[d.c]),(0,i.__metadata)("design:returntype",void 0)],E.prototype,"getMobileSugList",null),E=(0,i.__decorate)([(0,s.n)("Sug"),(0,i.__metadata)("design:paramtypes",[A,S.L,L.$,f.Q,x.tq,O.fu])],E)},509:(e,t,n)=>{n.d(t,{d:()=>o});var i=n(93608);const o={handleClickAnalyticsButton:()=>{i.f.sendEvent("click_insight",{enter_method:"dropdown_button"})},handleClickAnalyticsVideoCover:e=>{i.f.sendEvent("video_play",{enter_from:"insight_page",widget_name:"video_detail",sub_widget:"null",enter_method:"video_card"}),i.f.sendEvent("click_insight",{enter_method:"invideo_button"}),i.f.sendEvent("enter_insight_detail",{widget_name:"video_detail",sub_widget:null,enter_method:"invideo_button",group_id:e})},handleProfileHoveShow:(e=!1)=>{i.f.sendEvent("livesdk_web_profile_hover_show",{is_ls_show:e?1:0})}}},50289:(e,t,n)=>{n.d(t,{s:()=>d});var i=n(24643),o=n(62186),r=n(80574),s=n(72153);const a=(0,o.default)("span",{target:"e1aglo370"})((({width:e,height:t,style:n={},theme:{direction:i}})=>[(0,s.mp)({direction:i,marginStart:"4px"}),Object.assign(Object.assign({},n),{width:"number"==typeof e?`${e}px`:e,height:"number"==typeof t?`${t}px`:t})]),"label:SpanVerifyBadgeContainer;"),d=e=>(0,i.jsx)(a,Object.assign({},e,{children:(0,i.jsx)(r.V,{size:"number"==typeof e.width?e.width:void 0})}))},28086:(e,t,n)=>{n.d(t,{z:()=>_,I:()=>p});var i=n(58632),o=n(82231),r=n(71111),s=n(57432),a=n.n(s),d=n(40099),l=n(50296),u=n(44241),c=n(32125);function _(e){const t=(0,r.atom)(e.initState),n=(0,r.atom)((e=>e(t)),((n,o,...r)=>(0,i.__awaiter)(this,void 0,void 0,(function*(){let i;return i="action"in e?yield e.action({prevState:n(t),get:n},...r):yield e.fetchAction(n(t),...r),o(t,i),i}))));return n[u.d]=t,n[u.S]=e.rehydrationDataKey,n}function p(e,t){const{resetStateBeforeDispatch:n=!1,skipFirstClientDispatch:s=!0}=null!=t?t:{},_=e[u.S],p=e[u.d],[g,h,m]=_?(0,o.Dh)(_,null,{volatile:!0}):[null,a(),()=>null];!function(e){const t=(0,r.useStore)(void 0);(0,l.S)(t,e)}(g&&s?[[p,g]]:[]);const[v,y]=(0,r.useAtom)(e),b=(0,r.useSetAtom)(p),[f,w]=(0,d.useState)((()=>({isFetching:!1,rehydratedFromSSR:Boolean(g)}))),S=(0,d.useRef)(!0);(0,d.useEffect)((()=>()=>{n&&b(p.init)}),[]);const L=(0,d.useCallback)(((...e)=>(0,i.__awaiter)(this,void 0,void 0,(function*(){if(S.current&&s&&f.rehydratedFromSSR)return S.current=!1,v;w({isFetching:!0,rehydratedFromSSR:!1}),n&&b(p.init);const t=yield y(...e);return w({isFetching:!1,rehydratedFromSSR:!1}),t}))),[y]);return[(0,c.xb)(f,v),L,m]}}}]);