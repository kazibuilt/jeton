"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[619],{27016:(e,t,n)=>{n.d(t,{Q:()=>_});var r=n(58632),a=n(64162),c=n(4126),o=n(93995),s=n(26324),i=n(62564),l=n(21367);let _=class extends a.E{constructor(){super(...arguments),this.defaultState=(0,l.$V)()}updateVideo(e){return e.pipe((0,i.T)((e=>((0,l.LM)().updateVideo(e),this.noop()))))}};_.jotaiAtom=l.yA,(0,r.__decorate)([(0,c.Mj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[s.c]),(0,r.__metadata)("design:returntype",void 0)],_.prototype,"updateVideo",null),_=(0,r.__decorate)([(0,o.n)("VideoPlayerJotai")],_),_.__SIGI_MODULE__=l.yA},8800:(e,t,n)=>{n.d(t,{PT:()=>o,bg:()=>l});var r=n(99789),a=n.n(r);const c={[-1]:-1,0:0,1:1,2:2,4:3};function o(e,t={}){var n;const r=a()(e,"user","reply_comment");return r.user=null!==(n=e.user.unique_id)&&void 0!==n?n:"",!e.reply_comment||t.ignoreReply?[r]:[r,...e.reply_comment.reduce(((e,t)=>(o(t).forEach((t=>{e.push(t)})),e)),[])]}function s(e){var t,n;return null!==(n=null===(t=null==e?void 0:e.url_list)||void 0===t?void 0:t.find((e=>!/\.webp/.test(e))))&&void 0!==n?n:""}function i({is_block:e,is_blocked:t,follow_status:n,follower_status:r}){if(null!=n)return e?4:t?5:0===n&&1===r?6:c[n]}function l(e,t){const{avatar_larger:n,avatar_medium:r,avatar_thumb:a,uid:c,short_id:o,unique_id:l,sec_uid:_,room_id:h,nickname:d,is_block:u,is_blocked:f,follow_status:m,signature:p,show_favorite_list:g,custom_verify:v,enterprise_verify_reason:S,comment_setting:k,duet_setting:b,is_ad_fake:y,is_private_account:w,secret:E,show_secret_banner:C,stitch_setting:O,follower_status:T}=e;return{avatarLarger:s(n),avatarMedium:s(r),avatarThumb:s(a),id:c,shortId:o,uniqueId:null!=l?l:"",secUid:null!=_?_:"",roomId:h?String(h):void 0,nickname:d,relation:i({is_block:u,is_blocked:f,follow_status:m,follower_status:T}),signature:p,openFavorite:g,verified:Boolean(v||S),commentSetting:k,duetSetting:b,stitchSetting:O,isADVirtual:y,privateAccount:Boolean(w)||Boolean(E),secret:Boolean(E),createTime:0,showPrivateBanner:Boolean(C),extraInfo:Object.assign({followerStatus:T},t)}}},49473:(e,t,n)=>{n.d(t,{$l:()=>o,AF:()=>s,GH:()=>u,gc:()=>d});var r=n(97086),a=n(58305);const c='video/mp4;codecs="hev1.1.6.L93.B0"';function o(e){return[3,4,31].includes(e)}function s(){return!(0,r.fU)()&&("undefined"!=typeof MediaSource&&!(!MediaSource.isTypeSupported(c)||"probably"!==document.createElement("video").canPlayType(c)))}const i="hevc_support_key_v4",l="hevc_support_key_time",_=12096e5;let h;function d(){if((0,r.fU)())return!1;if(void 0!==h)return h;const e=(0,a._S)(i,""),t=Number((0,a._S)(l,"0"));return Date.now()-t>_||""===e?(h=s(),(0,a.AP)(i,h?"1":"0"),(0,a.AP)(l,String(Date.now())),h&&navigator.mediaCapabilities.decodingInfo({type:"file",video:{contentType:c,width:1920,height:1080,bitrate:1e4,framerate:30}}).then((({supported:e})=>{h=e,(0,a.AP)(i,e?"1":"0")})).catch((e=>console.error(e))),h):"1"===e}function u(){(0,a.AP)(i,"0"),(0,a.AP)(l,String(Date.now())),h=!1}},60144:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(40099),a=n(49057),c=n(71281),o=n(49473),s=n(97086);const i={v0:8,v1:4,v2:2};function l(){const e=(0,a.W)((()=>["abTestVersion"]),[]),t=(0,r.useMemo)((()=>{if((0,s.fU)())return!1;const e=i.v1;return navigator.hardwareConcurrency>=e}),[]),n=(0,r.useMemo)((()=>(0,o.gc)()),[]),l=(0,r.useMemo)((()=>{var r;if((0,s.fU)())return"web_h264";const a=null!==(r=(0,c.V7)(null==e?void 0:e.abTestVersion,"live_player_codetype"))&&void 0!==r?r:"v0";return t&&"v1"===a&&n?"web_h265":"web_h264"}),[null==e?void 0:e.abTestVersion,n,t]);return{openH265:"web_h265"===l,streamDeviceType:l,hevcSupport:n}}},30264:(e,t,n)=>{n.d(t,{S:()=>o});var r=n(58632),a=n(38203),c=n(39228);let o=class{constructor(e){this.fetch=e}getTopSearch(e){return this.fetch.get("/api/search/general/full/",{query:e,baseUrlType:2})}getUserSearch(e){return this.fetch.get("/api/search/user/full/",{query:e,baseUrlType:2})}getVideoSearch(e){return this.fetch.get("/api/search/item/full/",{query:e,baseUrlType:2})}getLiveSearch(e){return this.fetch.get("/api/search/live/full/",{query:e,baseUrlType:2})}};o=(0,r.__decorate)([(0,a._)(),(0,r.__metadata)("design:paramtypes",[c.pM])],o)},65365:(e,t,n)=>{n.d(t,{$G:()=>k});var r,a,c,o,s,i,l,_,h,d,u,f,m,p,g,v,S=n(93608);!function(e){e.ClickEnter="click_enter",e.ClickIcon="click_icon",e.ClickViewAll="click_view_all",e.ClickSearch="homepage_click_search",e.ClickMoreGeneralList="click_more_general_list",e.ClickSearchResult="click_search_result",e.SearchHistory="search_history",e.RecomSearch="recom_search",e.ManagePersonalise="manage_personalise"}(r||(r={})),function(e){e.Hot="hot",e.Sav="top",e.Music="music",e.SearchBar="search_bar_outer",e.ExploreAll="explore_all"}(a||(a={})),function(e){e.EnrichSug="enrich_sug",e.NormalSug="normal_sug"}(c||(c={})),function(e){e.User="user",e.Video="video",e.General="general",e.Live="live"}(o||(o={})),function(e){e.SearchHistory="search_history",e.SearchSug="search_sug",e.NormalSearch="normal_search",e.SearchRecom="search_recommend"}(s||(s={})),function(e){e.RecomSearchFeedback="recom_search_feedback"}(i||(i={})),function(e){e.RecomSearch="recom_search",e.SearchHistory="search_history",e.videoTitleChallenge="video_title_challenge",e.NormalSearch="normal_search",e.SearchOuter="search_outer",e.SwitchTab="switch_tab",e.ClickMoreGeneralList="click_more_general_list",e.SearchSug="search_sug",e.DefaultSearchKeyword="default_search_keyword",e.CommentRelatedSearch="comment_related_search",e.CommentHighlightedWords="comment_highlighted_words",e.RelatedSearch="related_search"}(l||(l={})),function(e){e.Sug="sug",e.RecomSearch="recom_search",e.SearchBar="related_search_anchor_v2",e.CommentRelatedSearch="comment_related_search",e.CommentHighlightedWords="comment_highlighted_words",e.RelatedSearch="related_search",e.ExploreAll="explore_all"}(_||(_={})),function(e){e.Tag="tag",e.Person="person",e.LiveCard="live_card",e.HotUser="hot_user"}(h||(h={})),function(e){e.ClickIntoLive="click_into_live",e.ClickInfo="click_info",e.ClickClose="click_close",e.ClickBlankSpace="click_blank_space",e.ClickDone="click_done"}(d||(d={})),function(e){e.Report="report",e.NotRelevant="not_relevant",e.Close="close"}(u||(u={})),function(e){e.Show="show",e.ShowAll="show_all",e.Click="click",e.Clear="clear",e.ClearAll="clear_all"}(f||(f={})),function(e){e.Enter="enter",e.Cancel="cancel"}(m||(m={})),function(e){e.NotInterested="Not interested",e.UnrelatedContent="Unrelated content",e.InappropriateContent="Inappropriate content",e.Others="others",e.Cancel="cancel"}(p||(p={})),function(e){e[e.OnToOff=1]="OnToOff",e[e.OffToOn=2]="OffToOn",e[e.RemainOff=3]="RemainOff",e[e.RemainOn=4]="RemainOn"}(g||(g={})),function(e){e.On="on",e.Off="off"}(v||(v={}));const k={handleSugClick:e=>{S.f.sendEvent("trending_words_click",e)},handleSugImpression:e=>{S.f.sendEvent("trending_words_show",e)},handleSugGroupImpression:e=>{S.f.sendEvent("trending_show",e)},handleSearchEntry:e=>{S.f.sendEvent("enter_search",e)},handleSearchImpression:e=>{S.f.sendEvent("search_result_show",Object.assign({token_type:"person"},e))},handleSearchVideoImpression:e=>{S.f.sendEvent("search_result_show_video",Object.assign({},e))},handleSearch:e=>{S.f.sendEvent("search",Object.assign(Object.assign({},e),{is_success:1}))},handleSearchResultClick:e=>{S.f.sendEvent("search_result_click",Object.assign({},e))},handleSearchSessionFinish:e=>{S.f.sendEvent("search_session_finish",e)},handleSearchResultEmpty:e=>{S.f.sendEvent("empty_search",Object.assign({},e))},handleClickSearch:({target:e="homepage_click_search"})=>{S.f.sendEvent("click_search",{target:e})},handleEnterSearchPage:({enter_method:e="homepage_click_search"})=>{S.f.sendEvent("enter_search_page",{enter_method:e})},handleEnterSearchBlankPage:e=>{S.f.sendEvent("enter_search_blankpage",e)},handleSearchHistory:e=>{S.f.sendEvent("search_history",e)},handleTrendingWordsShow:e=>{S.f.sendEvent("trending_words_show",e)},handleTrendingWordsClick:e=>{S.f.sendEvent("trending_words_click",e)},handleTrendingShow:e=>{S.f.sendEvent("trending_show",e)},handleCommentRelatedSearchBoardShow:e=>{S.f.sendEvent("comment_related_search_board_show",e)},handleCommentRelatedSearchBoardClick:e=>{S.f.sendEvent("comment_related_search_board_click",e)},handleSugReportConfirm:e=>{S.f.sendEvent("sug_report_confirm",e)},handleSugReportLaunch:e=>{S.f.sendEvent("sug_report_launch",e)},handleChallengeTitleClick:e=>{S.f.sendEvent("challenge_title_click",e)},handleClickSearchFeedback:e=>{S.f.sendEvent("click_search_feedback",e)},handleSearchTextSubmit:e=>{S.f.sendEvent("search_text_submit",e)},handleSearchFeedbackStatus:e=>{S.f.sendEvent("search_feedback_status",e)},handleManageSearchPopupShow:e=>{S.f.sendEvent("manage_search_popup_show",e)},handleManageSearchPopupClick:e=>{S.f.sendEvent("manage_search_popup_click",e)}}}}]);