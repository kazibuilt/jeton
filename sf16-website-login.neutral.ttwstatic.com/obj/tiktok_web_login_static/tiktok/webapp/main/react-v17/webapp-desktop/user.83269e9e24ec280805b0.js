"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6806],{10753:(e,t,i)=>{i.d(t,{B:()=>C});var n=i(2787),o=i(40099),a=i(11060),r=i(27600),l=i(58542),s=i(50299),d=i(70911),c=i(96754),u=i(58180),p=i(25616),h=i(57431),g=i(93608),m=i(28086),f=i(55988),_=i(23303),v=i(73174),b=i(17446),y=i(90570);const x="three_column",C=(0,o.memo)((function({isOnTabBar:e}){const t=(0,p.s)(),i=(0,a.W6)(),C=(0,s.Z)(),[{isFetching:w},k]=(0,m.I)(d.e,{resetStateBeforeDispatch:!0}),[I,S]=(0,b.B6)(),[T,Y]=(0,f._K)((e=>e.list.length>0)),D=(0,c.x6)((e=>{var t;return BigInt(null!==(t=e.total)&&void 0!==t?t:0)>0})),F=e?"small":"medium",P=e?"secondary":"primary",L=(0,o.useMemo)((()=>{var e,t;return null!==(t=null===(e=(0,h.x)().user)||void 0===e?void 0:e.uniqueId)&&void 0!==t?t:""}),[]),[j,E]=(0,o.useState)(!1),[U,M]=(0,o.useState)(!1),[B,A]=(0,o.useState)(""),[O,z]=(0,o.useState)(!1),q=(0,o.useCallback)((e=>{const t=(0,y.w)(L,B,e);i.push(t)}),[i,L,B]),R=(0,o.useCallback)((e=>{E(!1),M(!1),g.f.sendEvent("collection_create_success",{video_selection:"added_videos",play_mode:x}),q(e)}),[q]),[N,W]=(0,v.l)({onSuccess:R,enterMethod:"collection_creation",playModeForTea:x}),H=w||N,$=(0,o.useCallback)((({statusCode:e,collectionIdString:i})=>{if(0===e&&i)if(E(!1),M(!1),0===I.size){const e=T?"did_not_select":"no_candidate";g.f.sendEvent("collection_create_success",{video_selection:e,play_mode:x}),C({success:!0,message:t("collectionsProfilePage_collectionsPage_topSection_collectionToast")}),q(i)}else W(i,I);else C({success:!1,message:t("Sorry, something wrong with the server, please try again.")})}),[I,T,C,t,q,W]),V=(0,o.useCallback)((()=>{return e=this,t=void 0,n=function*(){yield k({collectionName:B.trim(),collectionStatus:O?3:1},$)},new((i=void 0)||(i=Promise))((function(o,a){function r(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,l)}s((n=n.apply(e,t||[])).next())}));var e,t,i,n}),[B,O,k,$]),K=(0,o.useCallback)((()=>{E(!1),M(!0),g.f.sendEvent("name_collection",{make_public:O?1:0,enter_method:e?"top_right_button":"middle_button",play_mode:x})}),[e,O]),G=(0,o.useCallback)((()=>{M(!1),E(!0)}),[]),Z=(0,o.useCallback)((()=>{A(""),z(!1),S.clear(),Y.resetCandidates(),M(!1),E(!0),g.f.sendEvent("create_collection",{enter_method:e?"top_right_button":"middle_button",has_collections:D?1:0,play_mode:x})}),[S,Y,e,D]),J=(0,o.useCallback)((e=>{g.f.sendEvent("close_create_collection",{stage:e,play_mode:x})}),[]),Q=(0,o.useCallback)((e=>{E(e),e||U||J("naming stage")}),[U,J]),X=(0,o.useCallback)((e=>{M(e),e||j||J(T?"select videos stage":"no videos to select")}),[j,J,T]);return(0,n.FD)("div",{children:[(0,n.Y)(l.I05,{leadingIcon:(0,n.Y)(r.l,{}),label:t("create_new_collection_btn"),size:F,variant:P,onClick:Z,"data-e2e":"collection-action-create","aria-label":t("create_new_collection_btn")}),(0,n.Y)(u.k,{open:j,onOpenChange:Q,name:B,onNameChange:A,isPublic:O,onIsPublicChange:z,onNext:K}),(0,n.Y)(_.l,{isFromCreateCollection:!0,open:U,onOpenChange:X,onPrev:G,onCommit:V,loading:H})]})}))},90570:(e,t,i)=>{i.d(t,{w:()=>a});var n=i(11060),o=i(82715);function a(e,t,i){return(0,n.tW)(o.OZ.collection,{uniqueId:e,title:encodeURIComponent(t),id:i})}},6865:(e,t,i)=>{i.d(t,{W:()=>p});var n=i(2787),o=i(49057),a=i(96689),r=i(40935),l=i(45445),s=i(38597),d=i(40099),c=i(3885),u=i(20948);const p=(0,d.memo)((function({relation:e,uniqueId:t,nickname:i,style:p={},hideMutualIcon:h=!1,teaParams:g}){var m;const{user:f}=null!==(m=(0,o.W)((()=>["user"]),[]))&&void 0!==m?m:{},_=(0,d.useRef)(null),v=!!f&&t===f.uniqueId,b=(0,a.K)({query:{enter_method:"click_follow"}}),{handleFollow:y,text:x,isFollowing:C,relation:w}=(0,r.Tu)({uniqueId:t,teaParams:g,onNeedLogin:b}),[k,I]=(0,d.useState)(!1),S=3===w,T=4===w,Y=C&&!(null==f?void 0:f.hasIMPermission),D=T||S||Y||C&&(null==f?void 0:f.hasIMPermission);(0,d.useEffect)((()=>{T&&s.h.handleBlockShow(!T)}),[T]);const F=(0,d.useCallback)((()=>{I(!0)}),[]),P=(0,d.useCallback)((()=>{I(!1)}),[]),L=(0,d.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),T?F():y(e)}),[T,F,y]);return(0,n.FD)(n.FK,{children:[!v&&(0,n.Y)(u.s5,{ref:_,children:(0,n.FD)(u.lZ,{size:"small",buttonTheme:D?"default":"primary","data-e2e":"follow-button",onClick:L,style:p,"aria-label":`${x} ${i}`,isButtonDefaultStyle:null!=D&&D,children:[2!==e||h?null:(0,n.Y)(c.Yn,{}),x]})}),(0,n.Y)(l.j,{visible:k,uniqueId:t,onClose:P})]})}))},20948:(e,t,i)=>{i.d(t,{lZ:()=>c,rO:()=>l,s5:()=>s});var n=i(62186),o=i(72153),a=i(88091),r=i(97397);const l=(0,n.default)(a.I0,{target:"e1bph0nm0"})((({theme:{colors:e}})=>({padding:"4px 8px",borderRadius:"4px",borderColor:e.ConstTextInverse2,minWidth:"unset",height:"unset","> div":{minWidth:"38px",height:"15px",fontWeight:"bold",fontSize:"12px"}})),"label:StyledFollowButton;"),s=(0,n.default)("div",{target:"e1bph0nm1"})((({hide:e})=>[{display:e?"none":"1"}]),"label:DivFollowButtonWrapperV2;");function d(e,t){return e?{borderRadius:"8px",backgroundColor:t.BGInput,borderStyle:"none",":hover":{backgroundColor:t.BGInput2}}:{borderRadius:"8px"}}const c=(0,n.default)(r.y,{target:"e1bph0nm2"})((({isButtonDefaultStyle:e,theme:t})=>[(0,o.zy)({theme:t,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{fontSize:"16px",flex:1,lineHeight:"36px"},d(e,t.colors)]),"label:StyledFollowButtonV2;")},7914:(e,t,i)=>{i.d(t,{$s:()=>m,Br:()=>c,Hn:()=>f,Iz:()=>u,Le:()=>s,Qs:()=>g,RY:()=>v,T8:()=>d,dJ:()=>h,ip:()=>p});var n=i(75431),o=i(62186),a=i(28367),r=i(72153),l=i(97397);const s=(0,o.default)("div",{target:"e1xjit530"})({width:"400px",padding:"32px",boxSizing:"border-box"},"label:DivContainer;"),d=(0,o.default)("p",{target:"e1xjit531"})((({theme:e})=>[(0,r.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont",color:"TextPrimary"}),{fontSize:"24px",lineHeight:"36px",textAlign:"center",marginBottom:"16px"}]),"label:PTitle;"),c=(0,o.default)("p",{target:"e1xjit532"})((({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"16px",lineHeight:"22px",textAlign:"center",marginBottom:"24px"})),"label:PInfo;"),u=(0,o.default)("ul",{target:"e1xjit533"})({paddingInlineStart:"12px"},"label:UlInfo;"),p=(0,o.default)("li",{target:"e1xjit534"})((({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"15px",lineHeight:"18px",marginBottom:"11px",":last-child":{marginBottom:"24px"}})),"label:LiInfo;"),h=(0,o.default)("div",{target:"e1xjit535"})({display:"flex",justifyContent:"space-between"},"label:DivBtnContainer;"),g=(0,o.default)(l.y,{target:"e1xjit536"})({minWidth:"164px",height:"48px",fontSize:"16px"},"label:StyledBtn;"),m=(0,o.default)(l.y,{target:"e1xjit537"})({minWidth:"336px",width:"336px",":not(:last-child)":{marginBottom:"12px"}},"label:StyledLargeBtn;"),f=(0,o.default)("div",{target:"e1xjit538"})((({theme:{colors:e}})=>({width:"336px",color:e.TextPrimary,fontSize:"16px",lineHeight:"24px",height:"48px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"})),"label:DivTextBtn;"),_=(0,n.i7)({from:{transform:"rotateZ(0)"},to:{transform:"rotateZ(360deg)"}}),v=(0,o.default)(a.A,{target:"e1xjit539"})({animation:`${_} 1s infinite`},"label:StyledProgressCircle;")},97614:(e,t,i)=>{i.d(t,{Y:()=>p,d:()=>c});var n=i(2787),o=i(67518),a=i(41271),r=i(40099),l=i(25616),s=i(73211),d=i(7914);const c="48",u=[{info:"blue_v_change_username_review_modal_desc",replaceUserNameTag:"%s"},{info:"blue_v_change_name_review_modal_desc",replaceNameTag:"%s"},{info:"blue_v_webapp_change_name_review_modal_desc",replaceUserNameTag:"%1s",replaceNameTag:"%2s"}],p=(0,r.memo)((({onCancel:e,onConfirm:t,changeType:i,username:p,name:h})=>{const g=(0,l.s)(),{updatingProfile:m}=(0,a.P)(s.it),f=(0,r.useCallback)((()=>{e()}),[e]),_=(0,r.useCallback)((()=>{!m&&t(!1)}),[t,m]),v=u[i];let b=g(v.info);v.replaceUserNameTag&&(b=b.replace(v.replaceUserNameTag,p).replace("%d",c)),v.replaceNameTag&&(b=b.replace(v.replaceNameTag,h).replace("%d",c));const{colors:y}=(0,o.u)();return(0,n.FD)(d.Le,{children:[(0,n.Y)(d.T8,{children:g("blue_v_change_name_review_modal_title")}),(0,n.Y)(d.Br,{children:b}),(0,n.FD)(d.dJ,{children:[(0,n.Y)(d.Qs,{disabled:m,onClick:f,children:g("blue_v_change_name_review_cancel_btn")}),(0,n.Y)(d.Qs,{buttonTheme:"primary",onClick:_,children:m?(0,n.Y)(d.RY,{fill:y.ConstTextInverse,width:20,height:20}):g("blue_v_change_name_review_submit_btn")})]})]})}))},73211:(e,t,i)=>{i.d(t,{it:()=>S,jp:()=>y,CS:()=>x});var n=i(58632),o=i(64162),a=i(4126),r=i(93995),l=i(72916),s=i(20259),d=i(23999),c=i(8536),u=i(74690),p=i(80339),h=i(26324),g=i(52913),m=i(38203),f=i(4474),_=i(26325),v=i(39228);let b=class{constructor(e){this.fetch=e}updateUserProfile(e){return this.fetch.post("/api/update/profile/",{body:(0,f.stringify)(Object.assign(Object.assign({},e),{tt_csrf_token:this.fetch.csrfToken})),baseUrlType:2,headers:{[_.nk]:this.fetch.csrfToken}})}removeBlueV(e){return this.fetch.post("/tiktok/v1/username/save_async/",{body:(0,f.stringify)({username:e,process_type:1}),baseUrlType:2,headers:{[_.nk]:this.fetch.csrfToken}})}checkUniqueId(e){return this.fetch.get("/api/uniqueid/check/",{query:{unique_id:e},baseUrlType:2,headers:{[_.nk]:this.fetch.csrfToken}})}uploadImage(e){const t=new FormData;return t.append("file",e),t.append("source","0"),this.fetch.post("/api/upload/image/",{body:t,baseUrlType:2,headers:{[_.nk]:this.fetch.csrfToken},omitContentType:!0})}updateUniqueId(e){return this.fetch.post("/passport/web/login_name/update/",{body:(0,f.stringify)({login_name:e}),baseUrlType:2,headers:{[_.nk]:this.fetch.csrfToken}})}};b=(0,n.__decorate)([(0,m._)(),(0,n.__metadata)("design:paramtypes",[v.pM])],b);const y=-1,x=0;var C,w,k,I;!function(e){e[e.InitialState=0]="InitialState",e[e.Valid=1]="Valid",e[e.Invalid=2]="Invalid"}(C||(C={})),function(e){e[e.IllegalLetter=1027]="IllegalLetter",e[e.SensitiveWord=1028]="SensitiveWord",e[e.Used=1024]="Used",e[e.OnceIn30day=1330]="OnceIn30day",e[e.ServerUpgrading=1331]="ServerUpgrading",e[e.ProfileUnderCertification=1332]="ProfileUnderCertification",e[e.ProfileUnderReview=1333]="ProfileUnderReview"}(w||(w={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ErrServiceInternal=4]="ErrServiceInternal",e[e.ErrInvalidParam=5]="ErrInvalidParam",e[e.ErrPermissionDenied=7]="ErrPermissionDenied",e[e.ErrHitSharkSlideVerifyCode=3058]="ErrHitSharkSlideVerifyCode",e[e.ErrHitSharkClickVerifyCode=3059]="ErrHitSharkClickVerifyCode",e[e.UserUpdateProfileFailed=2060]="UserUpdateProfileFailed",e[e.UserSignatureTooLong=2080]="UserSignatureTooLong",e[e.UserNicknameTooLong=2079]="UserNicknameTooLong",e[e.ErrNicknameUpdateIllegal=2550]="ErrNicknameUpdateIllegal",e[e.ErrCheckMtUpdateUser=2160]="ErrCheckMtUpdateUser",e[e.MtUpdateProfileIsBan=23]="MtUpdateProfileIsBan",e[e.AccountIsBanned=9]="AccountIsBanned",e[e.UpdateNickNameFailedDueToFrequencyControl=3002265]="UpdateNickNameFailedDueToFrequencyControl",e[e.ECommerceNickNameUpdateFailed=3002328]="ECommerceNickNameUpdateFailed"}(k||(k={})),function(e){e[e.NotAvailable=4]="NotAvailable",e[e.InvalidParameters=5]="InvalidParameters",e[e.SUCCESS=0]="SUCCESS",e[e.OtherError=6]="OtherError"}(I||(I={}));let S=class extends o.E{constructor(e,t){super(),this.service=e,this.accountService=t,this.defaultState={uploadImgCode:y,uniqueIdValid:0,checkLoading:!1,nickNameValid:0,saveCode:y,avatarInfo:{url:"",uri:""},newUniqueInfo:{uniqueId:""},checkUniqueIdCode:y,uploadingFile:!1,updatingProfile:!1}}setUploadImgCode(e,t){e.uploadImgCode=t}SetSaveCode(e,t){e.saveCode=t}SetCheckUniqueIdCode(e,t){e.checkUniqueIdCode=t}setUniqueIdValid(e,t){e.uniqueIdValid=t}setCheckLoading(e,t){e.checkLoading=t}setAvatarInfo(e,t){e.avatarInfo=t}setNewUniqueId(e,t){e.newUniqueInfo=t}setNickNameValid(e,t){e.nickNameValid=t}setUploadingFile(e,t){e.uploadingFile=t}setUpdatingProfile(e,t){e.updatingProfile=t}updateUserProfile(e){return e.pipe((0,l.n)((e=>{const{uniqueId:t,needUpdateUniqueId:i,needRemoveBlueV:n}=e,o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}(e,["uniqueId","needUpdateUniqueId","needRemoveBlueV"]);return i?this.accountService.updateUniqueId(t).pipe((0,s.W)((()=>(0,d.of)({data:{error_code:1331}}))),(0,c.Z)((e=>{const{error_code:i}=e,a=[],r=void 0===i,l=1027===i||1028===i||1024===i;return a.push(this.getActions().setUniqueIdValid(l?2:1)),r&&n?this.service.removeBlueV(t).pipe((0,c.Z)((()=>this.handleUpdateProfile(o,t))),(0,s.W)((()=>this.handleUpdateProfile(o,t)))):r?this.handleUpdateProfile(o,t):(0,d.of)(this.getActions().SetSaveCode(i),this.getActions().setUpdatingProfile(!1),...a)})),(0,u.Z)(this.getActions().setUpdatingProfile(!0))):n?this.service.removeBlueV(t).pipe((0,c.Z)((()=>this.handleUpdateProfile(o,t))),(0,s.W)((()=>this.handleUpdateProfile(o,t)))):this.handleUpdateProfile(o,t)})))}handleUpdateProfile(e,t){return Object.values(e).some((e=>void 0!==e))?this.service.updateUserProfile(e).pipe((0,s.W)((()=>(0,d.of)({status_code:1331,user:{unique_id:"",secUid:""}}))),(0,c.Z)((({status_code:e,user:i})=>{const n=[];return 2550===e?n.push(this.getActions().setNickNameValid(2550===e?2:1)):(e===x&&n.push(this.getActions().setNewUniqueId({uniqueId:i.unique_id||t})),n.push(this.getActions().SetSaveCode(e))),(0,d.of)(...n)})),(0,u.Z)(this.getActions().setUpdatingProfile(!0)),(0,p.q)(this.getActions().setUpdatingProfile(!1))):(0,d.of)(this.getActions().setNewUniqueId({uniqueId:t}),this.getActions().SetSaveCode(x),this.getActions().setUpdatingProfile(!1))}checkUniqueId(e){return e.pipe((0,l.n)((e=>this.service.checkUniqueId(e).pipe((0,s.W)((()=>(0,d.of)({status_code:6,is_valid:!1}))),(0,c.Z)((({status_code:e,is_valid:t})=>{const i=[];return t&&4!==e?t&&0===e&&i.push(this.getActions().setUniqueIdValid(1)):i.push(this.getActions().setUniqueIdValid(2)),i.push(this.getActions().SetCheckUniqueIdCode(e)),(0,d.of)(...i)})),(0,u.Z)(this.getActions().setCheckLoading(!0)),(0,p.q)(this.getActions().setCheckLoading(!1))))))}uploadImage(e){return e.pipe((0,l.n)((e=>this.service.uploadImage(e).pipe((0,c.Z)((({status_code:e,data:t})=>{const i={url:"",uri:""};return t&&(i.uri=t.uri,i.url=t.url_list[0]),(0,d.of)(this.getActions().setAvatarInfo(i),this.getActions().setUploadImgCode(e))})),(0,u.Z)(this.getActions().setUploadingFile(!0)),(0,p.q)(this.getActions().setUploadingFile(!1))))))}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setUploadImgCode",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"SetSaveCode",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"SetCheckUniqueIdCode",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setUniqueIdValid",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setCheckLoading",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setAvatarInfo",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setNewUniqueId",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setNickNameValid",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setUploadingFile",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setUpdatingProfile",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[h.c]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"updateUserProfile",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[h.c]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"checkUniqueId",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[h.c]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"uploadImage",null),S=(0,n.__decorate)([(0,r.n)("EditProfileModule"),(0,n.__metadata)("design:paramtypes",[b,g.r])],S)},70119:(e,t,i)=>{i.d(t,{oU:()=>C,yo:()=>w,lD:()=>I,s5:()=>k});var n=i(2787),o=i(53602),a=i(67518),r=i(25616),l=i(60484),s=i(88920),d=i(40099),c=i(24643),u=i(84987);const p={id:"bookmark-23c42bb3",use:"bookmark-23c42bb3-usage",viewBox:"0 0 72 72",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 72" id="bookmark-23c42bb3"><path fill="currentColor" d="m36.206 48.785 24.891 18.36V7.676c0-1.317-.406-2.162-.884-2.658-.463-.482-1.25-.903-2.563-.903H14.762c-1.313 0-2.1.421-2.564.903-.478.496-.884 1.34-.884 2.657v59.472zm0 3.835L11.944 70.516a2.331 2.331 0 0 1-3.715-1.877V7.674c0-3.934 2.481-6.646 6.533-6.646H57.65c4.051 0 6.533 2.712 6.533 6.646V68.64a2.331 2.331 0 0 1-3.716 1.876z" /></symbol>'};var h=i(74364),g=i(99260),m=i(8877),f=i(92032),_=i(62186),v=i(58542);const b=(0,_.default)("div",{target:"e1brhnzw0"})((()=>({height:"92px",width:"92px",backgroundColor:v.Tj4.UISheetFlat2,color:v.Tj4.UIText1,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"})),"label:DivErrorIconWrapper;"),y=(0,n.Y)(o.A,Object.assign({},h.LR)),x=(0,n.Y)((function(e){const t=(0,d.useContext)(u.X);return(0,d.useLayoutEffect)((()=>(t.add(p),()=>{t.remove("bookmark-23c42bb3")})),[]),(0,c.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,c.jsx)("use",{xlinkHref:"#bookmark-23c42bb3"},void 0)}),void 0)}),Object.assign({},h.I9)),C=({Icon:e})=>(0,n.Y)(b,{children:(0,n.Y)(e,{size:"44px"})}),w=(0,d.memo)((function({detailInfo:{statusCode:e}}){const t=(0,m.M_)(),i=(0,g.tg)(),o=(0,d.useCallback)((()=>{t.setUniqueId(void 0),t.getUserInfo(Object.assign({},i))}),[t,i]);return(0,n.Y)(h.QW,{statusCode:e,iconElement:y,onRefresh:o})})),k=(0,d.memo)((function({listInfo:{statusCode:e},detailInfo:t,listKey:i}){var o;const a=(0,f.Ag)(),r=(0,d.useCallback)((()=>{var e,n;a.resetItemList(i),a.getItemList(i,{secUid:null!==(n=null===(e=t.user)||void 0===e?void 0:e.secUid)&&void 0!==n?n:""})}),[a,null===(o=t.user)||void 0===o?void 0:o.secUid,i]);return(0,n.Y)(h.QW,{statusCode:e,iconElement:y,onRefresh:r})})),I=(0,d.memo)((function({listKey:e,detailInfo:t}){const i=(0,r.s)(),{uniqueId:o,secUid:c}=(0,l.L$)(t.user),{colors:u}=(0,a.u)(),{isInProductHoldout:p}=(0,s.Vv)(),m=!p,f=(0,g.b3)({uniqueId:o,secUid:c}),_=(0,d.useMemo)((()=>"favorites"===e?(0,n.Y)("div",{style:{color:u.Primary2},children:x}):m?(0,n.Y)(C,{Icon:v.OBN}):y),[e,u]),b=(0,d.useMemo)((()=>"user-post"===e?f?{title:i("profile_personal_no_content_title"),desc:i("profile_personal_no_content_body")}:{title:i("profile_no_content_title"),desc:i("profile_no_content_des")}:"favorites"===e?{title:i("fc_view_empty_videos_title"),desc:i("fc_view_fav_empty_videos_desc")}:"user-liked"===e?f?{title:i("profile_public_nolikes_title"),desc:i("profile_self_public_nolikes")}:{title:i("profile_public_nolikes_title"),desc:i("profile_others_public_nolikes").replace("%s",o)}:{title:"",desc:""}),[f,e,i,o]);return(0,n.Y)(h.LL,{iconElement:_,emptyTip:b})}))},60193:(e,t,i)=>{i.d(t,{V:()=>h});var n=i(2787),o=i(53602),a=i(20986),r=i(25616),l=i(60484),s=i(88920),d=i(58542),c=i(74364),u=i(99260),p=i(70119);function h({user:e,listKey:t}){const i=(0,r.s)(),{relation:h,openFavorite:g,uniqueId:m="",privateAccount:f,secret:_,secUid:v}=(0,l.L$)(e),b=null!=f?f:_,y=(0,u.b3)({uniqueId:m,secUid:v}),{isInProductHoldout:x}=(0,s.Vv)(),C=!x;return 4===h?{title:i("profile_no_content_title"),desc:i("profile_others_blocked_post_body"),icon:C?(0,n.Y)(p.oU,{Icon:d.O6d}):(0,n.Y)(o.A,Object.assign({},c.LR))}:5===h?{title:i("profile_no_content_title"),desc:i("profile_others_block_post_body"),icon:C?(0,n.Y)(p.oU,{Icon:d.O6d}):(0,n.Y)(o.A,Object.assign({},c.LR))}:b&&!y&&1!==h&&2!==h?{title:i("This account is private"),desc:i("profile_others_private_body"),icon:C?(0,n.Y)(p.oU,{Icon:d.O6d}):(0,n.Y)(o.A,Object.assign({},c.LR))}:"user-liked"!==t||g||y?null:{title:i("profile_others_like_private_title"),desc:i("profile_others_like_private_body").replace("%s",m),icon:(0,n.Y)("div",{"data-e2e":"like-lock-icon",style:{display:"flex"},children:(0,n.Y)(a.A,Object.assign({},c.LR))}),isLikePrivate:!0}}},3885:(e,t,i)=>{i.d(t,{QD:()=>p,XT:()=>s,Yn:()=>c,iH:()=>d,rO:()=>h,tR:()=>g,xI:()=>u});var n=i(62186),o=i(17784),a=i(62738),r=i(72153),l=i(97397);const s=(0,n.default)("div",{target:"e18e4obn0"})((({theme:e})=>[(0,r.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"semiBold",typography:"P1"}),{position:"relative",width:"208px",height:"36px",padding:"0",margin:"0",marginTop:"16px"}]),"label:DivShareFollowContainer;"),d=(0,n.default)("div",{target:"e18e4obn1"})((({hide:e,status:t})=>{const i=t===o.ns||t===o._K,n=t===o.ns||t===o.ze;return[{display:"flex",position:"absolute",left:"0",top:"0",opacity:Number(i),zIndex:e?-1:"unset"},n?{transition:"opacity 0.5s"}:null]}),"label:DivMessageContainer;"),c=(0,n.default)(a.A,{target:"e18e4obn2"})((({theme:{direction:e}})=>(0,r.mp)({direction:e,marginEnd:8})),"label:StyledArrowLeftRight;"),u=(0,n.default)(l.y,{target:"e18e4obn3"})((({theme:{direction:e}})=>[{height:"36px",lineHeight:"22px"},(0,r.mp)({direction:e,marginEnd:8})]),"label:StyledMessageButton;"),p=(0,n.default)("div",{target:"e18e4obn4"})((({hide:e,status:t})=>{const i=t===o.ns||t===o._K,n=t===o.ns||t===o.ze;return[{position:"absolute",left:"0",top:"0",minWidth:"208px",height:"36px",lineHeight:"22px",zIndex:e?-1:"unset",opacity:Number(i)},n?{transition:"opacity 0.5s"}:null]}),"label:DivFollowButtonWrapper;"),h=(0,n.default)(l.y,{target:"e18e4obn5"})({minWidth:"208px",lineHeight:"22px"},"label:StyledFollowButton;"),g=(0,n.default)("div",{target:"e18e4obn6"})((({theme:{direction:e,colors:t}})=>[{display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",width:"36px",height:"36px",border:"1px solid rgba(22, 24, 35, .12)",borderRadius:"4px",cursor:"pointer",position:"relative",backgroundColor:t.BGSecondary2,float:(0,r.t7)(e,"end"),":hover":{backgroundColor:t.BGView}}]),"label:DivFollowIconContainer;")},2501:(e,t,i)=>{i.r(t),i.d(t,{default:()=>xr});var n=i(2787),o=i(72268),a=i.n(o),r=i(40099),l=i(11060),s=i(36488),d=i(43108),c=i(19442),u=i(32125),p=i(84908),h=i(93751),g=i(13549),m=i(57431),f=i(75774),_=i(24834),v=i(74364),b=i(67518),y=i(46682),x=i(41271),C=i(25616),w=i(60484),k=i(79983),I=i(49057),S=i(52333),T=i(39952),Y=i(97397),D=i(33634),F=i(70510),P=i(48455),L=i(43583),j=i(97539),E=i(43626),U=i(62293),M=i(57566),B=i(53962),A=i(95364);const O=(0,U.E)("create_video_playlist")((0,r.memo)((()=>{const[{list:e},t]=(0,y.S)(k.O,{selector:e=>{var t;return null!==(t=e.create_video_playlist)&&void 0!==t?t:{}},dependencies:[]}),{showBrowserMode:i}=(0,r.useContext)(E.g),o=(0,r.useCallback)((e=>()=>{i({index:e,id:"create_video_playlist",playProgress:0,reportTeaParams:{}})}),[i]),a=(0,r.useCallback)((({id:e,index:t})=>(0,n.Y)(B.$E,{target:"_blank",rel:"opener",needPostDragIcon:!0,id:e,index:t,onClickVideoItem:o(t)},e)),[o]),l=(0,r.useCallback)((i=>{if(!i.destination)return;const n=(0,M.Y)(e,i.source.index,i.destination.index);t.setItemListById({key:"create_video_playlist",list:n})}),[t,e]);return(0,n.Y)(A.er,{children:(0,n.Y)(M.q,{onDragEnd:l,renderItem:a,list:e})})})));var z=i(58632),q=i(64162),R=i(4126),N=i(93995),W=i(42051),H=i(8536),$=i(23999),V=i(72916),K=i(20259),G=i(74690),Z=i(80339),J=i(26324),Q=i(64356),X=i(11983),ee=i(38203),te=i(4474),ie=i(26325),ne=i(39228);let oe=class{constructor(e){this.fetch=e}createPlaylistWithItems(e){var t;return this.fetch.post("/api/playlist/create_with_items/",{baseUrlType:2,headers:{[ie.nk]:this.fetch.csrfToken},body:te.stringify({name:e.name,itemIds:null!==(t=e.itemIds)&&void 0!==t?t:""})})}};oe=(0,z.__decorate)([(0,ee._)(),(0,z.__metadata)("design:paramtypes",[ne.pM])],oe);var ae=i(17995),re=i(47479),le=i(97446),se=i(8877);let de=class extends q.E{constructor(e,t,i,n){super(),this.service=e,this.itemList=t,this.t=i,this.jotaiStore=n,this.defaultState={loading:!1,statusCode:0}}setLoading(e,t){e.loading=t}setStatusCode(e,t){e.statusCode=t}setPlaylist(e,t){(0,re.MA)().setPlaylist(t)}setPlaylistDetail(e,t){(0,le._J)().setPlaylistDetail(t)}setProfileState(e,t){(0,se.$4)().setProfileState(t)}resetCreatePlaylistState(e){return e.pipe((0,H.Z)((()=>(0,$.of)(this.getActions().dispose$(),this.getActions().setLoading(!1),this.getActions().setStatusCode(0)))))}createPlaylistWithItems(e){return e.pipe((0,V.n)((({name:e,cover:t,itemIds:i=[],creator:n})=>{const o=this.jotaiStore.get(re.c8),a={name:e,cover:t,itemIds:null==i?void 0:i.join(",")};return this.service.createPlaylistWithItems(a).pipe((0,K.W)((()=>(0,$.of)({statusCode:-1,playlistId:"",statusMsg:""}))),(0,H.Z)((({statusCode:a,playlistId:r="",statusMsg:l=""})=>{const s=0===a?"1":"0",d=i.length;if(T.c.handlePostCreatingPlaylist({status:s,fail_reason:l,video_cnt:d,playlist_id:r}),T.c.handleAddPlaylistVideo({enter_method:"create_playlist",video_cnt:d,playlist_id:r,video_list:i.join(","),status:s}),206001===a)return X.F.open({content:this.t("playlist_webapp_toast_error_cheatPlaylist"),duration:3,widthType:"half"}),(0,$.of)(this.noop());if(0!==a&&206002!==a)return X.F.open({content:this.t("playlist_webapp_toast_error_tryagain"),duration:3,widthType:"half"}),(0,$.of)(this.noop());const{playList:c=[]}=o,u={id:r,name:e,mixId:r,mixName:e,cover:t,videoCount:d,creator:n};return X.F.open({content:this.t("playlist_webapp_toast_created"),type:"success",duration:3,widthType:"half"}),(0,$.of)(this.getActions().setStatusCode(a),this.getActions().setPlaylist(Object.assign(Object.assign({},o),{playList:[r,...c]})),this.getActions().setPlaylistDetail(u),this.itemList.getActions().setItemListById({key:r,list:i}),this.itemList.getActions().resetItemList({key:"create_video_playlist"}),this.itemList.getActions().resetItemList({key:"user-post-public",loading:!1}),this.getActions().setProfileState("initial"))})),(0,G.Z)(this.getActions().setLoading(!0)),(0,Z.q)(this.getActions().setLoading(!1)))})))}};(0,z.__decorate)([(0,R.uk)(),(0,z.__metadata)("design:type",J.c)],de.prototype,"dispose$",void 0),(0,z.__decorate)([(0,R.h5)(),(0,z.__metadata)("design:type",Function),(0,z.__metadata)("design:paramtypes",[Object,Boolean]),(0,z.__metadata)("design:returntype",void 0)],de.prototype,"setLoading",null),(0,z.__decorate)([(0,R.h5)(),(0,z.__metadata)("design:type",Function),(0,z.__metadata)("design:paramtypes",[Object,Number]),(0,z.__metadata)("design:returntype",void 0)],de.prototype,"setStatusCode",null),(0,z.__decorate)([(0,R.h5)(),(0,z.__metadata)("design:type",Function),(0,z.__metadata)("design:paramtypes",[Object,Object]),(0,z.__metadata)("design:returntype",void 0)],de.prototype,"setPlaylist",null),(0,z.__decorate)([(0,R.h5)(),(0,z.__metadata)("design:type",Function),(0,z.__metadata)("design:paramtypes",[Object,Object]),(0,z.__metadata)("design:returntype",void 0)],de.prototype,"setPlaylistDetail",null),(0,z.__decorate)([(0,R.h5)(),(0,z.__metadata)("design:type",Function),(0,z.__metadata)("design:paramtypes",[Object,String]),(0,z.__metadata)("design:returntype",void 0)],de.prototype,"setProfileState",null),(0,z.__decorate)([(0,R.Mj)(),(0,z.__metadata)("design:type",Function),(0,z.__metadata)("design:paramtypes",[J.c]),(0,z.__metadata)("design:returntype",void 0)],de.prototype,"resetCreatePlaylistState",null),(0,z.__decorate)([(0,R.Mj)(),(0,z.__metadata)("design:type",Function),(0,z.__metadata)("design:paramtypes",[J.c]),(0,z.__metadata)("design:returntype",void 0)],de.prototype,"createPlaylistWithItems",null),de=(0,z.__decorate)([(0,N.n)("CreatePlaylistModule"),(0,z.__param)(2,(0,W.y)(Q.hp)),(0,z.__param)(3,(0,W.y)(ae.J7)),(0,z.__metadata)("design:paramtypes",[oe,k.O,Function,Object])],de);const ce=(0,r.memo)((()=>{var e;const t=(0,C.s)(),{isDark:i}=(0,b.u)(),[{targetSecUid:o},a]=(0,se.dF)((e=>{var t;return{targetSecUid:null!==(t=e.secUid)&&void 0!==t?t:""}}),u.bN),[{loading:l},s]=(0,y.S)(de,{selector:e=>({loading:e.loading}),dependencies:[]}),{loading:d=!1,hasMore:c=!0}=(0,w.L$)((0,x.P)(k.O,{selector:e=>e["user-post-public"],dependencies:[]})),{user:h,abTestVersion:g,language:m}=(0,w.L$)((0,I.W)((()=>["user","abTestVersion","language"]),[])),{uid:f}=(0,w.L$)(h),[{list:_=[]},v]=(0,y.S)(k.O,{selector:e=>{var t;return null!==(t=e.create_video_playlist)&&void 0!==t?t:{}},dependencies:[]}),E=null!==(e=_[0])&&void 0!==e?e:"",{video:U,author:M=""}=(0,w.L$)((0,x.P)(S.k,{selector:e=>e[E],dependencies:[E]})),B=(0,w.L$)((0,p.nW)((e=>e.users[M]),u.bN)),{cover:z}=(0,w.L$)(U),{playlistName:q,checkSuccess:R}=(0,x.P)(P.m,{selector:e=>({playlistName:e.playlistName,checkSuccess:e.isValid&&e.hasChecked}),dependencies:[]}),N=0===_.length,W=q.length>0&&q.length<=L.F&&R&&!N,[H,$]=(0,r.useState)(!1),V=(0,r.useCallback)((()=>{$(!0),T.c.handleClickAddPlaylistVideo({enter_method:"create_playlist"})}),[]),K=(0,r.useCallback)((()=>{a.setProfileState("initial")}),[a]);(0,r.useEffect)((()=>()=>v.resetItemList({key:"create_video_playlist"})),[]);const G=(0,r.useCallback)((()=>{!d&&c&&v.getUserVideoListByType({secUid:o,key:"user-post-public",userId:f,abTestVersion:g,language:m,user:h})}),[g,c,v,m,d,o,f,h]),Z=(0,r.useCallback)((()=>{l||s.createPlaylistWithItems({name:q,itemIds:_,cover:z,creator:B})}),[z,l,s,B,q,_]);return(0,n.FD)(F.mn,{children:[(0,n.FD)(F.cv,{children:[(0,n.FD)(A.T,{onClick:K,children:[(0,n.Y)(A.Ul,{}),t("playlist_webapp_creation_backBtn")]}),(0,n.FD)(A.wV,{children:[(0,n.Y)(A.AE,{children:t("playlist_webapp_creation_header_create")}),(0,n.Y)(A.JX,{children:t("playlist_webapp_creation_desc")}),(0,n.FD)(A.Y4,{children:[(0,n.Y)(A.TQ,{children:t("playlist_webapp_upload_dropdown_nameaplaylist")}),(0,n.FD)(A.iT,{children:[(0,n.Y)(A.EU,{isRed:q.length>L.F,children:`${q.length}`}),"Â ",(0,n.Y)(A.EU,{children:` / ${L.F}`})]})]}),(0,n.Y)(L.y,{}),(0,n.FD)(A.Y4,{children:[(0,n.FD)(A.TQ,{children:[t("videos")," ",_.length>0?`(${_.length})`:""]}),!N&&(0,n.FD)(A.vx,{onClick:V,children:[(0,n.Y)(A.iP,{}),t("playlist_webapp_upload_addtoplaylist")]})]}),N&&(0,n.FD)(A.OA,{onClick:V,children:[i?(0,n.Y)(A.sJ,{}):(0,n.Y)(A.S_,{}),(0,n.Y)(A.RX,{children:t("playlist_webapp_creation_selectvid_desc")})]}),!N&&(0,n.Y)(O,{}),(0,n.FD)(F.dJ,{children:[(0,n.Y)(Y.y,{style:D.i9,onClick:K,children:t("playlist_webapp_creation_btn_cancel")}),(0,n.Y)(Y.y,{style:D.i9,disabled:!W,loading:l,buttonTheme:"primary",loadingFill:i?"#fff":void 0,onClick:Z,children:t("playlist_webapp_creation_btn_create")})]})]})]}),(0,n.Y)(j.$,{itemListKey:"user-post-public",drawerActive:H,setDrawerActive:$,onHitBottom:G,selectedVideoListKey:"create_video_playlist"})]})}));var ue=i(70119),pe=i(88920),he=i(40935),ge=i(44935),me=i(89311),fe=i(26192),_e=i(7859),ve=i(39771),be=i(72688),ye=i(70294),xe=i(59504),Ce=i(25047),we=i(73580),ke=i(87664),Ie=i(48615),Se=i(81211),Te=i(37434),Ye=i(86152),De=i(58305),Fe=i(45297),Pe=i(52913),Le=i(54129),je=i(82548),Ee=i(93608),Ue=i(97706),Me=i(62186),Be=i(72153);const Ae=(0,Me.default)("div",{target:"e162h3pn0"})({padding:"16px",width:"264px",wordBreak:"break-word"},"label:DivTipWrapper;"),Oe=(0,Me.default)("h3",{target:"e162h3pn1"})((({theme:e})=>(0,Be.zy)({theme:e,typography:"P2",color:"ConstTextInverse",fontWeight:"semiBold"})),{marginBottom:"4px"},"label:H3TipTitle;"),ze=(0,Me.default)("p",{target:"e162h3pn2"})((({theme:e})=>(0,Be.zy)({theme:e,typography:"P3",color:"ConstTextInverse"})),"label:PTipDesc;"),qe=(0,Me.default)("div",{target:"e162h3pn3"})({display:"flex",justifyContent:"flex-end"},"label:DivButtonWrapper;"),Re=(0,Me.default)("button",{target:"e162h3pn4"})(Be.WA,(({theme:e})=>(0,Be.zy)({theme:e,typography:"P2",color:"ConstTextInverse",fontWeight:"semiBold"})),{cursor:"pointer"},"label:ButtonOk;"),Ne=(0,Me.default)("button",{target:"e162h3pn5"})(Be.WA,(({theme:e})=>(0,Be.zy)({theme:e,typography:"P2",color:"ConstTextInverse",fontWeight:"semiBold"})),{cursor:"pointer"},"label:ButtonCancel;"),We=(0,r.memo)((({showPopover:e,title:t,description:i,cancelText:o,okText:a,onOkClick:l,onCancel:s})=>{const{colors:d,direction:c}=(0,b.u)(),u=(0,r.useRef)(!1);(0,r.useEffect)((()=>{let t;return e&&(t=window.setTimeout((()=>{u.current=!0,s("auto_cancel")}),5e3)),()=>clearTimeout(t)}),[s,e]),(0,r.useEffect)((()=>()=>{e&&!u.current&&s("other")}),[e]);const p=(0,r.useCallback)((()=>{l()}),[l]),h=(0,r.useCallback)((()=>{u.current=!0,s("cancel")}),[s]),g="ltr"===c?"bottomLeft":"bottomRight";return(0,n.Y)(Ue.z,{active:e,backgroundColor:d.ConstSecondary2,placement:g,arrowMargin:"58px",margin:"0",children:(0,n.FD)(Ae,{children:[(0,n.Y)(Oe,{children:t}),(0,n.Y)(ze,{children:i}),(0,n.FD)(qe,{children:[(0,n.Y)(Ne,{onClick:h,children:o}),a&&(0,n.Y)(Re,{onClick:p,children:a})]})]})})}));var He=i(73635),$e=i(1257),Ve=i(47926),Ke=i(26847),Ge=i(12527),Ze=i(73211),Je=i(83162);const Qe=(0,Me.default)("div",{target:"e1gjao0r0"})((({theme:e})=>[(0,Be.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{height:"72px",padding:"12px 24px 0 24px",boxSizing:"border-box",fontSize:"24px",color:e.colors.TextPrimary,display:"flex",alignItems:"center",background:e.colors.BGPrimary}]),"label:DivHeaderContainer;"),Xe=(0,Me.default)("div",{target:"e1gjao0r1"})({lineHeight:"36px"},"label:DivText;"),et=(0,Me.default)("div",{target:"e1gjao0r2"})((({theme:e})=>[{cursor:"pointer",width:"24px",height:"24px",display:"inline-block",transform:"rtl"===e.direction?"rotateY(180deg)":""},(0,Be.mp)({direction:e.direction,marginEnd:"8px"})]),"label:DivArrow;"),tt=(0,Me.default)("div",{target:"e1gjao0r3"})({background:"#000000",paddingTop:"32px"},"label:DivContentContainer;"),it=(0,Me.default)("div",{target:"e1gjao0r4"})({height:"441px",width:"700px",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},"label:DivZoomArea;"),nt=(0,Me.default)("div",{target:"e1gjao0r5"})({width:"360px",height:"360px",borderRadius:"360px",boxShadow:"0 0 0 250px rgba(0, 0, 0, 0.3)",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:DivMask;"),ot=(0,Me.default)("div",{target:"e1gjao0r6"})({fontSize:"14px",lineHeight:"22px",color:"#ffffff",height:"69px",display:"flex",alignItems:"center",justifyContent:"center"},"label:DivSlider;"),at=(0,Me.default)("span",{target:"e1gjao0r7"})((({theme:e})=>(0,Be.mp)({direction:e.direction,marginEnd:"16px"})),"label:SpanLabel;"),rt=(0,Me.default)("div",{target:"e1gjao0r8"})((({theme:{colors:e}})=>({height:"86px",display:"flex",padding:"0 24px",justifyContent:"flex-end",alignItems:"center",background:e.BGPrimary})),"label:DivFooterContainer;"),lt=(0,Me.default)(Y.y,{target:"e1gjao0r9"})((({theme:e})=>[{lineHeight:"24px",minWidth:"0",padding:"7px 16px"},(0,Be.mp)({direction:e.direction,marginStart:"16px"})]),"label:StyledBtn;"),st=(0,Me.default)("div",{target:"e1gjao0r10"})({width:"320px",height:"16px",position:"relative"},"label:DivSliderContainer;"),dt=(0,Me.default)("div",{target:"e1gjao0r11"})({height:"6px",borderRadius:"3px",background:"#ffffff",position:"absolute",width:"100%",left:"0",top:"5px",cursor:"pointer"},"label:DivSliderBar;"),ct=(0,Me.default)("div",{target:"e1gjao0r12"})({height:"6px",borderRadius:"3px",width:"100%",position:"absolute",left:"0",top:"5px",cursor:"pointer",overflow:"hidden"},"label:DivSliderProgress;"),ut=(0,Me.default)("div",{target:"e1gjao0r13"})({width:"100%",background:"#FE2C55",height:"100%",transformOrigin:"left"},"label:DivSliderColor;"),pt=(0,Me.default)("div",{target:"e1gjao0r14"})((({theme:e})=>[{width:"16px",height:"16px",borderRadius:"16px",background:"#FE2C55",position:"absolute",top:0,left:0,cursor:"pointer"},(0,Be.mp)({direction:e.direction,marginStart:"-8px"})]),"label:DivSliderDot;"),ht=(0,Me.default)("img",{target:"e1gjao0r15"})({maxWidth:"unset"},"label:Img;"),gt=(0,r.memo)((({onPercentChange:e,transformScalePercent:t})=>{const i=(0,r.useRef)(null),o=(0,r.useRef)(null),a=(0,r.useRef)(null),l=(0,r.useRef)(null),{direction:s}=(0,b.u)(),d=(0,r.useCallback)((t=>{e(t)}),[e]),{percent:c,bindDrag:u,seek:p,update:h}=(0,Je.M)({direction:s,progressRef:l,circleRef:a,barRef:o,initialPercent:0,draggingPercentCb:d});(0,r.useEffect)((()=>{h(t)}),[h,t]);const g="ltr"===s?{left:`calc(${100*c}%)`}:{right:`calc(${100*c}%)`},m="ltr"===s?{transform:`scaleX(${c})`}:{transform:`scaleX(${c})`,transformOrigin:"right"};return(0,n.FD)(st,{ref:i,children:[(0,n.Y)(dt,{onMouseDown:u,onClick:p,ref:l}),(0,n.Y)(ct,{ref:o,onClick:p,onMouseDown:u,children:(0,n.Y)(ut,{style:m})}),(0,n.Y)(pt,{style:g,onMouseDown:u,ref:a})]})}));const mt=360,ft=(0,r.memo)((({onClose:e,onSaveAvatar:t,imageInfo:i,style:o={}})=>{const{url:a,width:l,height:s,initScale:d}=i,[c,u]=(0,r.useState)(0),[{uploadImgCode:p,uploadingFile:h},g]=(0,y.S)(Ze.it),m=(0,C.s)(),f=(0,r.useRef)(null),_=(0,r.useCallback)((()=>{e()}),[e]);(0,r.useEffect)((()=>{p===Ze.CS?t():p!==Ze.jp&&X.F.open({content:m("editprofile_editpage_error_photofail_others"),duration:2})}),[p,t,m]);const v=(0,r.useCallback)((()=>{return e=void 0,t=void 0,n=function*(){if(f.current){const{positionX:e,positionY:t,scale:i}=f.current.state;try{const n=yield function(e,t,i,n){return new Promise(((o,a)=>{const r=new Image;r.src=e,r.onload=()=>{const e=document.createElement("canvas");e.width=200,e.height=200;const a=e.getContext("2d"),l=0-t/n,s=0-i/n,d=360/n,c=360/n;null==a||a.drawImage(r,l,s,d,c,0,0,200,200),e.toBlob((e=>{e&&o(e)}))},r.onerror=()=>{a()}}))}(a,e,t,i*d);g.uploadImage(n)}catch(e){X.F.open({content:m("editprofile_editpage_error_photofail_others"),duration:2})}}},new((i=void 0)||(i=Promise))((function(o,a){function r(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,l)}s((n=n.apply(e,t||[])).next())}));var e,t,i,n}),[d,a,g,m]),b=(0,r.useMemo)((()=>({direction:"ltr",height:"360px",width:"360px",overflow:"unset"})),[]),x=(0,r.useMemo)((()=>({cursor:"move"})),[]),w=(0,r.useCallback)((e=>{const{scale:t}=e.state;u(Math.max(t-1,0)/7)}),[]),k=(0,r.useCallback)((e=>{if(f.current){const{setTransform:t,state:{positionX:i,positionY:n,scale:o}}=f.current,a=7*e+1;let r=Math.min(i-l*(a-o)/2,0),d=Math.min(n-s*(a-o)/2,0);d+s*a<mt&&(d=mt-s*a),r+l*a<mt&&(r=mt-l*a),t(r,d,a)}}),[s,l]);return(0,n.FD)("div",{style:o,children:[(0,n.FD)(Qe,{children:[(0,n.Y)(et,{onClick:_,children:(0,n.Y)(Ge.A,{width:24,height:24})}),(0,n.Y)(Xe,{children:m("editprofile_editpage_photo_editphoto")})]}),(0,n.Y)(tt,{children:(0,n.FD)(Ke.GT,{centerOnInit:!0,ref:f,onZoom:w,maxScale:8,initialScale:1,children:[(0,n.FD)(it,{children:[(0,n.Y)(Ke.WZ,{wrapperStyle:b,contentStyle:x,children:(0,n.Y)(ht,{src:a,width:l,height:s})}),(0,n.Y)(nt,{})]}),(0,n.FD)(ot,{children:[(0,n.Y)(at,{children:m("editprofile_editimage_zoom")}),(0,n.Y)(gt,{transformScalePercent:c,onPercentChange:k})]})]})}),(0,n.FD)(rt,{children:[(0,n.Y)(lt,{size:"tiny",onClick:_,children:m("editprofile_cancel")}),(0,n.Y)(lt,{disabled:h,size:"tiny",buttonTheme:"primary",onClick:v,children:m("editprofile_editpage_photo_apply")})]})]})}));var _t=i(7914);const vt=[{title:"editprofile_editpage_username_confirmtitle",info:"editprofile_editpage_username_confirmtext"},{title:"nickname_change_pop_up_title",info:"nickname_change_pop_up_description",replaceTag:"%d"},{title:"nickname_username_change_pop_up_title",info:"nickname_username_change_pop_up_description",replaceTag:"%d"}],bt=(0,r.memo)((({onCancel:e,onConfirm:t,active:i,changeType:o,replaceStr:a,isVerified:l,nextStep:s})=>{const d=(0,C.s)(),c=(0,r.useCallback)((()=>{e()}),[e]),u=(0,r.useCallback)((()=>{l?s((e=>Object.assign(Object.assign({},e),{confirmStep:"blueVConfirm"}))):t(!1)}),[l,s,t]),p=vt[o];let h=d(p.info);return p.replaceTag&&(h=h.replace(p.replaceTag,a)),(0,n.FD)(_t.Le,{"data-e2e":"set-username-popup",children:[(0,n.Y)(_t.T8,{"data-e2e":"set-username-popup-title",children:d(p.title)}),(0,n.Y)(_t.Br,{"data-e2e":"set-username-popup-desc",children:h}),(0,n.FD)(_t.dJ,{children:[(0,n.Y)(_t.Qs,{"data-e2e":"set-username-popup-cancel",onClick:c,children:d("editprofile_cancel")}),(0,n.Y)(_t.Qs,{"data-e2e":"set-username-popup-confirm",disabled:!i,buttonTheme:"primary",onClick:u,children:d("nickname_username_change_pop_up_cta_2")})]})]})})),yt=[{title:"blue_v_change_username_modal_title",desc1:"blue_v_change_username_modal_desc",desc2:"blue_v_change_username_modal_desc_2"},{title:"blue_v_change_name_modal_title",desc1:"blue_v_change_name_modal_desc",desc2:"blue_v_change_name_modal_desc_2"},{title:"blue_v_change_username_name_modal_title",desc1:"blue_v_webapp_change_name_modal_desc",desc2:"blue_v_webapp_change_name_modal_desc_2"}],xt=(0,r.memo)((({onCancel:e,nextStep:t,changeType:i})=>{const o=(0,C.s)(),a=(0,r.useCallback)((()=>{e()}),[e]),l=(0,r.useCallback)((()=>{t((e=>Object.assign(Object.assign({},e),{confirmStep:"loseVerifyConfirm"})))}),[t]),s=(0,r.useCallback)((()=>{t((e=>Object.assign(Object.assign({},e),{confirmStep:"submitConfirm"})))}),[t]),d=yt[i];return(0,n.FD)(_t.Le,{children:[(0,n.Y)(_t.T8,{children:o(d.title)}),(0,n.FD)(_t.Iz,{children:[(0,n.Y)(_t.ip,{children:o(d.desc1)}),(0,n.Y)(_t.ip,{children:o(d.desc2)})]}),(0,n.FD)("div",{children:[(0,n.Y)(_t.$s,{buttonTheme:"primary",onClick:s,children:o("blue_v_change_name_modal_submit_request_btn")}),(0,n.Y)(_t.$s,{onClick:l,children:o("blue_v_change_name_modal_change_btn")}),(0,n.Y)(_t.Hn,{buttonTheme:"default",onClick:a,children:o("blue_v_change_name_review_cancel_btn")})]})]})})),Ct=[{info:"blue_v_change_username_lose_badge_modal_title",replaceUserNameTag:"%s"},{info:"blue_v_change_name_lose_badge_modal_title",replaceNameTag:"%s"},{info:"blue_v_webapp_change_name_lose_badge_modal_title",replaceUserNameTag:"%1s",replaceNameTag:"%2s"}],wt=(0,r.memo)((({onCancel:e,onConfirm:t,changeType:i,username:o,name:a})=>{const{updatingProfile:l}=(0,x.P)(Ze.it),s=(0,C.s)(),d=(0,r.useCallback)((()=>{e()}),[e]),c=(0,r.useCallback)((()=>{!l&&t(!0)}),[t,l]),u=Ct[i];let p=s(u.info);u.replaceUserNameTag&&(p=p.replace(u.replaceUserNameTag,o)),u.replaceNameTag&&(p=p.replace(u.replaceNameTag,a));const{colors:h}=(0,b.u)();return(0,n.FD)(_t.Le,{children:[(0,n.Y)(_t.T8,{children:p}),(0,n.Y)(_t.Br,{children:s("blue_v_change_name_lose_badge_modal_desc")}),(0,n.FD)(_t.dJ,{children:[(0,n.Y)(_t.Qs,{disabled:l,onClick:d,children:s("blue_v_change_name_review_cancel_btn")}),(0,n.Y)(_t.Qs,{buttonTheme:"primary",onClick:c,children:l?(0,n.Y)(_t.RY,{fill:h.ConstTextInverse,width:20,height:20}):s("blue_v_change_name_lose_badge_confirm_btn")})]})]})}));var kt=i(97614),It=i(75431),St=i(54502),Tt=i(28367),Yt=i(13685);const Dt=(0,Me.default)("div",{target:"e13yu7jj0"})((({showVerified:e})=>({height:e?"754px":"700px"})),"label:DivModalContainer;"),Ft=(0,Me.default)("div",{target:"e13yu7jj1"})((({theme:e})=>[{padding:"24px 24px 12px 24px",lineHeight:"36px",borderBottom:`0.5px solid ${e.colors.LinePrimary2}`,display:"flex",justifyContent:"space-between",alignItems:"center"}]),"label:DivHeaderContainer;"),Pt=(0,Me.default)("h1",{target:"e13yu7jj2"})((({theme:e})=>[(0,Be.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"24px",color:e.colors.TextPrimary}]),"label:H1Header;"),Lt=(0,Me.default)("div",{target:"e13yu7jj3"})((({theme:e})=>[{width:"24px",height:"24px",cursor:"pointer","&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}},(0,Be.mp)({direction:e.direction,marginEnd:"12px"})]),"label:DivCloseContainer;"),jt=(0,Me.default)("div",{target:"e13yu7jj4"})((({theme:{colors:e}})=>({height:"86px",display:"flex",padding:"0 24px",justifyContent:"flex-end",borderTop:`0.5px solid ${e.LinePrimary2}`,alignItems:"center",position:"absolute",width:"100%",bottom:0})),"label:DivFooterContainer;"),Et=(0,Me.default)(Y.y,{target:"e13yu7jj5"})((({theme:e})=>[{lineHeight:"24px",padding:"7px 16px",minWidth:"96px",height:"36px"},(0,Be.mp)({direction:e.direction,marginStart:"16px"})]),"label:StyledBtn;"),Ut=(0,Me.default)("div",{target:"e13yu7jj6"})({width:"700px",padding:"8px 24px 0 24px"},"label:DivContentContainer;"),Mt=(0,Me.default)("div",{target:"e13yu7jj7"})({padding:"16px 0",display:"flex"},"label:DivItemContainer;"),Bt=(0,Me.default)(Mt,{target:"e13yu7jj10"})((({theme:{colors:e}})=>({borderBottom:`0.5px solid ${e.TUXLineSecondary3}`})),"label:StyledItemContainerWithLine;"),At=(0,Me.default)("div",{target:"e13yu7jj11"})((({theme:e})=>[(0,Be.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{lineHeight:"24px",fontSize:"16px",width:"120px",marginRight:"24px"}]),"label:DivLabel;"),Ot=(0,Me.default)("div",{target:"e13yu7jj12"})({position:"relative",height:"96px"},"label:DivAvatarContent;"),zt=(0,Me.default)("div",{target:"e13yu7jj13"})({position:"relative"},"label:DivEditAreaContainer;"),qt=(0,Me.default)("input",{target:"e13yu7jj14"})((({theme:{colors:e}})=>({width:"360px",height:"38px",borderRadius:"4px",background:e.BGInput,caretColor:"#fe2c55",fontSize:"16px",color:e.TextPrimary,lineHeight:"24px",outline:"none",border:"none",padding:"7px 12px",boxSizing:"border-box","&:focus":{background:e.BGInput2,outline:"1.5px solid rgba(22, 24, 35, 0.2)"}})),"label:InputText;"),Rt=(0,Me.default)("div",{target:"e13yu7jj15"})((({theme:{colors:e}})=>({fontSize:"16px",lineHeight:"24px",color:e.TextPrimary,marginBottom:"16px"})),"label:DivReadOnlyText;"),Nt=qt.withComponent("textarea"),Wt=(0,Me.default)(Nt,{target:"e13yu7jj16"})({height:"100px",padding:"12px",resize:"none"},"label:StyledInputTextArea;"),Ht=(0,Me.default)("p",{target:"e13yu7jj17"})((({theme:{colors:e}})=>({fontSize:"12px",color:e.TextSecondary,lineHeight:"18px",marginTop:"16px",maxWidth:"460px",overflow:"hidden"})),"label:PProfileSite;"),$t=(0,Me.default)(Ht,{target:"e13yu7jj18"})({marginTop:"8px",width:"360px"},"label:StyledTip;"),Vt=(0,Me.default)("div",{target:"e13yu7jj19"})((({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"12px",lineHeight:"18px"})),"label:DivTextCount;"),Kt=(0,Me.default)("div",{target:"e13yu7jj20"})((({theme:e})=>[{width:"32px",height:"32px",borderRadius:"16px",background:e.colors.BGTertiary,border:"1px solid #D0D0D3",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"absolute",bottom:"0","&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}},(0,Be.mp)({direction:e.direction,marginStart:"192px"})]),"label:DivAvatarEditIcon;"),Gt=(0,Me.default)(Yt.i,{target:"e13yu7jj21"})((({theme:e})=>(0,Be.mp)({direction:e.direction,marginStart:"128px"})),"label:StyledAvatar;"),Zt=(0,Me.default)("input",{target:"e13yu7jj22"})({width:"1px",height:"1px",position:"absolute",top:0,left:0,opacity:0},"label:InputUpload;"),Jt=(0,Me.default)("p",{target:"e13yu7jj23"})({height:"18px",lineHeight:"18px",color:"#FF4C3A",fontSize:"12px",marginTop:"6px"},"label:PInputError;"),Qt=(0,Me.default)(St.A,{target:"e13yu7jj24"})((({theme:e})=>[(0,Be.mp)({direction:e.direction,start:"328px"}),{position:"absolute",top:"11px"}]),"label:StyledTickBold;"),Xt=(0,It.i7)({from:{transform:"rotateZ(0)"},to:{transform:"rotateZ(360deg)"}}),ei=(0,Me.default)(Tt.A,{target:"e13yu7jj25"})((({theme:e})=>[(0,Be.mp)({direction:e.direction,end:"12px"}),{position:"absolute",top:"7px",animation:`${Xt} 1s infinite`}]),"label:StyledProgressCircle;"),ti=e=>{const{onBioChange:t,bio:i,bioValid:o,onBioValidChange:a}=e,l=(0,C.s)(),s=(0,r.useCallback)((e=>{const{value:i}=e.target;i.split("\n").length<=5?(a("bioValid",i.length<=80),t("bio",i)):X.F.open({content:l("editprofile_editpage_error_row"),duration:2})}),[t,a,l]);return(0,n.FD)(zt,{children:[(0,n.Y)(Wt,{"data-e2e":"edit-profile-bio-input",style:{outline:o?"":"1.5px solid #FF4C3A"},placeholder:l("editprofile_editpage_bio"),onChange:s,value:i}),(0,n.FD)(Vt,{children:[(0,n.FD)("span",{style:{color:o?"":"#FF4C3A"},children:[i.length,"/"]}),80]})]})};var ii=i(50490);const ni=["jpg","jpeg","png","tiff","heic","webp"],oi=ni.map((e=>`.${e}`)).join(","),ai=({fileUploadRef:e,processCallback:t,errorCallback:i})=>{const n=(0,r.useRef)({url:"",width:0,height:0,initScale:1}),o=(0,r.useCallback)((()=>{e.current.value="",e.current.click()}),[e]),a=(0,r.useCallback)((e=>{return o=void 0,a=void 0,l=function*(){const o=e.target.files[0];if(o.size>10485760)return void i(0);try{const e=yield(e=>new Promise(((t,i)=>{const n=new FileReader;n.onload=function(e){var n,o,a;const r=null===(n=e.target)||void 0===n?void 0:n.result;if(r&&"string"!=typeof r){const e=null!==(o=(0,ii.filetypeinfo)(new Uint8Array(r)))&&void 0!==o?o:[{typename:""}];t(null===(a=e[0])||void 0===a?void 0:a.typename)}else i()},n.onerror=()=>{i()},n.readAsArrayBuffer(e)})))(o);if(!ni.includes(e))return void i(1)}catch(e){return void i(1)}const a=URL.createObjectURL(o),{width:r,height:l}=yield function(e){return new Promise(((t,i)=>{const n=new Image;n.src=e,n.onload=()=>{t({width:n.width,height:n.height})},n.onerror=()=>{i()}}))}(a);let s=mt,d=mt;r>l?s=d*r/l:d=s*l/r,n.current={url:a,width:s,height:d,initScale:s/r},t()},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{s(l.next(e))}catch(e){t(e)}}function n(e){try{s(l.throw(e))}catch(e){t(e)}}function s(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r((function(e){e(o)}))).then(i,n)}s((l=l.apply(o,a||[])).next())}));var o,a,r,l}),[t,i]);return{handleFileChange:a,imageInfoRef:n,handleAvatarEditIconClick:o}},ri=e=>{const{onNameChange:t,onNameErrorChange:i,name:o,nameErrMsg:a,nameChangeInfo:l,nickNameControlDay:s}=e,d=(0,C.s)(),{nickNameValid:c}=(0,x.P)(Ze.it);(0,r.useEffect)((()=>{1===c?i("nameErrMsg",""):2===c&&i("nameErrMsg",d("editprofile_editpage_error_namenotavail"))}),[c,i,d]);const u=(0,r.useCallback)((e=>{const{value:n}=e.target;n.length>30?i("nameErrMsg",d("editprofile_editpage_error_max")):i("nameErrMsg",""),t("name",n)}),[t,i,d]);return(0,n.Y)(zt,{"data-e2e":"edit-profile-name-input",children:l.changeable?(0,n.FD)(n.FK,{children:[(0,n.Y)(qt,{"aria-invalid":Boolean(a),"aria-label":a,style:{outline:a?"1.5px solid #FF4C3A":""},placeholder:d("editprofile_editpage_name"),value:o,onChange:u}),a?(0,n.Y)(Jt,{children:a}):(0,n.Y)($t,{children:d("nickname_change_1st_time_description").replace("%d",s)})]}):(0,n.FD)(n.FK,{children:[(0,n.Y)(Rt,{children:o}),(0,n.Y)($t,{children:d("nickname_change_description").replace("%d",s).replace("%s",l.nextTimeStr)})]})})};var li=i(90159);const si=/^[0-9a-z._A-Z]{2,24}$/,di=e=>{const{username:t,onUsernameChange:i,onUsernameErrorChange:o,uniqueIdChangeInfo:a,usernameErrMsg:l}=e,[{checkLoading:s,uniqueIdValid:d,checkUniqueIdCode:c},u]=(0,y.S)(Ze.it),p=(0,C.s)(),{colors:h}=(0,b.u)(),g=(0,li.d7)((e=>{u.checkUniqueId(e.toLowerCase())}),[u],1e3);(0,r.useEffect)((()=>{1===d&&si.test(t)?o("usernameErrMsg",""):2===d&&o("usernameErrMsg",p("editprofile_editpage_error_notavailable"))}),[d,t]),(0,r.useEffect)((()=>{6===c&&X.F.open({content:p("editprofile_editpage_error_tryagain"),duration:2})}),[c]);const m=(0,r.useCallback)((e=>{const{value:t}=e.target;t.length<2?o("usernameErrMsg",p("editprofile_editpage_error_min2char")):t.length>24?o("usernameErrMsg",p("editprofile_editpage_error_username_max")):si.test(t)?g(t):o("usernameErrMsg",p("editprofile_editpage_error_notavailable")),i("userName",t)}),[g,i,o,p]);return(0,n.Y)(zt,{"data-e2e":"edit-profile-username-input",children:a.changeable?(0,n.FD)(n.FK,{children:[(0,n.Y)(qt,{"aria-invalid":Boolean(l),"aria-label":l,style:{outline:l?"1.5px solid #FF4C3A":""},placeholder:p("editprofile_editpage_username"),value:t,onChange:m}),(()=>{const e=l,t=d;return e?(0,n.Y)(Jt,{children:e}):s?(0,n.Y)(ei,{fill:h.LineInput,width:24,height:24}):t?(0,n.Y)(Qt,{fill:"#0BE09B",width:16,height:16}):void 0})(),(0,n.FD)(Ht,{"data-e2e":"edit-profile-username-link",children:["www.tiktok.com/@",t]}),(0,n.Y)($t,{"data-e2e":"edit-profile-username-tip",children:p("editprofile_editpage_username_subtext1")})]}):(0,n.FD)(n.FK,{children:[(0,n.Y)(Rt,{children:t}),(0,n.FD)(Ht,{children:["www.tiktok.com/@",t]}),(0,n.Y)($t,{children:p("editprofile_editpage_username_subtext2").replace("%s",a.nextTimeStr)})]})})},ci="reset",ui="report",pi=(0,r.memo)((({visible:e=!1,user:t,onCloseModal:i,onUpdated:o,uniqueIdChangeInfo:a,editProfileFrom:l,nameChangeInfo:s,nickNameControlDay:d})=>{const{signature:c,nickname:u,avatarThumb:p,uniqueId:h}=t,[g,m]=(0,r.useState)(!1),[{confirmStep:f,changeType:_},v]=(0,r.useState)({changeType:3,confirmStep:"none"}),x=(0,r.useRef)(null),[{checkLoading:w,avatarInfo:k,saveCode:I,updatingProfile:S},T]=(0,y.S)(Ze.it),Y=(0,C.s)(),D=Boolean(t.verified),F=(0,r.useCallback)(((e,i)=>{if(i.type===ui){const n=i.playload?2:1;return Le.s.handleSaveReport(Object.assign(Object.assign({},((e,t,i)=>({username_updated:e.userName===t.uniqueId?0:i,photo_updated:e.avatar===t.avatarThumb?0:i,bio_updated:e.bio===t.signature?0:i,name_updated:e.name===t.nickname?0:i}))(e,t,n)),{enter_from:l})),e}return i.type===ci?Object.assign(Object.assign({},e),i.playload):Object.assign(Object.assign({},e),{[i.type]:i.playload})}),[t,l]),[P,L]=(0,r.useReducer)(F,{userName:h,name:u,bio:c,avatar:p,nameErrMsg:"",usernameErrMsg:"",bioValid:!0}),j=(0,r.useMemo)((()=>((e,t,i,n,o)=>{const{name:a,userName:r,bio:l,nameErrMsg:s,usernameErrMsg:d,bioValid:c,avatar:u}=e,{nickname:p,signature:h,uniqueId:g,avatarThumb:m}=i,f=Boolean(a)&&a!==p,_=Boolean(r)&&r!==g,v=l!==h,b=Boolean(o.uri&&u!==m);return(f||_||v||b)&&!s&&!d&&!n&&c&&!t})(P,S,t,w,k)),[P,S,w,t,k]),E=(0,r.useCallback)((()=>{m(!0)}),[]),U=(0,r.useCallback)((e=>{const t=((e,t)=>{let i="";return 0===e?i=t("editprofile_editpage_error_photofail_max"):1===e&&(i=t("editprofile_editpage_error_image_cantuse")),i})(e,Y);X.F.open({content:t,duration:2})}),[Y]),{imageInfoRef:M,handleAvatarEditIconClick:B,handleFileChange:A}=ai({fileUploadRef:x,processCallback:E,errorCallback:U}),O=(0,r.useCallback)((e=>{A(e)}),[A]);(0,r.useEffect)((()=>{k.url&&L({type:"avatar",playload:k.url})}),[k]),(0,r.useEffect)((()=>{if(!S){if(0===I)return L({type:ui}),void o("submitConfirm"===f);const e=((e,t,i)=>{let n="";switch(e){case 1332:n=t("editprofile_editpage_error_cantmodify_others");break;case 1333:n=t("editprofile_editpage_error_cantmodify_review");break;case 1330:n=t("editprofile_editpage_error_username_cantchange");break;case 23:n=t("alert_user_update_profile_limited_toast");break;case 9:n=t("account_status_banned");break;case 3002265:n=t("nickname_change_fail_toast").replace("%d",i);break;case 3002328:n=t("ecom_changename_web");break;default:e!==Ze.jp&&(n=t("editprofile_editpage_error_tryagain"))}return n})(I,Y,d);e&&L({type:ui,playload:" "}),e&&X.F.open({content:e,duration:2})}}),[I,S,f]);const z=(0,r.useCallback)((()=>{L({type:ci,playload:{userName:h,name:u,bio:c,avatar:p,nameErrMsg:"",usernameErrMsg:"",bioValid:!0}}),T.setUpdatingProfile(!1),T.setAvatarInfo({uri:"",url:""}),T.SetSaveCode(Ze.jp),T.setNickNameValid(0),T.setUploadImgCode(Ze.jp),T.setUniqueIdValid(0)}),[p,T,u,c,h]);(0,r.useEffect)((()=>{L({type:ci,playload:{userName:h,name:u,bio:c,avatar:p,nameErrMsg:"",usernameErrMsg:"",bioValid:!0}})}),[p,u,c,h]);const q=(0,r.useCallback)((()=>{i(),Le.s.handleCancelEditProfile({enter_from:l}),z()}),[l,i,z]),R=(0,r.useCallback)((()=>{P.userName!==h&&P.name!==u?v({changeType:2,confirmStep:"frequencyConfirm"}):P.userName!==h?v({changeType:0,confirmStep:"frequencyConfirm"}):P.name!==u?v({changeType:1,confirmStep:"frequencyConfirm"}):T.updateUserProfile({signature:P.bio!==c?P.bio:void 0,nickname:P.name!==u?P.name:void 0,avatar_uri:k.uri?k.uri:void 0,uniqueId:P.userName.toLowerCase(),needUpdateUniqueId:P.userName.toLowerCase()!==h,needRemoveBlueV:!1})}),[P.userName,P.name,P.bio,h,u,T,c,k.uri]),N=(0,r.useCallback)((()=>{v({changeType:3,confirmStep:"none"}),z()}),[z]),W=(0,r.useCallback)((e=>{T.updateUserProfile({signature:P.bio!==c?P.bio:void 0,nickname:P.name!==u?P.name:void 0,avatar_uri:k.uri?k.uri:void 0,uniqueId:P.userName.toLowerCase(),needUpdateUniqueId:P.userName.toLowerCase()!==h,needRemoveBlueV:e})}),[T,P.bio,P.name,P.userName,c,u,k.uri,h]),H=(0,r.useCallback)((e=>{27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),q())}),[q]),$=(0,r.useCallback)((e=>{13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),q())}),[q]),V=(0,r.useCallback)((e=>{var t;13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),null===(t=x.current)||void 0===t||t.click())}),[]),K=(0,r.useCallback)(((e,t)=>{L({type:e,playload:t})}),[]),G=(0,r.useCallback)((()=>{m(!1),T.setUploadImgCode(Ze.jp)}),[T]),{colors:Z}=(0,b.u)();return(0,n.Y)(Ve.i,{style:{background:Z.BGSecondary},compact:!0,isOpen:e,children:"none"!==f?(()=>{const e={isVerified:D,replaceStr:d,changeType:_,active:!S,onCancel:N,onConfirm:W,username:P.userName,name:P.name,nextStep:v};switch(f){case"frequencyConfirm":return(0,n.Y)(bt,Object.assign({},e));case"blueVConfirm":return(0,n.Y)(xt,Object.assign({},e));case"loseVerifyConfirm":return(0,n.Y)(wt,Object.assign({},e));case"submitConfirm":return(0,n.Y)(kt.Y,Object.assign({},e));default:return null}})():(0,n.FD)(Dt,{"aria-label":Y("editprofile_editprofile"),role:"dialog",onKeyDown:H,"data-e2e":"edit-profile-popup",showVerified:D&&!g,children:[(0,n.FD)(Ft,{"data-e2e":"edit-profile-header",children:[(0,n.Y)(Pt,{children:Y("editprofile_editprofile")}),(0,n.Y)(Lt,{"aria-label":Y("Close_button"),role:"button",tabIndex:0,onKeyDown:$,onClick:q,"data-e2e":"edit-profile-close",children:(0,n.Y)(He.A,{width:"24",height:"24",fill:Z.TextSecondary})})]}),(0,n.FD)(Ut,{children:[(0,n.FD)(Bt,{children:[(0,n.Y)(At,{"data-e2e":"edit-profile-photo",children:Y("editprofile_editpage_photo")}),(0,n.FD)(Ot,{"data-e2e":"edit-profile-avatar",children:[(0,n.Y)(Gt,{onClick:B,src:P.avatar,isShowLive:!1,isShowLiveTag:!1,needAnimation:!1,size:96}),(0,n.FD)(Kt,{"aria-label":Y("editprofile_editpage_photo"),role:"button",tabIndex:0,onKeyDown:V,"data-e2e":"edit-profile-avatar-edit-icon",onClick:B,children:[(0,n.Y)($e.A,{width:16,height:16}),(0,n.Y)(Zt,{ref:x,tabIndex:-1,type:"file",accept:oi,onChange:O})]})]})]}),(0,n.FD)(Bt,{children:[(0,n.Y)(At,{"data-e2e":"edit-profile-username",children:Y("editprofile_editpage_username")}),(0,n.Y)(di,{username:P.userName,usernameErrMsg:P.usernameErrMsg,uniqueIdChangeInfo:a,onUsernameErrorChange:K,onUsernameChange:K})]}),(0,n.FD)(Bt,{children:[(0,n.Y)(At,{"data-e2e":"edit-profile-name",children:Y("editprofile_editpage_name")}),(0,n.Y)(ri,{name:P.name,nameErrMsg:P.nameErrMsg,onNameChange:K,onNameErrorChange:K,nameChangeInfo:s,nickNameControlDay:d})]}),(0,n.FD)(Mt,{children:[(0,n.Y)(At,{"data-e2e":"edit-profile-bio",children:Y("editprofile_editpage_bio")}),(0,n.Y)(ti,{bio:P.bio,bioValid:P.bioValid,onBioChange:K,onBioValidChange:K})]})]}),(0,n.FD)(jt,{children:[(0,n.Y)(Et,{"data-e2e":"edit-profile-cancel",size:"tiny",onClick:q,children:Y("editprofile_cancel")}),(0,n.Y)(Et,{"data-e2e":"edit-profile-save",size:"tiny",buttonTheme:"primary",onClick:R,disabled:!j,children:Y("editprofile_save")})]}),g&&(0,n.Y)(ft,{style:{position:"absolute",left:0,top:0,background:"#fff",borderRadius:"8px"},imageInfo:M.current,onClose:G,onSaveAvatar:G})]})})}));var hi=i(24643),gi=i(84987);const mi={id:"edit-fd9cf296",use:"edit-fd9cf296-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="edit-fd9cf296"><path fill="currentColor" fill-rule="evenodd" d="M15.393 2.226a.84.84 0 0 0-1.17.02L8.142 8.33a.84.84 0 0 0-.247.595v2.34c0 .464.377.841.842.841h2.183a.84.84 0 0 0 .596-.246l6.237-6.238a.843.843 0 0 0-.02-1.211zM9.58 9.273l5.26-5.26 1.107 1.033-5.374 5.375H9.58zM9.58 2a.42.42 0 0 1 .42.421v.842a.42.42 0 0 1-.42.421H4.526a.84.84 0 0 0-.842.842v10.948c0 .465.377.842.842.842h10.947a.84.84 0 0 0 .842-.842V10.42c0-.232.189-.421.421-.421h.842c.233 0 .422.188.422.421v5.053A2.526 2.526 0 0 1 15.473 18H4.526A2.526 2.526 0 0 1 2 15.474V4.526A2.526 2.526 0 0 1 4.526 2z" clip-rule="evenodd" /></symbol>'};function fi(e){const t=(0,r.useContext)(gi.X);return(0,r.useLayoutEffect)((()=>(t.add(mi),()=>{t.remove("edit-fd9cf296")})),[]),(0,hi.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,hi.jsx)("use",{xlinkHref:"#edit-fd9cf296"},void 0)}),void 0)}const _i=(0,Me.default)("div",{target:"e33dl3i0"})({position:"relative",height:"36px",padding:0,margin:0,marginTop:"16px",display:"flex",alignItems:"center"},"label:DivEditContainer;"),vi=(0,Me.default)(Y.y,{target:"e33dl3i1"})((({theme:{direction:e}})=>[{height:"36px",fontSize:"16px",display:"flex",alignItems:"center",padding:"0 16px",minWidth:"136px",lineHeight:"24px","> span":{whiteSpace:"nowrap"}},(0,Be.mp)({direction:e,marginEnd:8})]),"label:StyledEditButton;"),bi=(0,Me.default)(fi,{target:"e33dl3i2"})((({theme:{direction:e,colors:t}})=>[{width:"20px",height:"20px",color:t.Primary2},(0,Be.mp)({direction:e,marginEnd:6})]),"label:StyledEditIcon;");function yi(e,t){const i=e+24*t*60*60,n=Date.now();return e&&i>Math.ceil(n/1e3)?{changeable:!1,nextTime:i}:{changeable:!0,nextTime:0}}var xi;!function(e){e.VerifyTip="1",e.ProfileUpdateTip="2"}(xi||(xi={}));const Ci=(0,r.memo)((function(){const e=(0,C.s)();return(0,r.useEffect)((()=>{Ee.f.sendEvent("Promote_entrance_show",{enter_from:"personal_page_profile"})}),[]),(0,n.FD)(vi,{size:"medium",onClick:()=>{Ee.f.sendEvent("Promote_entrance_click",{enter_from:"personal_page_profile"}),window.location.href="/promote/web/main?enter_from=personal_page_profile"},children:[(0,n.Y)(ke.x,{color:"Primary2"}),(0,n.Y)("span",{style:{marginInlineStart:6},children:e("Promote_web_entrance_profile")})]})})),wi=(0,r.memo)((function({user:e}){var t,i,o;const[a,l]=(0,r.useState)(!1),[s,d]=(0,r.useState)(!1),{uniqueIdModifyTime:c,nickNameModifyTime:u}=e,[p,h]=(0,r.useState)({changeable:!0,nextTimeStr:""}),[g,m]=(0,r.useState)({changeable:!0,nextTimeStr:""}),{language:f}=null!==(t=(0,I.W)((()=>["language"]),[]))&&void 0!==t?t:{},{config:_}=null!==(i=(0,Ie.U)((()=>["config"]),[]))&&void 0!==i?i:{},v=null!==(o=null==_?void 0:_.nickNameControlDay)&&void 0!==o?o:"7",b=null!=f?f:"en",[{newUniqueInfo:x},w]=(0,y.S)(Ze.it),k=(0,Se.U)({pathname:(0,be.fJR)({uniqueId:x.uniqueId}),search:{}}),S=(0,C.s)(),[T,Y]=(0,r.useState)(""),D=(0,Te.Us)(),F=(0,we.Nj)(Pe.r);(0,r.useEffect)((()=>{D.appContext&&F.setContext(D.appContext)}),[D.appContext,F]),(0,r.useEffect)((()=>{if(c){const{changeable:e,nextTime:t}=yi(Number(c),30),i=(0,Ye.SV)(Number(t),b,"MMM D, YYYY");h({changeable:e,nextTimeStr:i})}}),[b,c]),(0,r.useEffect)((()=>{if(u){const{changeable:e,nextTime:t}=yi(Number(u),Number(v)),i=(0,Ye.SV)(Number(t),b,"MMM D, YYYY");m((t=>Object.assign(Object.assign({},t),{changeable:e,nextTimeStr:i})))}}),[b,u,v]);const{removeEditProfilePop:P}=(0,pe.gR)();(0,r.useEffect)((()=>{const e=!(0,De._S)(Fe.vt)&&!P;e&&(Le.s.handleShowProfileTooltip({enter_from:"personal_homepage"}),(0,De.AP)(Fe.vt,"1"),je.U.handlePopupShow({enter_method:"edit_profile_popup"})),d(e)}),[P]),(0,r.useEffect)((()=>{const e=(0,De.Hd)(Fe.Iw);e&&(Y(e),l(!0),(0,De.X)(Fe.Iw))}),[]);const L=(0,r.useCallback)((()=>{Le.s.handleClickEditProfile({enter_from:"personal_homepage"}),Y("personal_homepage"),l(!0)}),[]),j=(0,r.useCallback)((()=>{l(!1)}),[]),E=(0,r.useCallback)((e=>{Le.s.handleCloseProfileTooltip({enter_from:"personal_homepage",close_method:e}),d(!1)}),[]),U=(0,r.useCallback)((e=>{(0,De.J2)(Fe.BP,e?"1":"2"),w.SetSaveCode(Ze.jp),l(!1),setTimeout((()=>{window.location.href=k}),3e3)}),[k,w]),M=!!e.HasPromoteEntry;return(0,n.FD)(_i,{"data-e2e":"edit-profile-entrance",children:[(0,n.FD)(vi,{onClick:L,size:"medium",children:[(0,n.Y)(bi,{}),(0,n.Y)("span",{children:S("editprofile_editprofile")})]}),M&&(0,n.Y)(Ci,{}),(0,n.Y)(pi,{editProfileFrom:T,uniqueIdChangeInfo:p,nameChangeInfo:g,onUpdated:U,onCloseModal:j,visible:a,user:e,nickNameControlDay:v}),(0,n.Y)(We,{onCancel:E,showPopover:s,cancelText:S("editprofile_close"),title:S("editprofile_tooltip_title"),description:S("editprofile_tooltip_subtitle")})]})}));var ki=i(85349),Ii=i(30543),Si=i(68662),Ti=i(17772);const Yi=(0,Me.default)("div",{target:"edpgb5h0"})((()=>({height:"696px",minWidth:"560px",maxWidth:"700px"})),"label:DivModalContainer;"),Di=(0,Me.default)("div",{target:"edpgb5h1"})((()=>[{padding:"24px",lineHeight:"36px",display:"flex",justifyContent:"space-between",alignItems:"center"}]),"label:DivHeaderContainer;"),Fi=(0,Me.default)("h1",{target:"edpgb5h2"})((({theme:e})=>[(0,Be.zy)({theme:e,fontWeight:"bold",fontFamily:"TikTokFont"}),{fontSize:"24px",color:e.colors.TextPrimary,width:"100%",textAlign:"center"}]),"label:H1Header;"),Pi=(0,Me.default)("div",{target:"edpgb5h3"})((({theme:e})=>[{width:"32px",height:"32px",cursor:"pointer","&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}},(0,Be.mp)({direction:e.direction})]),"label:DivCloseContainer;"),Li=(0,Me.default)("div",{target:"edpgb5h4"})((({theme:{colors:e,direction:t}})=>[{display:"flex",alignItems:"center",justifyContent:"space-around",width:"100%",height:"42px",borderBottom:`0.5px solid ${e.LineSecondary}`,marginBottom:"1px"},(0,Be.mp)({direction:t})]),"label:DivTabs;"),ji=(0,Me.default)("div",{target:"edpgb5h5"})((({theme:e,isActive:t})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"medium",typography:"P2"}),{position:"relative",lineHeight:"24px",display:"flex",height:"44px",padding:"10px 24px",cursor:"pointer",columnGap:"5px",borderBottom:t?`2px solid ${e.colors.TextPrimary}`:"none",color:t?e.colors.TextPrimary:e.colors.TextTertiary}]),"label:DivTabItem;"),Ei=(0,Me.default)("div",{target:"edpgb5h6"})({display:"flex",flexDirection:"column",height:"561px",width:"100%",alignItems:"center",paddingTop:"140px"},"label:DivEmptyListContainer;"),Ui=(0,Me.default)("div",{target:"edpgb5h7"})((({theme:e})=>[(0,Be.zy)({theme:e,typography:"P3",color:"TextPrimary",fontWeight:"bold"}),{textAlign:"center",lineHeight:"36px",fontSize:24,paddingTop:24}]),"label:DivTitle;"),Mi=(0,Me.default)("div",{target:"edpgb5h8"})((({theme:e})=>[(0,Be.zy)({theme:e,typography:"P2",color:"TextSecondary",fontWeight:"normal"}),{fontSize:16,lineHeight:"24px",textAlign:"center",paddingTop:"8px"}]),"label:DivDesc;");var Bi=i(29528);const Ai=(0,Me.default)("div",{target:"eorzdsw0"})({height:"569px",width:"100%",padding:0,marginBottom:"20px",listStyleType:"none",overflowY:"auto","::-webkit-scrollbar":{display:"none"}},"label:DivUserListContainer;"),Oi=(0,Me.default)("div",{target:"eorzdsw1"})({width:"100%",display:"flex",justifyContent:"center"},"label:DivLoadingWrapper;"),zi=(0,Me.default)("div",{target:"eorzdsw2"})((({theme:e})=>[(0,Be.zy)({theme:e,fontWeight:"medium",color:"TextTertiary"}),{lineHeight:"18.2px",paddingInlineStart:"40px",marginTop:"24px",display:"flex",flexDirection:"row",alignItems:"center"}]),"label:DivSuggestedAccountTitleContainer;"),qi=(0,Me.default)(Bi.A,{target:"eorzdsw3"})((({theme:e})=>[(0,Be.zy)({theme:e,color:"TextQuaternary"}),{marginLeft:"4px",width:"12px",height:"12px"}]),"label:IconExclamationMark;");var Ri=i(51664),Ni=i(85041),Wi=i(29098);const Hi=(0,Me.default)("div",{target:"es616eb0"})({padding:"16px 40px",display:"flex",flexDirection:"column",width:"100%"},"label:DivUserContainer;"),$i=(0,Me.default)("div",{target:"es616eb1"})({display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",alignItems:"center"},"label:DivUserItem;"),Vi=(0,Me.default)(Ni.E,{target:"es616eb3"})({position:"relative",display:"flex",flexDirection:"row",":hover":{textDecoration:"none"}},"label:StyledUserInfoLink;"),Ki=(0,Me.default)("div",{target:"es616eb4"})((({theme:{direction:e}})=>(0,Be.mp)({direction:e,marginStart:12,marginEnd:12})),"label:DivUserInfo;"),Gi=(0,Me.default)("div",{target:"es616eb5"})({display:"flex",alignItems:"center"},"label:DivNicknameContainer;"),Zi=(0,Me.default)("span",{target:"es616eb6"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",typography:"P1",fontWeight:"bold"}),{maxWidth:220},Be.PR]),"label:SpanNickname;"),Ji=(0,Me.default)(Wi.A,{target:"es616eb7"})((({theme:{direction:e}})=>[{flexShrink:0},(0,Be.mp)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),Qi=(0,Me.default)("p",{target:"es616eb8"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextTertiary"}),{maxWidth:240,marginTop:2},Be.PR]),"label:PUniqueId;"),Xi=(0,Me.default)("div",{target:"es616eb9"})((()=>({display:"flex",flexDirection:"row",alignItems:"center"})),"label:DivCTAContainer;");var en=i(92846),tn=i(34393),nn=i(6865),on=i(34012),an=i(31355),rn=i(25754);const ln=(0,Me.default)("div",{target:"eq8nsxf0"})((({hide:e})=>[{display:e?"none":"1"}]),"label:DivMessageButtonContainer;"),sn=(0,Me.default)(Y.y,{target:"eq8nsxf1"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{fontSize:"16px",flex:1,minWidth:"113px",lineHeight:"36px",borderStyle:"none",borderRadius:"8px",backgroundColor:e.colors.BGInput,":hover":{backgroundColor:e.colors.BGInput2}}]),"label:StyledMessageButtonV2;"),dn=(0,r.memo)((function({uniqueId:e,uid:t,style:i={},buttonText:o,enterMethod:a}){var l;const s=(0,C.s)(),{user:d,language:c="en"}=null!==(l=(0,I.W)((()=>["user","language"]),[]))&&void 0!==l?l:{},u=(0,r.useRef)(null),p=!!d&&e===d.uniqueId,h=(0,r.useCallback)((()=>rn.w.handleEnterChatList(void 0,a)),[a]),{path:g,target:m}=(0,on._Y)(c);return(0,n.Y)(n.FK,{children:!p&&(0,n.Y)(ln,{ref:u,children:(0,n.Y)(an.N_,{forceSSR:!1,to:`${g}&u=${t}`,target:m,onClick:h,style:{textDecoration:"none"},children:(0,n.Y)(sn,{size:"small",buttonTheme:"default",style:i,"data-e2e":"message-button",children:s(o||"webdm_message_button")})})})})})),cn=(0,r.memo)((function(e){var t;const{uniqueId:i,activeType:o}=e,{user:a}=null!==(t=(0,I.W)((()=>["user"]),[]))&&void 0!==t?t:{},l=!!a&&i===a.uniqueId,s=(0,p.nW)((e=>{const t=e.users[i];if(!t)return null;const{verified:n,avatarThumb:o,nickname:a,roomId:r,id:l,relation:s,secUid:d}=t;return{verified:n,avatarThumb:o,nickname:a,roomId:r,id:l,uniqueId:i,relation:s,secUid:d}}),u.bN),{verified:d,nickname:c,avatarThumb:h,relation:g,secUid:m,id:f}=(0,w.L$)(s),_="profile_popup",v=(0,Ri.AL)({user:s,enterMethod:_}),b=(0,r.useCallback)((e=>{(0,De.dG)(e)}),[]);return(0,n.Y)(Hi,{children:(0,n.FD)($i,{children:[(0,n.FD)(Vi,{uniqueId:i,secUid:m,teaParams:v,onClick:b,children:[(0,n.Y)(en.e,{size:48,src:h}),(0,n.FD)(Ki,{children:[(0,n.FD)(Gi,{children:[(0,n.Y)(Zi,{children:c}),d&&(0,n.Y)(Ji,{width:14,height:14,style:{verticalAlign:"middle",marginLeft:4}})]}),(0,n.Y)(Qi,{children:i})]})]}),(0,n.FD)(Xi,{children:[l&&(0,n.Y)(Ni.E,{uniqueId:i,secUid:m,teaParams:v,onClick:b,children:(0,n.Y)(tn.A,{width:16,height:16})}),!l&&("friend"===o?(0,n.Y)(dn,{uniqueId:i,uid:f,style:{lineHeight:"24px"},enterMethod:_}):(0,n.Y)(nn.W,{relation:g,uniqueId:i,nickname:c,style:{lineHeight:"24px"},buttonText:"profile_page_message_btn",hideMutualIcon:!0}))]})]})})}));var un=i(10745),pn=i(84827),hn=i(88091),gn=i(48720),mn=i(56111);const fn=(0,r.memo)((function(e){const{list:t,loading:i,hasMore:o,isProfile:a,activeType:l,secUid:s,onOpenSuggestedAccountPersonalizeModal:d,onCloseFollowModal:c}=e,u=(0,r.useRef)(null),p=(0,mn.Nl)(),h=(0,_e.OB)(!0),g=(0,C.s)(),m=(0,r.useCallback)((()=>{s&&o&&!i&&("others_following"===l?p.getTargetFollowingList({secUid:s}):"others_follower"===l?p.getTargetFollowerList({secUid:s}):"friend"===l?p.getFriendsList({}):"suggested_follow"===l&&p.getSuggestedList({isNonPersonalized:!h}))}),[p,l,s,o,i,h]);(0,un.O9)({elemRef:u,onHitBottom:m,bottomThreshold:200,throttle:200});const f=(0,pe.Ad)()&&"suggested_follow"===l;(0,r.useEffect)((()=>{f&&gn.$.handleShowSuggestedAccountInfo()}),[f]);const _=(0,r.useCallback)((()=>{c(),d()}),[]);return(0,n.FD)(Ai,{ref:u,children:[f&&(0,n.FD)(zi,{children:[(0,n.Y)(hn.Fm,{children:g("sug_accounts")}),(0,n.Y)(qi,{onClick:_})]}),t.map((e=>e?(0,n.Y)("li",{children:(0,n.Y)(cn,{uniqueId:e,isPersonalFollowerTab:a&&"others_follower"===l,activeType:l})},e):null)),i&&o&&t.length>1?(0,n.Y)(Oi,{children:(0,n.Y)(pn.R,{})}):null]})})),_n={others_follower:{privateTitle:"profile_page_followerList_private_header",privateDesc:"profile_page_followerList_private_body",emptyTitle:"profile_page_profile_follower_tab",emptyDesc:"profile_page_profile_follower_view_desc"},others_following:{privateTitle:"profile_page_followingList_private_header",privateDesc:"profile_page_followingList_private_body",emptyTitle:"profile_page_profile_following_tab",emptyDesc:"profile_page_profile_following_view_desc"},follower:{privateTitle:"",privateDesc:"",emptyTitle:"profile_page_profile_follower_tab",emptyDesc:"profile_page_profile_follower_desc"},following:{privateTitle:"",privateDesc:"",emptyTitle:"profile_page_profile_following_tab",emptyDesc:"profile_page_profile_following_desc"},suggest:{privateTitle:"",privateDesc:"",emptyTitle:"",emptyDesc:""},suggested_follow:{privateTitle:"",privateDesc:"",emptyTitle:"profile_page_suggested_tab",emptyDesc:""},friend:{privateTitle:"",privateDesc:"",emptyTitle:"",emptyDesc:"profile_page_profile_friends_desc"}},vn=(e,t)=>{"others_following"===e?Ee.f.sendEvent("click_following",{to_user_id:t}):"others_follower"===e?Ee.f.sendEvent("click_followers",{to_user_id:t}):"suggested_follow"===e?Ee.f.sendEvent("click_suggested",{to_user_id:t}):"friend"===e&&Ee.f.sendEvent("click_friends",{to_user_id:t})},bn=(0,r.memo)((({visible:e=!1,onCloseModal:t,user:i,stats:o,isProfile:a,entranceType:l="others_following",onOpenSuggestedAccountPersonalizeModal:s})=>{var d,c,p,h;const g=(0,C.s)(),{colors:m}=(0,b.u)(),{uniqueId:f,secUid:_,id:v}=i,[y,x]=(0,r.useState)(l),[k,I]=(0,mn.Gd)((e=>({others_follower:e.others_follower,others_following:e.others_following,friend:e.friend,suggested_follow:e.suggested_follow})),u.bN),{loading:S,list:T}=k.others_follower,{loading:Y,list:D}=k.others_following,{loading:F,list:P}=k.friend,{loading:L,list:j}=k.suggested_follow,E=(0,_e.OB)(!0);(0,r.useEffect)((()=>{_&&("others_following"===y&&!D.length&&Y&&I.getTargetFollowingList({secUid:_}),"others_follower"===y&&!T.length&&S&&I.getTargetFollowerList({secUid:_}),"friend"===y&&!P.length&&F&&I.getFriendsList({}),"suggested_follow"===y&&!j.length&&L&&I.getSuggestedList({isNonPersonalized:!E}))}),[_,y,I,T.length,S,D.length,Y,P.length,F,j.length,L,E]);const U=(0,r.useCallback)((e=>{27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),t())}),[t]),M=(0,r.useCallback)((e=>()=>{vn(e,v),x(e)}),[v]),B=k[y].loading,A=10222===k[y].statusCode,O=(0,pe.Ad)()||E;return(0,n.Y)(ki.t,{isMobile:!1,componentName:"user-follow-modal",children:(0,n.Y)(Ve.i,{compact:!0,style:{background:m.BGInput},isOpen:e,closeOnBackdropClick:!0,closeOnEsc:!0,onClose:t,children:(0,n.FD)(Yi,{role:"dialog","data-e2e":"follow-info-popup",children:[(0,n.FD)(Di,{children:[(0,n.Y)(Fi,{children:f}),(0,n.Y)(Pi,{"aria-label":g("Close_button"),role:"button",tabIndex:0,onKeyDown:U,onClick:t,"data-e2e":"follow-popup-close",children:(0,n.Y)(Ii.g,{size:32,color:m.TextSecondary})})]}),(0,n.FD)(Li,{children:[(0,n.FD)(ji,{isActive:"others_following"===y,onClick:M("others_following"),children:[(0,n.Y)("div",{children:g("profile_page_profile_following_tab")}),(0,n.Y)("strong",{title:g("profile_page_profile_following_tab"),children:o?(0,w.D1)(o.followingCount):"--"})]}),(0,n.FD)(ji,{isActive:"others_follower"===y,onClick:M("others_follower"),children:[(0,n.Y)("div",{children:g("profile_page_profile_follower_tab")}),(0,n.Y)("strong",{title:g("profile_page_profile_follower_tab"),children:o?(0,w.D1)(o.followerCount):"--"})]}),a&&(0,n.FD)(ji,{isActive:"friend"===y,onClick:M("friend"),children:[(0,n.Y)("div",{children:g("profile_page_friends_tab")}),(0,n.Y)("strong",{title:g("profile_page_friends_tab"),children:o?(0,w.D1)(o.friendCount):"--"})]}),O&&(0,n.Y)(ji,{isActive:"suggested_follow"===y,onClick:M("suggested_follow"),children:g("profile_page_suggested_tab")})]}),0===k[y].list.length&&B&&(0,n.Y)(Ei,{children:(0,n.Y)(pn.R,{})}),!B&&0===k[y].list.length&&(A?(0,n.FD)(Ei,{children:[(0,n.Y)(Si.d,{size:72,color:"TextQuaternary"}),(0,n.Y)(Ui,{children:g(null===(d=_n[y])||void 0===d?void 0:d.privateTitle)}),(0,n.Y)(Mi,{children:g(null===(c=_n[y])||void 0===c?void 0:c.privateDesc,{nickname:f})})]}):(0,n.FD)(Ei,{children:[(0,n.Y)(Ti.b,{size:72,color:"TextQuaternary"}),(0,n.Y)(Ui,{children:g(null===(p=_n[y])||void 0===p?void 0:p.emptyTitle)}),(0,n.Y)(Mi,{children:g(null===(h=_n[y])||void 0===h?void 0:h.emptyDesc,{nickname:f})})]})),(0,n.Y)(fn,{list:k[y].list,loading:k[y].loading,hasMore:k[y].hasMore,isProfile:!0,activeType:y,secUid:null!=_?_:"",onOpenSuggestedAccountPersonalizeModal:s,onCloseFollowModal:t})]})})})}));var yn=i(99260),xn=i(17784),Cn=i(7751),wn=i(56152),kn=i(96689),In=i(45445),Sn=i(38597),Tn=i(95197),Yn=i(3885);const Dn=(0,r.memo)((function({user:e,style:t={}}){var i,o;const a=(0,C.s)(),{user:l,language:s="en"}=null!==(i=(0,I.W)((()=>["user","language"]),[]))&&void 0!==i?i:{},d=(0,r.useRef)(null),c=(0,r.useRef)(null),{relation:u,uniqueId:p}=e,h=!!l&&p===l.uniqueId,g=(0,kn.K)({query:{enter_method:"click_follow"}}),{handleFollow:m,text:f,isFollowing:_,relation:v}=(0,he.Tu)({uniqueId:null!==(o=null==e?void 0:e.uniqueId)&&void 0!==o?o:"",onNeedLogin:g}),[b,y]=(0,r.useState)(!1),x=3===v,w=4===v,k=_&&!(null==l?void 0:l.hasIMPermission),S=w||x||k,T=(0,r.useCallback)((()=>rn.w.handleEnterChatList()),[]);(0,r.useEffect)((()=>{w&&Sn.h.handleBlockShow(!w)}),[w]);const Y=(0,r.useCallback)((()=>{y(!0)}),[]),D=(0,r.useCallback)((()=>{y(!1)}),[]),F=(0,r.useCallback)((e=>{w?Y():m(e)}),[w,Y,m]),{path:P,target:L}=(0,on._Y)(s);return(0,n.FD)(n.FK,{children:[(0,n.FD)(Yn.XT,{style:t,children:[!h&&(0,n.Y)(xn.Ay,{timeout:300,in:!_||!(null==l?void 0:l.hasIMPermission),nodeRef:d,children:i=>(0,n.Y)(Yn.QD,{ref:d,status:i,style:t,children:(0,n.FD)(Yn.rO,{size:"medium",buttonTheme:S?"default":"primary",hide:_&&(null==l?void 0:l.hasIMPermission),"data-e2e":"follow-button",onClick:F,style:t,"aria-label":`${f} ${null==e?void 0:e.nickname}`,children:[2===u?(0,n.Y)(Yn.Yn,{}):null,f]})})}),!h&&(null==l?void 0:l.hasIMPermission)&&(0,n.Y)(xn.Ay,{timeout:300,in:_,nodeRef:c,children:t=>(0,n.FD)(Yn.iH,{hide:!_,status:t,ref:c,children:[(0,n.Y)(an.N_,{forceSSR:!1,to:`${P}&u=${null==e?void 0:e.id}`,target:L,onClick:T,style:{textDecoration:"none"},children:(0,n.Y)(Yn.xI,{size:"medium",buttonTheme:"line",children:a("webdm_message_button")})}),(0,n.Y)(Tn.m,{overlay:a("user_action_unfollow"),placement:"bottom",children:(0,n.Y)(Yn.tR,{onClick:m,children:2===u?(0,n.Y)(Cn.A,{width:20,height:20}):(0,n.Y)(wn.A,{width:20,height:20})})})]})})]}),(0,n.Y)(In.j,{visible:b,uniqueId:p,onClose:D})]})}));var Fn=i(79279),Pn=i(924),Ln=i(31147),jn=i(30349);const En=(0,Me.default)("div",{target:"eht0fek0"})((({theme:e})=>(0,Be.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"semiBold",typography:"P2"})),{display:"flex",alignItems:"flex-end",flexWrap:"wrap",marginTop:"5px"},"label:DivShareLinks;"),Un=(0,Me.default)("span",{target:"eht0fek1"})((({theme:{colors:e}})=>({display:"inline-block",border:`.5px solid ${e.LineSecondary}`,height:"16px",margin:"0 12px"})),"label:SpanShareLinksSpliter;"),Mn=(0,Me.default)("span",{target:"eht0fek2"})((({theme:{direction:e}})=>(0,Be.mp)({direction:e,paddingStart:2})),{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"label:SpanLink;"),Bn=({theme:e,red:t})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"semiBold",lineHeight:"18px",typography:"P2",color:t?"Primary":"TextPrimary",isLink:!0}),{display:"flex",alignItems:"flex-end",fontStyle:"normal",height:"22px",maxWidth:"256px"}],An=(0,Me.default)("p",{target:"eht0fek3"})(Bn,"label:PShareError;"),On=(0,Me.default)("a",{target:"eht0fek4"})(Bn,"label:ABioLink;"),zn=(0,r.memo)((function({user:e}){var t,i;const o=(0,C.s)(),{user:a}=null!==(t=(0,I.W)((()=>["user","language"]),[]))&&void 0!==t?t:{},{bioLink:l={},commerceUserInfo:s={},uniqueId:d}=e,c=!!a&&d===a.uniqueId,{shouldShowDownloadLink:u,shouldShowBioLink:p,secDownloadLink:h,secBioLink:g,showDownloadLink:m}=function({isProfile:e,user:t}){var i,n,o;const{language:a="en"}=null!==(i=(0,I.W)((()=>["language"]),[]))&&void 0!==i?i:{},r=(0,jn.N)(),{secret:l,relation:s,bioLink:d,commerceUserInfo:c}=t,u=[],p=[];let h=!1,g=!1,m=null==d?void 0:d.link;function f(e){return r?e:`https://www.tiktok.com/link/v2?aid=1988&lang=${a}&scene=bio_url&target=${encodeURIComponent(e)}`}(null==d?void 0:d.link)&&(h=!0,m=f(d.link),l&&(h=!1,e&&(h=!0),1===s&&(h=!0)),5===s&&(h=!1),9===d.risk&&(h=!1,e&&(h=!0)));const _=null===(n=null==c?void 0:c.downLoadLink)||void 0===n?void 0:n.ios,v=null===(o=null==c?void 0:c.downLoadLink)||void 0===o?void 0:o.android;return(null==c?void 0:c.commerceUser)&&(_||v)&&(g=!0,v&&(p.push(v),u.push(f(v))),_&&(p.push(_),u.push(f(_)))),{shouldShowDownloadLink:g,shouldShowBioLink:h,secDownloadLink:u,secBioLink:m,showDownloadLink:p}}({isProfile:c,user:e});function f(e){return e.split(/[\s\n\r\t]+/)[0].replace(/^https?:\/\//,"")}const _=(0,r.useMemo)((()=>{var e;return(0,n.Y)(En,{children:(0,n.FD)(On,{target:"_blank",rel:"noindex nofollow noreferrer noopener",red:!0,href:h[0],children:[(0,n.Y)(Fn.A,{width:18,height:18,style:{flexShrink:0}}),(0,n.Y)(Mn,{children:f(null!==(e=m[0])&&void 0!==e?e:"")})]})})}),[m,h]);return p?(0,n.FD)(En,{children:[9!==(null==l?void 0:l.risk)?(0,n.FD)(On,{red:null==s?void 0:s.commerceUser,target:"_blank",rel:"noindex nofollow noreferrer noopener",href:null!=g?g:"","data-e2e":"user-link",children:[(0,n.Y)(Pn.A,{fill:(null==s?void 0:s.commerceUser)?"#fe2c55":"currentColor",width:18,height:18,style:{flexShrink:0}}),(0,n.Y)(Mn,{children:f(null!==(i=null==l?void 0:l.link)&&void 0!==i?i:"")})]}):(0,n.FD)(An,{red:!0,children:[(0,n.Y)(Ln.A,{width:18,height:18,fill:"#ff4c3a",style:{flexShrink:0}}),(0,n.Y)(Mn,{children:o("profile_self_link_unavailable")})]}),u&&(0,n.FD)(n.FK,{children:[(0,n.Y)(Un,{}),_]})]}):u?_:null}));var qn=i(11328);const Rn=(0,Me.default)("div",{target:"e1gnmlil0"})((({useFlex:e,isShorterCreatorHeader:t,alignBaseline:i})=>[e&&{display:"flex",alignItems:"center",flexDirection:"row",gap:"12px"},t&&{gap:"4px"},i&&{alignItems:"baseline"}]),"label:DivUserTextWrapper;"),Nn=(0,Me.default)("div",{target:"e1gnmlil1"})((({useFlex:e})=>[e&&{display:"flex",alignItems:"start",flexDirection:"column",width:"100%"}]),"label:DivUserIdentifierWrapper;");var Wn=i(43291);const Hn=(0,Me.default)("h3",{target:"e1457k4r0"})((({hasNewHeader:e})=>[{display:"flex",flexDirection:"row",alignItems:"center",marginTop:e?"16px":"22px",color:"rgba(18, 18, 18, .75)"},e&&{flexWrap:"wrap"}]),"label:H3CountInfos;"),$n=(0,Me.default)("div",{target:"e1457k4r1"})((({theme:e,theme:{direction:t},isUIRearrange:i,showPointerCursor:n})=>[(0,Be.zy)({theme:e,fontFamily:i?"TikTokFont":"TikTokDisplayFont",fontWeight:i?"bold":"semiBold",typography:i?"P2":"P1",color:"TextPrimary"}),{display:"flex",direction:"ltr",alignItems:"baseline",cursor:n?"pointer":"default",":not(:last-child)":[(0,Be.mp)({direction:t,marginEnd:20})]}]),"label:DivNumber;"),Vn=(0,Me.default)("span",{target:"e1457k4r2"})((({theme:e,allowTextUnderline:t})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P2",color:"TextSecondary"}),{fontSize:"16px",lineHeight:"20px",display:"inline-block",marginLeft:"6px",":hover":{textDecoration:t?"underline":"none"}}]),"label:SpanUnit;"),Kn=(0,Me.default)("h2",{target:"e1457k4r3"})((({isUIRearrange:e,theme:t,theme:{direction:i}})=>[(0,Be.mp)({direction:i,textAlign:"start"}),(0,Be.zy)({theme:t,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P2",color:"TextPrimary"}),{whiteSpace:"pre-line",marginTop:e?"16px":"10px",maxWidth:"600px"}]),"label:H2ShareDesc;"),Gn=(0,Me.default)(xe.Ct,{target:"e1457k4r4"})({marginBottom:"25px"},"label:StyledSkeletonContainer;"),Zn=(0,Me.default)(qn.EA.Avatar,{target:"e1457k4r5"})((({theme:e})=>(0,xe.fo)(e)),"label:StyledSkeletonAvatar;"),Jn=(0,Me.default)("span",{target:"e1457k4r6"})((({theme:e,theme:{direction:t},isShorterCreatorHeader:i})=>[(0,Be.mp)({direction:t,marginStart:"8px"}),(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P2",color:"TextTertiary"}),{overflow:"hidden",textOverflow:"ellipsis"},i&&{fontSize:"16px"}]),"label:SpanBAInfo;"),Qn=(0,Me.default)("h1",{target:"e1457k4r8"})(xe.g2,{wordBreak:"break-word",marginBottom:0},"label:H1ShareTitle;"),Xn=(0,Me.default)("div",{target:"e1457k4r13"})((()=>[{marginTop:"13.5px"}]),"label:DivLiveLinksWrapper;"),eo=(0,Me.default)(v.L0,{target:"e1457k4r14"})((()=>[{maxWidth:"100%",paddingRight:0,paddingLeft:0,minHeight:"140px",display:"flex",alignItems:"center",gap:"28px"},(0,Be.jJ)({max:hn.f5.Small,style:{flexDirection:"column",gap:"20px"}}),{[`${Qn}`]:{fontSize:"24px",lineHeight:"30px"}}]),"label:CreatorPageHeader;"),to=(0,Me.default)(xe.il,{target:"e1457k4r15"})((({isHeaderButtonLower:e})=>[{margin:0,gap:e?"8px":"12px"},{[`> ${Wn.Dx}`]:{marginTop:0,marginBottom:0}},(0,Be.jJ)({max:hn.f5.Small,style:{alignItems:"center",[`${Nn}`]:{alignItems:"center",[`${Rn}`]:{justifyContent:"center"}}}})]),"label:CreatorPageHeaderShareContainer;"),io=(0,Me.default)("div",{target:"e1457k4r16"})((({isShorterCreatorHeader:e,isHeaderButtonLower:t})=>[{display:"flex",flexDirection:"column",gap:e?"8px":"12px"},e&&{"*":{fontSize:"14px !important;",lineHeight:"130% !important"}},t&&{marginBottom:"8px"},{[`> ${Hn}, ${Kn}, ${En}, ${Xn}`]:{marginTop:0,marginBottom:0}},(0,Be.jJ)({max:hn.f5.Small,style:{alignItems:"center"}})]),"label:CreatorPageHeaderTextContainer;"),no=(0,Me.default)("div",{target:"e1a7aieu0"})({minHeight:"255px",maxWidth:"700px"},"label:DivModalContainer;"),oo=(0,Me.default)("div",{target:"e1a7aieu1"})((({theme:{colors:e}})=>[{padding:"24px",lineHeight:"36px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`0.5px solid ${e.LineSecondary}`}]),"label:DivHeaderContainer;"),ao=(0,Me.default)("h1",{target:"e1a7aieu2"})((({theme:e})=>[(0,Be.zy)({theme:e,fontWeight:"bold",fontFamily:"TikTokFont"}),{fontSize:"24px",color:e.colors.TextPrimary,width:"100%"}]),"label:H1Header;"),ro=(0,Me.default)("div",{target:"e1a7aieu3"})((({theme:e})=>[{width:"32px",height:"32px",cursor:"pointer","&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}},(0,Be.mp)({direction:e.direction})]),"label:DivCloseContainer;"),lo=(0,Me.default)("div",{target:"e1a7aieu4"})((({theme:e})=>[(0,Be.zy)({theme:e,fontWeight:"normal",fontFamily:"TikTokFont",color:"TextSecondary"}),{padding:"24px",whiteSpace:"pre-wrap"}]),"label:DivContentContainer;"),so=(0,Me.default)("div",{target:"e1a7aieu5"})((({theme:{colors:e}})=>({padding:"24px",width:"100%",borderTop:`0.5px solid ${e.LinePrimary2}`,display:"flex",justifyContent:"flex-end"})),"label:DivModalFooter;"),co=(0,Me.default)("span",{target:"e1a7aieu6"})((({theme:e})=>[(0,Be.zy)({theme:e,color:"Primary"}),{cursor:"pointer",":hover":{textDecoration:"underline"}}]),"label:SpanManagePersonalizedFeeds;"),uo=(0,Me.default)(an.N_,{target:"e1a7aieu7"})((({theme:e})=>[(0,Be.zy)({theme:e,color:"Primary"})]),"label:LinkPrivacy;");var po=i(16680),ho=i(20986),go=i(58542),mo=i(35810);function fo(){return(0,n.FD)(xe.Ov,{children:[(0,n.Y)(xe.TD,{}),(0,n.Y)(xe.pI,{})]})}const _o=(0,r.memo)((function({detailInfo:e,isNarrow:t}){const{user:i,statusCode:o}=e,{uniqueId:a,stateControlledMedia:r,nickname:l,secret:s}=(0,w.L$)(i),{isInProductHoldout:d}=(0,pe.Vv)(),c=!d,{isShorterCreatorHeader:u}=(0,pe.A8)();if((0,fe.CC)(o))return(0,n.Y)(Nn,{useFlex:!0,children:(0,n.Y)(Rn,{useFlex:!0,isShorterCreatorHeader:u,children:(0,n.Y)(Rn,{useFlex:!0,alignBaseline:u,isShorterCreatorHeader:u,children:(0,n.Y)(Qn,{verified:!1,private:!1,"data-e2e":"user-title",children:a})})})});if(!i)return(0,n.Y)(fo,{});const{verified:p,commerceUserInfo:h={}}=i,{category:g,categoryButton:m=!1}=h;return c?(0,n.FD)(Nn,{useFlex:!0,children:[(0,n.FD)(Rn,{useFlex:!0,isShorterCreatorHeader:u,children:[(0,n.FD)(Rn,{useFlex:!0,alignBaseline:u,isShorterCreatorHeader:u,children:[(0,n.Y)(Qn,{verified:p,private:s,"data-e2e":"user-title",children:a}),p&&(0,n.Y)(Wi.A,{width:u?14:20,height:u?14:20,"data-e2e":"user-bluev"}),s&&(0,n.Y)(go.BbK,{size:u?"14px":"20px"})]}),!(u&&t)&&(0,n.Y)(xe.Qs,{isShorterCreatorHeader:u,"data-e2e":"user-subtitle",children:l}),!(u&&t)&&m&&g&&(0,n.Y)(Jn,{isShorterCreatorHeader:u,children:g})]}),u&&t&&(0,n.FD)(Rn,{useFlex:!0,isShorterCreatorHeader:u,children:[(0,n.Y)(xe.Qs,{isShorterCreatorHeader:u,"data-e2e":"user-subtitle",children:l}),m&&g&&(0,n.Y)(Jn,{isShorterCreatorHeader:u,children:g})]}),(0,n.Y)(mo.w,{style:{marginTop:"8px"},stateControlledMedia:r,labelType:0,isUserPage:!0})]}):(0,n.FD)(Nn,{children:[(0,n.FD)(Rn,{children:[(0,n.FD)(Qn,{verified:p,private:s,"data-e2e":"user-title",children:[a," ",p&&(0,n.Y)(Wi.A,{width:20,height:20,"data-e2e":"user-bluev"})," ",s&&(0,n.Y)(ho.A,{width:20,height:20})]}),(0,n.FD)(xe.Qs,{"data-e2e":"user-subtitle",children:[l,m&&g&&(0,n.Y)(Jn,{children:g})]})]}),(0,n.Y)(mo.w,{style:{marginTop:"8px"},stateControlledMedia:r,labelType:0,isUserPage:!0})]})}));var vo=i(67982);const bo=(0,r.memo)((function({user:e}){var t;const i=(0,C.s)(),{user:o}=null!==(t=(0,I.W)((()=>["user"]),[]))&&void 0!==t?t:{},a=(0,r.useRef)(null),{uniqueId:l}=e,s=(0,kn.K)({query:{enter_method:"click_follow"}}),{handleFollow:d,text:c,isFollowing:u,relation:p}=(0,he.Tu)({uniqueId:l,onNeedLogin:s}),[h,g]=(0,r.useState)(!1),m=3===p,f=4===p,_=u&&!(null==o?void 0:o.hasIMPermission),v=f||m||_||u;(0,r.useEffect)((()=>{f&&Sn.h.handleBlockShow(!f)}),[f]);const b=(0,r.useCallback)((()=>{g(!0)}),[]),y=(0,r.useCallback)((()=>{g(!1)}),[]),x=(0,r.useCallback)((e=>{f?b():d(e)}),[f,b,d]);return(0,n.FD)(n.FK,{children:[(0,n.Y)(go.N0Y,{content:i("user_action_unfollow"),visible:!!v&&void 0,placement:"bottom",variant:"secondary",style:{width:"fit-content"},size:"small",children:(0,n.Y)(go.I05,{shape:"default",ref:a,label:c,variant:v?"secondary":"primary",leadingIcon:v?(0,n.Y)(go.fUE,{}):void 0,onClick:x,"aria-label":`${c} ${e.nickname}`,"data-e2e":"follow-button"})}),(0,n.Y)(In.j,{visible:h,uniqueId:l,onClose:y})]})})),yo=(0,r.memo)((function({uid:e}){var t;const i=(0,C.s)(),o=(0,I.W)((()=>["user"]),[]),a=Boolean(null==o?void 0:o.user),{language:l="en"}=null!==(t=(0,I.W)((()=>["language"]),[]))&&void 0!==t?t:{},s=(0,r.useRef)(null),{path:d,target:c}=(0,on._Y)(l),u=(0,kn.K)({query:{enter_method:"click_message"}}),p=(0,r.useCallback)((e=>{a?rn.w.handleEnterChatList():(u(),(0,De.wo)(e))}),[a,u]);return(0,n.Y)(an.N_,{forceSSR:!1,to:a?`${d}&u=${e}`:"",target:c,onClick:p,style:{textDecoration:"none"},ref:s,children:(0,n.Y)(go.I05,{label:i("profile_page_message_btn"),variant:"secondary","data-e2e":"message-button"})})}));var xo=i(95958),Co=i(12826);const wo=(0,r.memo)((function({report:e,isFollowing:t,itemListKey:i,uniqueId:o}){const a=(0,C.s)(),[l,s]=(0,r.useState)(!1),d=(0,r.useRef)(null),c=(0,r.useCallback)((e=>s((t=>null!=e?e:!t))),[]),u=(0,r.useCallback)((e=>{var t;13===e.keyCode||32===e.keyCode?(e.stopPropagation(),e.preventDefault(),c()):27===e.keyCode&&l&&(c(!1),null===(t=d.current)||void 0===t||t.focus())}),[c,l]);return e?(0,n.Y)(Co.E,{itemListKey:i,isFollowing:t,uniqueId:o,report:e,usePopup:!0,popupShowing:l,margin:-5,TuxContainer:({children:e})=>(0,n.Y)(go.Xwo,{trigger:(0,n.Y)(Wn.iS,{role:"button",label:"",variant:"secondary",leadingIcon:(0,n.Y)(go.sLX,{}),onClick:()=>c(),onKeyDown:u,"data-e2e":`${i}-more`,"aria-label":a("creatorCenter_content_actions"),ref:d,tabIndex:0}),placement:"bottom",open:l,children:e}),hideMessage:!0}):null}));var ko;!function(e){e.VerifyTip="1",e.ProfileUpdateTip="2"}(ko||(ko={}));const Io=(0,r.memo)((function({user:e}){var t,i,o;const[a,l]=(0,r.useState)(!1),{uniqueIdModifyTime:s,nickNameModifyTime:d}=e,[c,u]=(0,r.useState)({changeable:!0,nextTimeStr:""}),[p,h]=(0,r.useState)({changeable:!0,nextTimeStr:""}),{language:g}=null!==(t=(0,I.W)((()=>["language"]),[]))&&void 0!==t?t:{},{config:m}=null!==(i=(0,Ie.U)((()=>["config"]),[]))&&void 0!==i?i:{},f=null!==(o=null==m?void 0:m.nickNameControlDay)&&void 0!==o?o:"7",_=null!=g?g:"en",[{newUniqueInfo:v},b]=(0,y.S)(Ze.it),x=(0,Se.U)({pathname:(0,be.fJR)({uniqueId:v.uniqueId}),search:{}}),w=(0,C.s)(),[k,S]=(0,r.useState)(""),T=(0,Te.Us)(),Y=(0,we.Nj)(Pe.r);(0,r.useEffect)((()=>{T.appContext&&Y.setContext(T.appContext)}),[T.appContext,Y]),(0,r.useEffect)((()=>{if(s){const{changeable:e,nextTime:t}=yi(Number(s),30),i=(0,Ye.SV)(Number(t),_,"MMM D, YYYY");u({changeable:e,nextTimeStr:i})}}),[_,s]),(0,r.useEffect)((()=>{if(d){const{changeable:e,nextTime:t}=yi(Number(d),Number(f)),i=(0,Ye.SV)(Number(t),_,"MMM D, YYYY");h((t=>Object.assign(Object.assign({},t),{changeable:e,nextTimeStr:i})))}}),[_,d,f]),(0,r.useEffect)((()=>{!(0,De._S)(Fe.vt)&&(Le.s.handleShowProfileTooltip({enter_from:"personal_homepage"}),(0,De.AP)(Fe.vt,"1"))}),[]),(0,r.useEffect)((()=>{const e=(0,De.Hd)(Fe.Iw);e&&(S(e),l(!0),(0,De.X)(Fe.Iw))}),[]);const D=(0,r.useCallback)((()=>{Le.s.handleClickEditProfile({enter_from:"personal_homepage"}),S("personal_homepage"),l(!0)}),[]),F=(0,r.useCallback)((()=>{l(!1)}),[]),P=(0,r.useCallback)((e=>{(0,De.J2)(Fe.BP,e?"1":"2"),b.SetSaveCode(Ze.jp),l(!1),setTimeout((()=>{window.location.href=x}),3e3)}),[x,b]);return(0,n.FD)(n.FK,{children:[(0,n.Y)(Wn.$7,{label:w("editprofile_editprofile"),leadingIcon:(0,n.Y)(go.OH6,{}),"data-e2e":"edit-profile-entrance",onClick:D}),(0,n.Y)(pi,{editProfileFrom:k,uniqueIdChangeInfo:c,nameChangeInfo:p,onUpdated:P,onCloseModal:F,visible:a,user:e,nickNameControlDay:f})]})}));var So=i(82535),To=i(82715);const Yo=(0,r.memo)((function(){const e=(0,r.useCallback)((()=>{So.q.handleEnterSet({enter_method:"top_bar"})}),[]),t=(0,r.useCallback)((t=>{13===t.keyCode&&e()}),[e]);return(0,n.Y)(an.N_,{forceSSR:!1,to:To.OZ.setting,onClick:e,onKeyDown:t,style:{textDecoration:"none"},children:(0,n.Y)(Wn.iS,{label:"",variant:"secondary",leadingIcon:(0,n.Y)(go.CKq,{}),onClick:e,onKeyDown:t,"data-e2e":"settings-entrance"})})})),Do=()=>{const e=(0,C.s)();return(0,r.useEffect)((()=>{Ee.f.sendEvent("Promote_entrance_show",{enter_from:"personal_page_profile"})}),[]),(0,n.Y)(Wn.$7,{variant:"secondary",label:e("Promote_web_entrance_profile"),leadingIcon:(0,n.Y)(go.xTL,{}),"data-e2e":"promote-post-entrance",onClick:()=>{Ee.f.sendEvent("Promote_entrance_click",{enter_from:"personal_page_profile"}),window.location.href="/promote/web/main?enter_from=personal_page_profile"}})};var Fo,Po;!function(e){e.FOLLOW="follow",e.MESSAGE="message",e.SHARE="share",e.MORE="more",e.EDIT="edit",e.SETTINGS="settings",e.PROMOTE="promote"}(Fo||(Fo={})),function(e){e.TEXT="text",e.ICON="icon",e.TWO_STATE="twoState"}(Po||(Po={}));const Lo=["follow","message","share","more"],jo=["edit","promote","settings","share"],Eo=(0,r.memo)((function({buttonList:e,detailInfo:t,report:i}){const{uniqueId:o,secUid:a,id:r,secret:l,profileEmbedPermission:s,isUnderAge18:d,isEmbedBanned:c}=(0,w.L$)(t.user),u=(0,yn.b3)({uniqueId:o,secUid:a}),p=(0,ge.CE)(o),{hasNewShareMenu:h}=(0,pe.mT)(),{isFollowing:g}=(0,he.Tu)({uniqueId:o}),m=Boolean(l)||3===s||d,f=2===s||c,_=(0,ve.I)(`https://www.tiktok.com${(0,vo.fJ)({uniqueId:o,secUid:a})}`,{sender_device:"pc"});return u&&e.some((e=>!jo.includes(e)))||!u&&e.some((e=>!Lo.includes(e)))?null:(0,n.Y)(Wn.Dx,{children:e.map((e=>{if(!t.user)return null;switch(e){case"message":return(0,n.Y)(yo,{uid:r},e);case"share":const a=h?xo.t:xo.S;return(0,n.Y)(a,{embedCode:p,embedType:1,isEmbedBanned:f,isEmbedDisabled:m,uniqueId:o,uid:r,shareUrl:_},e);case"more":return(0,n.Y)(wo,{report:i,isFollowing:g,uniqueId:o,itemListKey:"user"},e);case"edit":return(0,n.Y)(Io,{user:t.user},e);case"settings":return(0,n.Y)(Yo,{},e);case"promote":return(0,n.Y)(Do,{},e);case"follow":return(0,n.Y)(bo,{user:t.user},e);default:return null}}))})})),Uo=(0,Me.default)("div",{target:"e7tayh90"})((({isNarrow:e})=>[{display:"flex",flexDirection:"row",maxWidth:e?"min(600px, calc(100vw - 130px))":"min(600px, calc(100vw - 340px))",gap:"8px"}]),"label:DivBioContainer;"),Mo=(0,Me.default)("div",{target:"e7tayh91"})((()=>[{flexShrink:"1",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}]),"label:DivBioText;"),Bo=(0,Me.default)("div",{target:"e7tayh92"})((({enabled:e})=>[{flexShrink:"2",fontWeight:"500",cursor:"pointer",userSelect:"none"},!e&&{pointerEvents:"none",opacity:0}]),"label:DivBioMore;"),Ao=(0,Me.default)("div",{target:"e7tayh93"})({padding:"16px"},"label:DivBioMorePopoverContainer;"),Oo=(0,r.memo)((({text:e,isNarrow:t})=>{const i=(0,C.s)(),o=e.trim().split(/\r?\n/),a=o.length>1,l=a?(e=>{let t=0;for(let i=e.length-1;i>=0&&"."===e[i]&&(t++,!(t>=3));i--);return e+".".repeat(3-t)})(o[0]):o[0],[s,d]=(0,r.useState)(!1),c=(0,r.useRef)(null),u=(0,r.useCallback)((()=>{var e;d(Boolean(a||(null===(e=c.current)||void 0===e?void 0:e.clientWidth)&&c.current.scrollWidth&&c.current.clientWidth<c.current.scrollWidth))}),[d,a]);return(0,r.useEffect)((()=>(u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)})),[u]),(0,n.FD)(Uo,{isNarrow:t,children:[(0,n.Y)(Mo,{ref:c,children:l}),(0,n.Y)(go.Xwo,{placement:"bottom",trigger:(0,n.Y)(Bo,{enabled:s,children:i("pc_web_more_btn")}),children:(0,n.Y)(Ao,{children:(0,n.Y)(io,{style:{marginBottom:0},isShorterCreatorHeader:!0,children:(0,n.FD)(Kn,{children:[" ",e]})})})})]})}));var zo=i(15189);function qo(){return(0,n.Y)(v.L0,{hideActions:!0,children:(0,n.FD)(Gn,{children:[(0,n.Y)(Zn,{}),(0,n.FD)(xe.Ov,{children:[(0,n.Y)(xe.TD,{}),(0,n.Y)(xe.pI,{})]})]})})}const Ro=(0,r.memo)((function({detailInfo:e}){var t;const i=(0,C.s)(),{user:o,stats:a,statusCode:l}=e,{language:s="en",user:d}=(0,w.L$)((0,I.W)((()=>["language","user"]),[])),{uniqueId:c,secUid:u,nickname:h,relation:g,privateAccount:m,secret:f}=(0,w.L$)(o),{isInProductHoldout:_}=(0,pe.Vv)(),y=!_,{isShorterCreatorHeader:x,isOneLineBio:k,isHeaderButtonLower:S}=(0,pe.A8)(),{isFollowing:T}=(0,he.Tu)({uniqueId:c}),D=(0,yn.b3)({uniqueId:c,secUid:u}),F=(0,po.b1)(),P=(0,p.eI)(),[L,j]=(0,r.useState)(!1),[E,U]=(0,r.useState)("others_following"),M=(0,ge.CE)(c),{isRTL:B}=(0,me.m)(),A=(0,yn.tg)(),O=4===g||5===g||(null!=m?m:f)&&!(D||1===g||2===g),z=null==d?void 0:d.ftcUser,q=Boolean(d),R=!!(null==o?void 0:o.HasPromoteEntry),N=(0,fe.CC)(l),W=D?["edit",...R?["promote"]:[],"settings","share"]:["follow","message","share","more"],H=(0,r.useMemo)((()=>{var e;return D?null:{report_type:"user",object_id:null!==(e=null==o?void 0:o.id)&&void 0!==e?e:"",owner_id:null==o?void 0:o.id,secUid:u,nickname:h,lang:s}}),[s,D,null==o?void 0:o.id,u,h]),$=(0,r.useMemo)((()=>"undefined"!=typeof window&&window.innerWidth<=768?150:212),[]);(0,r.useEffect)((()=>{j(!1)}),[c]),(0,r.useEffect)((()=>{a&&!a.needFix||!c||P.getUserDetail({uniqueId:c,secUid:u,language:s})}),[P,a,c,u,s]),(0,r.useEffect)((()=>{void 0===(null==o?void 0:o.uniqueIdModifyTime)&&c&&P.getUserDetail({uniqueId:c,secUid:u,language:s})}),[P,c,u,s,null==o?void 0:o.uniqueIdModifyTime]);const V=(0,r.useCallback)((e=>t=>{var i;q?(t.preventDefault(),O||(vn(e?"others_following":"others_follower",null!==(i=null==o?void 0:o.id)&&void 0!==i?i:""),U(e?"others_following":"others_follower"),j(!0))):F.openModal({query:{enter_method:e?"click_following":"click_followers"}})}),[q,F,O,null==o?void 0:o.id]),K=(0,r.useCallback)((()=>{j(!1)}),[]),{handleOpenModal:G,PersonalizedModal:Z}=(0,_e.D0)({isFeed:!0}),{handleOpenModal:J,SuggestedAccountPersonalizeModal:Q}=(({onOpenPersonalizedModal:e})=>{const t=(0,C.s)(),{colors:i}=(0,b.u)(),o=(0,hn.eb)({closeOnBackdropClick:!0,closeOnEsc:!0,onCloseComplete:e=>{e&&gn.$.handleCloseManageFeedsHalfSheet()}}),a=(0,r.useCallback)((()=>{o.open(),gn.$.handleShowManageFeedsHalfSheet()}),[o]),l=(0,r.useCallback)((()=>{o.close("closeButton")}),[o]);return{SuggestedAccountPersonalizeModal:(0,n.Y)(ki.t,{isMobile:!1,componentName:"suggested-account-personalize-modal",children:(0,n.FD)(hn.nO,Object.assign(Object.assign({width:"Compact",height:"Compact"},o),{closeOnBackdropClick:!0,closeOnEsc:!0,children:[(0,n.FD)(no,{role:"dialog","data-e2e":"follow-info-popup",children:[(0,n.FD)(oo,{children:[(0,n.Y)(ao,{children:t("sug_accounts")}),(0,n.Y)(ro,{"aria-label":t("Close_button"),role:"button",tabIndex:0,onClick:l,children:(0,n.Y)(Ii.g,{size:32,color:i.TextSecondary})})]}),(()=>{const a=t("nonpersonalizedFeeds_profile_suggestedAccounts_info_body",{},"When personalized feeds are turned on, accounts are suggested based on people you may know, including connections of people you follow. You can change whatâs suggested to you in %1$s. \n\nYour account may also be suggested to people you may know. Change your discoverability anytime in your %2$s settings."),r=a.indexOf("%1$s"),l=a.indexOf("%2$s"),s=a.substring(0,r),d=a.substring(r+4,l),c=a.substring(l+4)+" ";return(0,n.FD)(lo,{children:[s,(()=>{const i=t("nonpersonalizedFeeds_profile_suggestedAccounts_info_bodyManagePersonFeedsVariable",{},"Manage personalized feed");return(0,n.Y)(co,{onClick:()=>{e(),gn.$.handleClickInManageFeedsHalfSheet(),o.close()},children:i})})(),d,(()=>{const e=t("nonpersonalizedFeeds_profile_suggestedAccounts_info_bodyPrivacyVariable",{},"Privacy");return(0,n.Y)(uo,{to:"/setting",style:{color:i.Primary},onClick:()=>{gn.$.handleClickInManageFeedsHalfSheet()},children:e})})(),c,(0,n.Y)("a",{href:"https://support.tiktok.com/en/account-and-privacy/account-privacy-settings/suggested-accounts",target:"_blank",rel:"noreferrer",style:{color:i.Primary},onClick:()=>{gn.$.handleClickInManageFeedsHalfSheet()},children:t("nonpersonalizedFeeds_modal_allScenarios_body_learnMore_articleLink",{},"Learn more")})]})})()]}),(0,n.Y)(so,{children:(0,n.Y)(Y.y,{buttonTheme:"primary",size:"medium",onClick:l,children:t("nonpersonalizedFeeds_turnOn_modal_toggle_CTA")})})]}))}),handleOpenModal:a,handleCloseModal:l}})({onOpenPersonalizedModal:G}),[X,ee]=(0,r.useState)(!1),te=(0,r.useCallback)((()=>{ee(window.innerWidth<=768)}),[ee]);(0,r.useEffect)((()=>{if(x)return te(),window.addEventListener("resize",te),()=>{window.removeEventListener("resize",te)}}),[te,x]);const ie=(0,n.FD)(Hn,{hasNewHeader:y,children:[(0,n.FD)($n,{showPointerCursor:!O,onClick:V(!0),children:[(0,n.Y)("strong",{title:i("Following"),"data-e2e":"following-count",children:a?(0,w.D1)(a.followingCount):"--"}),(0,n.Y)(Vn,{"data-e2e":"following",allowTextUnderline:!O,children:i("Following")})]}),(0,n.FD)($n,{showPointerCursor:!O,onClick:V(!1),children:[(0,n.Y)("strong",{title:i("Followers"),"data-e2e":"followers-count",children:a?(0,w.D1)(a.followerCount):"--"}),(0,n.Y)(Vn,{"data-e2e":"followers",allowTextUnderline:!O,children:i("Followers")})]}),(0,n.FD)($n,{children:[(0,n.Y)("strong",{title:i("Likes"),"data-e2e":"likes-count",children:a?(0,w.D1)(Number(a.heart)||a.heartCount):"--"}),(0,n.Y)(Vn,{"data-e2e":"likes",children:i("Likes")})]})]});if(N)return(0,n.FD)(eo,{children:[(0,n.Y)(zo.E,{size:96}),(0,n.FD)(to,{isHeaderButtonLower:S,children:[(0,n.Y)(_o,{detailInfo:Object.assign(Object.assign({},e),{user:Object.assign(Object.assign({},o),{uniqueId:null!==(t=null==A?void 0:A.uniqueId)&&void 0!==t?t:""})}),isNarrow:X}),(0,n.Y)(io,{isShorterCreatorHeader:!0,isHeaderButtonLower:S,children:ie})]})]});if(!o)return(0,n.Y)(qo,{});const{signature:ne,isUnderAge18:oe,id:ae,isEmbedBanned:re=!1,profileEmbedPermission:le,eventList:se}=(0,w.L$)(o),de=ne||i("No bio yet."),ce=(0,ve.I)(`https://www.tiktok.com${(0,be.fJR)({uniqueId:c,secUid:u})}`,{sender_device:"pc"}),ue=Boolean(f)||3===le||oe,we=2===le||re,ke=(null==se?void 0:se.length)?se.map((e=>({eventId:e.id,eventStartTime:Number(e.start_time),authorId:ae}))):void 0;return x?(0,n.FD)(eo,{embedType:1,embedCode:M,hideActions:!0,isProfile:D,isFollowing:T,isEmbedDisabled:ue,isEmbedBanned:we,uniqueId:c,itemListKey:"user",report:H,shareUrl:ce,uid:ae,children:[(0,n.Y)(Ce.H,{user:o,isFTC:z,e2eTag:"user-avatar",size:X?160:180,quality:"Larger"}),(0,n.FD)(to,{isHeaderButtonLower:S,children:[(0,n.Y)(_o,{detailInfo:e,isNarrow:X}),!S&&(0,n.Y)(Eo,{buttonList:W,detailInfo:e,report:H}),(0,n.FD)(io,{isShorterCreatorHeader:!0,isHeaderButtonLower:S,children:[ie,(0,n.Y)(Kn,{"data-e2e":"user-bio",children:k?(0,n.Y)(Oo,{text:de,isNarrow:X}):de}),(0,n.Y)(zn,{user:o}),ke?(0,n.Y)(Xn,{children:(0,n.Y)(ye._,{displayMultiEvents:!0,eventList:ke})}):null]}),S&&(0,n.Y)(Eo,{buttonList:W,detailInfo:e,report:H})]}),L&&!z&&(0,n.Y)(bn,{visible:L,onCloseModal:K,user:o,isProfile:D,stats:a,entranceType:E,onOpenSuggestedAccountPersonalizeModal:J}),Q,Z]}):y?(0,n.FD)(eo,{embedType:1,embedCode:M,hideActions:!0,isProfile:D,isFollowing:T,isEmbedDisabled:ue,isEmbedBanned:we,uniqueId:c,itemListKey:"user",report:H,shareUrl:ce,uid:ae,children:[(0,n.Y)(Ce.H,{user:o,isFTC:z,e2eTag:"user-avatar",size:$,quality:"Larger"}),(0,n.FD)(to,{children:[(0,n.Y)(_o,{detailInfo:e}),(0,n.Y)(Eo,{buttonList:W,detailInfo:e,report:H}),(0,n.FD)(io,{children:[ie,(0,n.Y)(Kn,{"data-e2e":"user-bio",children:de}),(0,n.Y)(zn,{user:o}),ke?(0,n.Y)(Xn,{children:(0,n.Y)(ye._,{displayMultiEvents:!0,eventList:ke})}):null]})]}),L&&!z&&(0,n.Y)(bn,{visible:L,onCloseModal:K,user:o,isProfile:D,stats:a,entranceType:E,onOpenSuggestedAccountPersonalizeModal:J}),Q,Z]}):(0,n.FD)(v.L0,{embedType:1,embedCode:M,hideActions:D,isProfile:D,isFollowing:T,isEmbedDisabled:ue,isEmbedBanned:we,uniqueId:c,itemListKey:"user",report:H,shareUrl:ce,uid:ae,style:{maxWidth:"624px",paddingRight:B?0:"92px",paddingLeft:B?"92px":0,minHeight:"140px",display:"flex",flexDirection:"column"},children:[(0,n.FD)(xe.b_,{children:[(0,n.Y)(Ce.H,{user:o,isFTC:z,e2eTag:"user-avatar"}),(0,n.FD)(xe.il,{children:[(0,n.Y)(_o,{detailInfo:e}),!D&&(0,n.Y)(Dn,{user:o}),D&&!z&&(0,n.Y)(wi,{user:o})]})]}),ie,(0,n.Y)(Kn,{"data-e2e":"user-bio",children:de}),(0,n.Y)(zn,{user:o}),ke?(0,n.Y)(Xn,{children:(0,n.Y)(ye._,{displayMultiEvents:!0,eventList:ke})}):null,L&&!z&&(0,n.Y)(bn,{visible:L,onCloseModal:K,user:o,isProfile:D,stats:a,entranceType:E,onOpenSuggestedAccountPersonalizeModal:J}),Q,Z]})}));var No=i(21331),Wo=i(3552),Ho=i(88149),$o=i(82783),Vo=i(24979),Ko=i(13969),Go=i(22006),Zo=i(96754),Jo=i(15343),Qo=i(6986),Xo=i(24154);var ea=i(58351),ta=i(99765),ia=i(92032),na=i(10753),oa=i(92951),aa=i(79981),ra=i(95481),la=i(10554),sa=i(94204),da=i(20103);const ca=(0,Me.default)("div",{target:"ejxl5ua0"})((({theme:e})=>({width:"100%",display:"flex",alignItems:"center",padding:"12px 0",paddingInlineEnd:"24px",boxSizing:"border-box",borderRadius:"8px",cursor:"pointer",userSelect:"none",":hover":{background:e.colors.BGView}})),"label:DivPlaylistCardContainer;"),ua=(0,Me.default)("p",{target:"ejxl5ua1"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P2",color:"TextSecondary"}),{minWidth:"36px",justifyContent:"center",marginInlineEnd:"12px",textAlign:"center",alignItems:"center",fontSize:"16px",lineHeight:"20px"}]),"label:PIndex;"),pa=(0,Me.default)("img",{target:"ejxl5ua2"})({width:"80px",height:"80px",objectFit:"cover",flexShrink:0,borderRadius:"2px"},"label:ImgVideoCover;"),ha=(0,Me.default)("div",{target:"ejxl5ua3"})({width:"80px",height:"80px",flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"2px"},"label:DivCoverContainer;"),ga=(0,Me.default)("div",{target:"ejxl5ua4"})({display:"flex",flexDirection:"column",justifyContent:"space-between",marginInlineStart:"20px",flexGrow:1,height:"80px",padding:"10px 0",boxSizing:"border-box"},"label:DivPlaylistInfoContainer;"),ma=(0,Me.default)("p",{target:"ejxl5ua5"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"P3",color:"TextPrimary"}),(0,Be.m4)(1),{wordBreak:"break-word",fontSize:"16px",lineHeight:"24px"}]),"label:PTitle;"),fa=(0,Me.default)("p",{target:"ejxl5ua6"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P4",color:"TextTertiaryAlt"}),{fontSize:"14px",lineHeight:"22px"}]),"label:PDesc;"),_a=(0,Me.default)("div",{target:"ejxl5ua7"})((({theme:e})=>({width:"36px",height:"28px",display:"flex",justifyContent:"center",alignItems:"center","*":{fill:e.colors.TextSecondary}})),"label:DivIconWrapper;"),va=(0,r.memo)((({id:e,index:t})=>{const i=(0,C.s)(),{name:o="",cover:a,videoCount:r}=(0,w.L$)((0,le.Se)((t=>t[e]),u.bN)),l=i("playlist_webapp_profileview_playlists_numbervid",{num:r,number:(0,w.D1)(r)}),s=(0,da.o0)(o);return(0,n.FD)(ca,{children:[(0,n.Y)(ua,{children:t<9?`0${t+1}`:t+1}),a?(0,n.Y)(pa,{src:a}):(0,n.Y)(ha,{children:(0,n.Y)(la.r,{size:40})}),(0,n.FD)(ga,{children:[(0,n.FD)(ma,{children:[s,o]}),(0,n.Y)(fa,{children:l})]}),(0,n.Y)(_a,{children:(0,n.Y)(sa.D,{size:28})})]})})),ba=(0,Me.default)("div",{target:"eo04fh20"})((()=>[{width:"100%",display:"flex",flexDirection:"column"}]),"label:DivPlaylistContainer;"),ya=(0,Me.default)("p",{target:"eo04fh21"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P3",color:"TextPrimary"}),{fontSize:"16px",lineHeight:"20px",margin:"24px 0 16px"}]),"label:PPlaylistTitle;"),xa=(0,Me.default)("div",{target:"eo04fh22"})({width:"100%",height:"94px",overflowX:"visible",position:"relative"},"label:DivListContainer;"),Ca=(0,Me.default)("div",{target:"eo04fh23"})({width:"100%",height:"94px",overflowX:"auto",overflowY:"hidden",display:"flex",paddingBottom:"6px",position:"relative",scrollbarHeight:"none","::-webkit-scrollbar":{height:0}},"label:DivListInnerContainer;"),wa=(0,Me.default)("div",{target:"eo04fh24"})((({theme:{colors:e,direction:t,isDark:i}})=>[{position:"absolute",width:"32px",height:"32px",borderRadius:"32px",display:"flex",justifyContent:"center",alignItems:"center",border:`0.5px solid ${e.LinePrimary}`,top:"50%",transform:`translateY(-50%) rotateZ(${"rtl"===t?"180deg":0})`,background:i?e.BGInput2:e.BGPrimary,cursor:"pointer"},(0,Be.mp)({direction:t,start:"-16px"})]),"label:DivSwitchLeft;"),ka="94px",Ia=(0,Me.default)("div",{target:"eo04fh25"})((({theme:{colors:e,direction:t}})=>[{background:"rtl"===t?`linear-gradient(0.25turn, ${e.BGPrimary}, 50%, rgba(255,0,0,0))`:`linear-gradient(0.25turn, rgba(255,0,0,0), 50%, ${e.BGPrimary})`,position:"absolute",width:"86px",height:`${ka}`,transform:"translateY(-100%)",pointerEvents:"none"},(0,Be.mp)({direction:t,end:"0px"})]),"label:DivStyledShadow;"),Sa=(0,Me.default)(wa,{target:"eo04fh26"})((({theme:{direction:e}})=>(0,Be.mp)({direction:e,start:"unset",end:"-16px"})),"label:StyledSwitchRight;"),Ta={width:"calc(33% - 4px)",height:`${ka}`},Ya=(0,Me.default)(qn.sH,{target:"eo04fh27"})(Object.assign(Object.assign({},Ta),{marginInlineEnd:"16px",flexShrink:0,borderRadius:"4px","@media screen and (max-width: 1072px)":{minWidth:"230px"}}),"label:StyledSkeleton;"),Da=(0,Me.default)(an.N_,{target:"eo04fh28"})((({theme:{isDark:e,colors:t},$hideMarginEnd:i=!1})=>Object.assign(Object.assign({},Ta),{padding:"12px",boxSizing:"border-box",marginInlineEnd:i?0:"16px",display:"flex",alignItems:"center",flexShrink:0,borderRadius:"4px",cursor:"pointer",background:e?t.BGInput2:t.BGView,"@media screen and (max-width: 1072px)":{minWidth:"230px"}})),"label:StyledLink;"),Fa=(0,Me.default)("div",{target:"eo04fh29"})({width:"100%",height:"100%",display:"flex",alignItems:"center",flexShrink:0,borderRadius:"4px",cursor:"pointer"},"label:DivPlaylistCardContainer;"),Pa=(0,Me.default)("div",{target:"eo04fh210"})((({theme:{colors:e},needBorder:t})=>({width:"72px",height:"72px",borderRadius:"2px",marginInlineEnd:"12px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexShrink:0,border:t?`1px solid ${e.LineSecondary}`:"none"})),"label:DivPlaylistCardCover;"),La=(0,Me.default)("img",{target:"eo04fh211"})({width:"72px",height:"72px",borderRadius:"2px",objectFit:"cover"},"label:ImgCover;"),ja=(0,Me.default)("div",{target:"eo04fh212"})({display:"flex",flexDirection:"column",height:"100%",padding:"4px 0",boxSizing:"border-box",justifyContent:"space-between"},"label:DivPlaylistInfoContainer;"),Ea=(0,Me.default)("p",{target:"eo04fh213"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"P3",color:"TextPrimary"}),(0,Be.m4)(1),{wordBreak:"break-word",fontSize:"16px",lineHeight:"24px"}]),"label:PPlaylistName;"),Ua=(0,Me.default)("p",{target:"eo04fh214"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P4",color:"TextTertiaryAlt"}),{fontSize:"14px",lineHeight:"22px"}]),"label:PDesc;"),Ma=(0,Me.default)("div",{target:"eo04fh215"})((({paddingBottom:e="0px",theme:{colors:t}})=>({width:"692px",height:"calc(100vh - 288px)",maxHeight:"736px",display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:e,background:t.BGTertiary,borderRadius:"8px"})),"label:DivModalContainer;"),Ba=(0,Me.default)("div",{target:"eo04fh216"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"P0",color:"TextPrimary"}),{display:"flex",justifyContent:"center",alignItems:"center",height:"80px",borderBottom:`0.5px solid ${e.colors.LinePrimary2}`,width:"100%",flexShrink:0}]),"label:DivModalTitle;"),Aa=(0,Me.default)("div",{target:"eo04fh217"})({display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%",padding:"8px 16px",boxSizing:"border-box",overflowY:"auto"},"label:DivModalContentContainer;"),Oa=(0,Me.default)("div",{target:"es7r6k70"})((({theme:e,translateY:t,showPlaylistCards:i})=>[(0,Be.mp)({direction:e.direction,end:i?"12px":"200px"}),{position:"absolute",display:"flex",alignItems:"center",justifyContent:"flex-end",top:"10px",transform:`translateY(${t})`,zIndex:"0"}]),"label:DivPlaylistManageContainer;"),za=(0,Me.default)("div",{target:"es7r6k71"})((({theme:e})=>[(0,Be.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P3",color:"TextSecondary"}),{display:"flex",alignItems:"center",marginInlineStart:"16px",cursor:"pointer",fontSize:"16px",lineHeight:"24px"}]),"label:DivManageItem;"),qa=(0,Me.default)(za,{target:"es7r6k72"})((({theme:e})=>({color:e.colors.Primary})),"label:StyledDivManageItem;"),Ra=(0,Me.default)("div",{target:"es7r6k73"})({width:"20px",height:"20px",marginInlineEnd:"2px",display:"flex",justifyContent:"center",alignItems:"center"},"label:DivPlusContainer;"),Na=(0,Me.default)(Ra,{target:"es7r6k74"})({transform:"rotateZ(90deg)",marginInlineEnd:"unset",marginTop:"2px"},"label:StyledReorderContainer;");const Wa=(0,r.memo)((({showPlaylistCards:e=!1})=>{const t=(0,C.s)(),{isDark:i}=(0,b.u)(),[{playlist:o,changeOrderLoading:a,loading:l},s]=(0,re.kn)((e=>{var t;return{playlist:null!==(t=e.playList)&&void 0!==t?t:[],changeOrderLoading:e.changeOrderLoading,loading:e.loading}}),u.bN),d=(0,se.M_)(),[c,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(o);(0,r.useEffect)((()=>{g(o)}),[o,c]);const[m,f]=(0,r.useState)(-1),_=(0,r.useCallback)((()=>{p(!1)}),[]),v=(0,r.useCallback)((()=>{d.setProfileState("create_playlist"),T.c.handleCreatePlaylist()}),[d]),y=(0,r.useCallback)((()=>{p(!0),T.c.handleClickChangePlaylistOrder()}),[]),x=(0,r.useCallback)((()=>{return e=void 0,i=void 0,o=function*(){m<=0||0!==(yield s.changePlaylistOrder({playlist:h,endIndex:m,successCallback:_}))&&X.F.open({content:t("playlist_webapp_toast_error_tryagain"),duration:3,widthType:"half"})},new((n=void 0)||(n=Promise))((function(t,a){function r(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,l)}s((o=o.apply(e,i||[])).next())}));var e,i,n,o}),[s,m,_,h,t]),w=(0,r.useCallback)((e=>{if(!e.destination)return;const t=(0,M.Y)(h,e.source.index,e.destination.index);g(t),f(Math.max(m,e.source.index,e.destination.index))}),[m,h]),k=(0,r.useCallback)((({id:e,index:t})=>(0,n.Y)(va,{id:e,index:t},e)),[]),I=e&&o.length>0?"64px":"0px";return 0===o.length&&l?null:(0,n.FD)(Oa,{translateY:I,showPlaylistCards:e,children:[o.length>=2&&(0,n.FD)(za,{onClick:y,children:[(0,n.Y)(Na,{children:(0,n.Y)(oa.a,{size:16})}),t("playlist_webapp_profileview_btn_changeorder")]}),(0,n.FD)(qa,{onClick:v,children:[(0,n.Y)(Ra,{children:(0,n.Y)(aa.m,{size:16})}),t("playlist_webapp_profile_entry_create")]}),(0,n.Y)(ra.aF,{visible:c,closeStyle:3,onClose:_,zIndex:3e3,children:(0,n.FD)(Ma,{paddingBottom:"92px",children:[(0,n.Y)(Ba,{children:t("playlist_webapp_changeorder_header")}),(0,n.Y)(Aa,{children:(0,n.Y)(M.q,{onDragEnd:w,list:h,renderItem:k})}),(0,n.Y)(F.dJ,{onClick:x,children:(0,n.Y)(Y.y,{style:D.i9,buttonTheme:"primary",disabled:m<=0,loading:a,loadingFill:i?"#fff":void 0,children:t("playlist_webapp_upload_nameplaylist_btn")})})]})})]})}));var Ha=i(65404),$a=i(63849),Va=i(79881);const Ka=e=>{var t,i;return null!==(i=null===(t=null==e?void 0:e.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==i?i:0},Ga=e=>{var t,i;return null!==(i=null===(t=null==e?void 0:e.current)||void 0===t?void 0:t.clientWidth)&&void 0!==i?i:0},Za=(e,t,i)=>{if(i<=0)return;const n=(t-e.scrollLeft)/i*10;setTimeout((function(){e.scrollTo({left:e.scrollLeft+n,behavior:"instant"}),e.scrollLeft!==t&&Za(e,t,i-10)}),10)};var Ja=i(89435);const Qa=(0,r.memo)((0,r.forwardRef)((({id:e,onClickPlaylistCard:t,hideMarginEnd:i},o)=>{const a=(0,C.s)(),{name:l="",cover:s="",videoCount:d=0,creator:c}=(0,w.L$)((0,le.Se)((t=>t[e]),u.bN)),p=a("playlist_webapp_profileview_playlists_numbervid",{num:d,number:(0,w.D1)(d)}),{uniqueId:h}=(0,w.L$)(c),g=(0,r.useMemo)((()=>h&&e?To.$T.videoPlaylist({uniqueId:h,content:l,id:e}):""),[h,l,e]),m=(0,r.useCallback)((e=>e.preventDefault()),[]),f=(0,da.o0)(l);return(0,n.Y)(Da,{forceSSR:!1,to:g,onClick:m,style:{textDecoration:"none"},ref:o,$hideMarginEnd:i,children:(0,n.FD)(Fa,{onClick:t({id:e,name:l,uniqueId:h}),children:[(0,n.Y)(Pa,{needBorder:!s,children:s?(0,n.Y)(La,{src:s}):(0,n.Y)(Ja.y,{size:28,color:"TextQuaternary"})}),(0,n.FD)(ja,{children:[(0,n.FD)(Ea,{children:[f,l]}),(0,n.Y)(Ua,{children:p})]})]},e)})}))),Xa=(0,r.memo)((()=>(0,n.FD)(n.FK,{children:[(0,n.Y)(Ya,{}),(0,n.Y)(Ya,{}),(0,n.Y)(Ya,{}),(0,n.Y)(Ya,{}),(0,n.Y)(Ya,{})]}))),er=(0,r.memo)((({isSelf:e,relation:t})=>{const i=(0,C.s)(),o=(0,l.W6)(),{playlist:a=[],loading:s}=(0,re.aD)((e=>({playlist:e.playList,loading:e.loading})),u.bN),[d,h]=(0,r.useState)(""),[g,m]=(0,r.useState)(""),{language:f="en"}=(0,w.L$)((0,I.W)((()=>["language"]),[])),{rootRef:_}=(({mixId:e})=>{const[t,i]=(0,y.S)(k.O,{selector:t=>{var i;return null!==(i=t[e])&&void 0!==i?i:{}},dependencies:[e]}),n=(0,$a.V6)(),{loading:o=!1,hasMore:a=!0}=(0,w.L$)(t),{language:l}=(0,w.L$)((0,I.W)((()=>["language"]),[])),s=(0,r.useCallback)((()=>{!o&&a&&e&&(n.fetchPlaylistItemList({mixId:e}),i.getPlaylistVideoList({mixId:e,language:l}))}),[a,i,l,o,e,n]);(0,Va.Wj)(e,s);const d=(0,r.useRef)(null);return(0,un.O9)({onHitBottom:s,elemRef:d}),{rootRef:d}})({mixId:d}),[v,b]=(0,y.S)(k.O,{selector:e=>{var t;return null!==(t=e[d])&&void 0!==t?t:{}},dependencies:[d]}),x=(0,$a.V6)(),{videoCount:S}=(0,w.L$)((0,le.Se)((e=>e[d]),u.bN)),{loading:Y=!1,hasMore:D=!0,list:F=[]}=(0,w.L$)(v),[P,L]=(0,r.useState)(!1),j=(0,r.useCallback)((({id:t,name:i,uniqueId:n})=>()=>{if(T.c.handleClickPlaylistEntrance({playlist_id:t}),e){const e=t&&n&&i?To.$T.videoPlaylist({id:t,uniqueId:n,content:i}):"";e&&o.push(e)}else L(!0),h(t),m(i)}),[o,e]),U=(0,r.useCallback)((()=>{L(!1)}),[]),{showBrowserMode:M,isBrowserModeShowing:A}=(0,r.useContext)(E.g),[O,{setItemListKey:z}]=(0,c.BI)((e=>e.itemListKey)),q=(0,r.useRef)(O);(0,r.useEffect)((()=>{!q.current&&O&&(q.current=O)}),[O]),(0,r.useEffect)((()=>{A||z(q.current)}),[A,z]);const R=(0,r.useMemo)((()=>({playlist_id:d,popup_type:"playlist"})),[d]),N=(0,r.useCallback)((e=>()=>{z(d),M({index:e,id:d,teaParams:R,playProgress:0,reportTeaParams:R})}),[d,z,M,R]),W=(0,r.useMemo)((()=>A?{display:"none"}:void 0),[A]),{listCardRef:H,listRef:$,showSwitchLeft:V,hideSwitchRight:K,handleClickSwitchLeft:G,handleClickSwitchRight:Z,handleScroll:J}=(()=>{const e=(0,r.useRef)(null),t=(0,r.useRef)(null),{isRTL:i}=(0,me.m)(),[{playlist:n,hasMore:o},a]=(0,re.kn)((e=>{var t;return{playlist:null!==(t=e.playList)&&void 0!==t?t:[],hasMore:e.hasMore}}),u.bN),l=n.length,[s,d]=(0,r.useState)(!1),[c,h]=(0,r.useState)(!1),g=Ga(e),m=e=>(g+16)*e,f=m(3),_=i?-1*f:f,{secUid:v="",uniqueId:b=""}=(0,se.R0)((e=>({secUid:e.secUid,uniqueId:e.uniqueId})),u.bN),{id:y}=(0,w.L$)((0,p.nW)((e=>{var t;return null===(t=e.users)||void 0===t?void 0:t[b]}),u.bN)),x=(0,r.useCallback)((n=>{if((0,De.Gu)(n),!t.current||!e.current)return;const o=Ka(t),a=i?Math.min(o-_,0):Math.max(o-_,0);Za(t.current,a,200)}),[i,_]),C=(0,r.useCallback)((i=>{if((0,De.Gu)(i),!t.current||!e.current)return;const n=Ka(t);Za(t.current,n+_,200)}),[_]),k=l*g+16*(l-1),I=(0,li._g)((()=>{var e;if(!t.current)return;const i=Math.abs(Ka(t)),n=(null===(e=null==t?void 0:t.current)||void 0===e?void 0:e.scrollWidth)-i-Ga(t);k-i<=m(4)&&a.getVideoPlaylistData({secUid:v,uid:y}),h(!o&&n<5),d(0!==i)}),[l,g],200);return{listRef:t,listCardRef:e,showSwitchLeft:s,hideSwitchRight:c,handleClickSwitchLeft:x,handleClickSwitchRight:C,handleScroll:I}})();return(0,r.useEffect)((()=>{!Y&&0===F.length&&D&&d&&(x.fetchPlaylistItemList({mixId:d}),b.getPlaylistVideoList({mixId:d,language:f}))}),[D,b,f,F.length,d,Y,t,x]),(0,n.FD)(ba,{children:[(s||a.length>0)&&(0,n.FD)(n.FK,{children:[(0,n.Y)(ya,{children:i("playlist_webapp_profileview_playlists")}),(0,n.FD)(xa,{children:[(0,n.FD)(Ca,{ref:$,onScroll:J,children:[a.map(((e,t)=>(0,n.Y)(Qa,{id:e,onClickPlaylistCard:j,ref:0===t?H:void 0,hideMarginEnd:t===a.length-1},e))),s&&(0,n.Y)(Xa,{})]}),V&&(0,n.Y)(wa,{onClick:G,children:(0,n.Y)(Ha.p,{size:16})}),a.length>3&&!K&&(0,n.FD)(n.FK,{children:[(0,n.Y)(Ia,{}),(0,n.Y)(Sa,{onClick:Z,children:(0,n.Y)(tn.a,{size:16})})]})]}),(0,n.Y)(ya,{children:i("Videos")})]}),(0,n.Y)(ra.aF,{visible:P,containerStyle:W,maskCloseable:!0,onClose:U,zIndex:3e3,closeStyle:3,children:(0,n.FD)(Ma,{children:[(0,n.FD)(Ba,{children:[g,"Â (",S,")"]}),(0,n.FD)(Aa,{ref:_,children:[F.map(((e,t)=>(0,n.Y)(B.$E,{id:e,index:t,onClickVideoItem:N(t),extraTeaParams:R},e))),Y&&(0,n.Y)(pn.R,{size:48})]})]})})]})})),tr=(0,i(47236).Ay)({resolved:{},chunkName:()=>"favorites",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(9443),i.e(4062)]).then(i.bind(i,57379)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>57379}),ir=(0,Me.default)("div",{target:"e1jjp0pq0"})((({theme:{direction:e}})=>[{position:"relative",top:"0px",zIndex:"0",display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"stretch",width:"100%",height:"44px"},(0,Be.mp)({direction:e})]),"label:DivVideoFeedTab;"),nr=({theme:e,theme:{colors:t},active:i})=>{let n="#73747b";return i?n=t.Primary2:e.isDark&&(n=t.TextTertiary),[(0,Be.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"semiBold",typography:"P1"}),{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:"44px",padding:"0 32px",cursor:"pointer",textAlign:"center",color:n,gap:"4px","& > svg":{height:"20px",width:"20px"}}]},or=(0,Me.default)("p",{target:"e1jjp0pq1"})(nr,"label:PPost;"),ar=(0,Me.default)("p",{target:"e1jjp0pq2"})(nr,"label:PRepost;"),rr=(0,Me.default)("p",{target:"e1jjp0pq3"})(nr,"label:PFavorite;"),lr=(0,Me.default)("p",{target:"e1jjp0pq4"})(nr,"label:PLike;"),sr=(0,Me.default)("span",{target:"e1jjp0pq5"})((({theme:{direction:e}})=>(0,Be.mp)({direction:e,marginStart:6})),"label:SpanLiked;"),dr=(0,Me.default)("div",{target:"e1jjp0pq6"})((({theme:{colors:e,direction:t}})=>[{position:"absolute",height:"2px",background:e.TextPrimary,bottom:"0",transition:"transform .3s"},(0,Be.mp)({direction:t,start:0})]),"label:DivBottomLine;"),cr={padding:"2px",marginTop:"2px",marginBottom:"8px"},ur=(0,Me.default)("div",{target:"e1jjp0pq7"})((({theme:{colors:e},hasPlaylist:t,backgroundColor:i=e.BGPrimary})=>[{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",minHeight:"46px",marginBottom:t?void 0:"24px",backgroundColor:i,"::after":{position:"absolute",bottom:0,left:0,content:'""',width:"100%",height:"1px",backgroundColor:e.ShadowPrimary,transform:"scaleY(50%)"}}]),"label:FeedTabWrapper;");var pr=i(14371);const hr=(0,r.memo)((function({detailInfo:e}){var t;const i=(0,C.s)(),{isRTL:o}=(0,me.m)(),{isRepostTabEnabled:a}=(0,pe.hn)(),{isCollectionEnabled:s}=(0,pe.Ge)(),{isInNavPhase3:d}=(0,pe.vY)(),{isPostSortRightThreeOptionsEnabled:p}=(0,pe.s0)(),[{hasRepostVideo:g,hasMoreRepostVideo:m},f]=(0,ea.zu)((e=>({hasMoreRepostVideo:e.hasMore,hasRepostVideo:e.list.length>0})),u.bN),_=(0,Zo.x6)((e=>{var t,i;return(null!==(i=null===(t=e.collectionList)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>0})),{user:b,statusCode:y}=(0,w.L$)(e),{relation:x,secUid:k="",openFavorite:I,profileTab:S,canExpPlaylist:T=!1,privateAccount:Y=!1}=(0,w.L$)(b),{uniqueId:D}=(0,l.g)(),{showPlayListTab:F=!1}=(0,w.L$)(S),P=(0,yn.b3)({secUid:k,uniqueId:D}),{state:{isJumpToFavorite:L=!1}={}}=(0,l.zy)(),[j,E]=(0,h.eW)(),U=(0,r.useRef)(null),M=(0,r.useRef)(null),B=(0,r.useRef)(null),A=(0,r.useRef)(null),O=(0,r.useRef)(D),z=(0,r.useRef)(L),[q,R]=(0,r.useState)({left:0,width:0}),N=(0,ta.cI)(),W=(0,we.Nj)(Jo.AU),H=(0,ia.Ag)(),[{selectedTab:$},V]=(0,se.dF)((e=>({selectedTab:e.selectedTab})),u.bN),K=(0,r.useMemo)((()=>({"user-post":U,"user-repost":M,favorites:B,"user-liked":A})),[]),[G,Z]=(0,r.useState)(0),J={author_id:Number(null!==(t=null==b?void 0:b.id)&&void 0!==t?t:0),page_name:P?"personal_homepage":"others_homepage",sort_option:"latest"},Q=(0,fe.CC)(y);(0,r.useEffect)((()=>{Z(0)}),[k]),(0,r.useEffect)((()=>{G<1&&k&&a&&!g&&m&&!Q&&(Z((e=>e+1)),f.getItemList({secUid:k}))}),[k,G,a,g,m,Q]),(0,r.useEffect)((()=>{var e,t;O.current!==D&&(V.setSelectedTab("user-post"),R({left:0,width:null!==(t=null===(e=U.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==t?t:0}),N.setLoading(!1),O.current=D)}),[N,D]);const X=(0,c.YZ)();(0,r.useEffect)((()=>{X.setItemListKey($)}),[X,$]),(0,r.useEffect)((()=>{var e,t;R({left:0,width:null!==(t=null===(e=U.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==t?t:0})}),[]);const ee=(0,r.useCallback)((e=>{const{offsetWidth:t}=(0,w.L$)(e.parentNode),{offsetLeft:i,offsetWidth:n}=e;return o?i+n-t:i}),[o]),te=(0,r.useCallback)((e=>t=>{if($===e)return;"favorites"!==e||z.current||Qo.W.handleEnterFavourite("click_favourite_tab"),"user-liked"===e&&Xo.z.handleEnterLike("click_like_tab"),H.setLoading($,!1),X.setItemListKey(e);const i=t.currentTarget,n=ee(i),o=i.offsetWidth;R({left:n,width:o}),V.setSelectedTab(e),W.handleUserChangeVideoOrPlayMode()}),[$,H,X,ee,V,W]),ie=(0,r.useCallback)((e=>t=>{13!==t.keyCode&&32!==t.keyCode||te(e)(t)}),[te]),ne=(0,r.useCallback)((e=>{const t=ee(e.currentTarget),i=e.currentTarget.offsetWidth;R({left:t,width:i})}),[ee]),oe=(0,r.useCallback)((()=>{var e,t;const i=K[$].current;if(i){const n=ee(i);R({left:n,width:null!==(t=null===(e=K[$].current)||void 0===e?void 0:e.offsetWidth)&&void 0!==t?t:0})}}),[ee,$,K]),ae=(0,r.useCallback)((e=>{var t;E.setUserPostSortType(e),0===e?J.sort_option="latest":1===e?J.sort_option="popular":2===e&&(J.sort_option="oldest"),t=J,Ee.f.sendEvent("click_sort_option",t)}),[J]);(0,r.useEffect)((()=>{z.current=L}),[L]),(0,r.useEffect)((()=>{if(z.current){te("favorites")({currentTarget:K.favorites.current}),z.current=!1;const e=Object.assign(Object.assign({},window.history.state),{state:Object.assign(Object.assign({},window.history.state.state),{isJumpToFavorite:!1})});window.history.replaceState(e,document.title)}}),[te,K,L]);const re=4===x,le=(0,r.useMemo)((()=>!(Y&&!P)&&F&&!re&&"user-post"===$),[Y,P,F,re,$]),de=P&&T,ce=a&&g,ue=P||s&&_;(0,r.useEffect)((()=>{if(ce||ue){const e=K[$].current,t=ee(e),i=e.offsetWidth;R({left:t,width:i})}}),[ce,ue,K,$,ee]);const he=(0,r.useMemo)((()=>Q?(0,n.Y)(v.aS,{statusCode:y}):(0,n.FD)(n.FK,{children:["user-post"===$&&(0,n.FD)(n.FK,{children:[de&&(0,n.Y)(Wa,{showPlaylistCards:le}),le&&(0,n.Y)(er,{isSelf:P,relation:x})]}),"favorites"===$&&s?(0,n.Y)(tr,{detailInfo:e}):(0,n.Y)(pr.z,{detailInfo:e,listKey:$})]})),[Q,$,de,le,s,e,P,x]);return(0,n.FD)(v.zk,{style:{minWidth:"0"},children:[(0,n.FD)(ur,{hasPlaylist:le,backgroundColor:d?go.Tj4.UIPageFlat1:void 0,children:[(0,n.FD)(ir,{onMouseLeave:oe,children:[(0,n.FD)(or,{"aria-selected":"user-post"===$,role:"tab",active:"user-post"===$,ref:U,"data-e2e":"videos-tab",onMouseEnter:ne,onClickCapture:te("user-post"),onKeyDown:ie("user-post"),tabIndex:0,children:[s&&(0,n.Y)(No.C,{}),(0,n.Y)("span",{children:i("Videos")})]}),(0,n.FD)(ar,{"aria-selected":"user-repost"===$,role:"tab",active:"user-repost"===$,ref:M,"data-e2e":"repost-tab",onMouseEnter:ne,onClickCapture:te("user-repost"),onKeyDown:ie("user-repost"),tabIndex:0,style:{display:ce?void 0:"none"},children:[s&&(0,n.Y)(Wo.z,{}),(0,n.Y)("span",{children:i("pcWeb_repostTab")})]}),(0,n.Y)(rr,{"aria-selected":"favorites"===$,role:"tab",active:"favorites"===$,onMouseEnter:ne,onClickCapture:te("favorites"),style:{display:ue?void 0:"none"},ref:B,onKeyDown:ie("favorites"),tabIndex:0,children:s?(0,n.FD)(n.FK,{children:[P?(0,n.Y)(Ho.o,{}):(0,n.Y)($o.M,{}),(0,n.Y)("span",{children:i("sortbyvv_profile_tab_text_favorites")})]}):(0,n.FD)(n.FK,{children:[(0,n.Y)(Go.A,{}),(0,n.Y)(sr,{children:i("sortbyvv_profile_tab_text_favorites")})]})}),(0,n.Y)(lr,{"aria-selected":"user-liked"===$,role:"tab",active:"user-liked"===$,ref:A,"data-e2e":"liked-tab",onMouseEnter:ne,onClickCapture:te("user-liked"),onKeyDown:ie("user-liked"),tabIndex:0,children:s?(0,n.FD)(n.FK,{children:[I?(0,n.Y)(Vo.K,{}):(0,n.Y)(Ko.w,{}),(0,n.Y)("span",{children:i("liked")})]}):(0,n.FD)(n.FK,{children:[!I&&(0,n.Y)(Go.A,{}),(0,n.Y)(sr,{children:i("liked")})]})}),(0,n.Y)(dr,{style:{transform:`translateX(${q.left}px)`,width:q.width}})]}),"user-post"===$&&p&&(0,n.Y)(go.DUM,{compact:!0,size:"xs",shape:"rectangle",style:cr,value:j,onChange:ae,items:[{value:0,title:i("ttep_homepage_nav_header_latest")},{value:1,title:i("nonpersonalizedFeeds_LIVEfeed_navP_menuLink")},...p?[{value:2,title:i("sortVideos_menu_oldest")}]:[]]}),"favorites"===$&&s&&P&&(0,n.Y)(na.B,{isOnTabBar:!0})]}),he]})})),gr=(0,Me.default)("div",{target:"e1ej9wgb0"})({flex:"1 1 auto",overflow:"hidden"},"label:UserContainer;");var mr=i(81054),fr=i(6990),_r=i(20024);const vr=(0,mr.Ay)({resolved:{},chunkName:()=>"user-side-effect",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(9443),i.e(6328)]).then(i.bind(i,87533)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>87533},Object.assign({},fr.KE)),br=[0,10222,209001,209002,209003,209004,209005,209006],yr=a()(s.F,(0,_.JP)("user-post"),(0,d.c)("others_homepage"))((function({containerID:e,tabIndex:t}){var i;const o=(0,c.JD)((e=>e.jumpSamePageTime)),{uniqueId:a}=(0,l.g)(),s=a.toLowerCase(),d=(0,yn.b3)({uniqueId:s,secUid:a}),b=(0,r.useMemo)((()=>d?"personal_homepage":"others_homepage"),[d]);(0,f.x)(b,o);const{justWatchedVideoId:y,justWatchedAuthorUniqueId:x}=(0,yn.xr)(),{user:C}=null!==(i=(0,m.x)())&&void 0!==i?i:{},[{uniqueId:w,statusCode:k=0,profileState:I},S]=(0,se.dF)((e=>{var t;return{uniqueId:e.uniqueId,statusCode:null!==(t=e.statusCode)&&void 0!==t?t:0,profileState:e.profileState}}),u.bN),T=(0,p.nW)((e=>{var t;const i=e.users[null!=w?w:""],n=e.stats[null!=w?w:""];return"number"==typeof(null===(t=null==i?void 0:i.extraInfo)||void 0===t?void 0:t.statusCode)&&n?{statusCode:k,user:i,stats:n}:{statusCode:k}}),u.bN),Y=(0,yn.tg)();(0,yn.Nj)(),(0,r.useEffect)((()=>S.resetUserPage),[S,a]);const D=(0,h.I4)((e=>e.items),u.bN);return _r.Rg("item-cover-use-stable-url-hook",{items:D}),_r.Rg("user-page-crawling-limitation-strategy-5",{userStats:null==T?void 0:T.stats,itemList:D}),(0,g.o)((()=>S.getUserInfo(Object.assign(Object.assign(Object.assign({},Y),y&&x===(null==Y?void 0:Y.uniqueId)&&{locateItemID:y}),{needAudienceControl:(null==C?void 0:C.uniqueId)!==(null==Y?void 0:Y.uniqueId)}))),[S,Y]),"create_playlist"===I||"create_playlist_ready"===I?(0,n.Y)(ce,{}):(0,n.Y)(n.FK,{children:(0,n.FD)(gr,{children:[(0,n.Y)(vr,{userData:T}),(0,n.Y)(v.EA,{"data-e2e":"user-page",id:e,tabIndex:t,disableResponsiveV2:!0,children:(0,n.Y)(_.cM,{id:null!=w?w:"",detailInfo:T,successStatusCodeList:br,List:hr,Header:Ro,Error:ue.yo})})]})})})),xr=yr},14371:(e,t,i)=>{i.d(t,{z:()=>ae});var n=i(2787),o=i(40099),a=i(60484),r=i(48615),l=i(79881),s=i(12055),d=i(22613),c=i(88920),u=i(55453),p=i(25206),h=i(32744),g=i(92032),m=i(44630),f=i(32125),_=i(92866),v=i(24834),b=i(66551),y=i(60193),x=i(70119),C=i(99260),w=i(62186),k=i(75431),I=i(72153);const S=k.i7`
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
`,T=(0,w.default)("div",{target:"e139luw90"})({width:"100%",height:"100%",position:"relative",opacity:0,animation:`${S} .5s cubic-bezier(0.95, 0.05, 0.795, 0.035) forwards`},"label:DivLiveItem;"),Y=(0,w.default)("div",{target:"e139luw91"})((({theme:e})=>({width:"100%",fontSize:"16px",fontStyle:"normal",fontWeight:400,lineHeight:"130%",color:e.colors.TextPrimary,marginTop:4,padding:"2px 4px 0px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})),"label:DivLiveTitle;"),D=(0,w.default)("div",{target:"e139luw92"})((({theme:{direction:e}})=>[{position:"absolute",zIndex:20,top:8},(0,I.mp)({direction:e,end:8})]),"label:DivLiveBadgeWrapper;"),F=(0,w.default)("span",{target:"e139luw93"})((({theme:e})=>[(0,I.zy)({theme:e,typography:"P3",fontWeight:"medium",color:"ConstTextInverse"}),{display:"inline-block",height:20,background:"linear-gradient(131deg, #FF1764 0%, #ED3495 94.15%)",lineHeight:"16px",padding:"2px 5px",borderRadius:"4px"}]),"label:SpanLiveBadge;");var P=i(25616),L=i(23692),j=i(51664),E=i(31344),U=i(35656),M=i(61595),B=i(7162),A=i(28913),O=i(914),z=i(8301),q=i(84642),R=i(73227),N=i(68278),W=i(96101);const H=(0,w.default)("div",{target:"e1kupnb0"})((({theme:e})=>[{width:"100%",height:"100%",background:e.colors.ConstBGInverse,position:"relative",borderRadius:4,overflow:"hidden"}]),"label:DivLiveWrapper;"),$=(0,w.default)("div",{target:"e1kupnb1"})((()=>[{width:"100%",height:370,position:"absolute",transform:"translateY(-50%)",top:"50%",right:0,zIndex:1}]),"label:DivLiveCutter;"),V=(0,w.default)("div",{target:"e1kupnb2"})({width:"100%",height:"100%",position:"absolute",zIndex:3,pointerEvents:"none",top:0,left:0},"label:DivFeedPlayerMultiGuestPanelWrapper;");var K=i(9782),G=i(4245),Z=i(93608),J=i(64738);const Q=e=>{const{url:t,drmSecretKey:i,roomId:a,liveLinkTeaParams:r,onPlay:l}=e,[s,d]=(0,J.useAtom)(M.K),c=(0,o.useRef)(),u=(0,o.useRef)(!1),p=(0,o.useRef)(!1),[h,g]=(0,o.useState)(!0),[m]=(0,J.useAtom)(B.J),{handleMultiGuestPanelShow:f}=(0,A.P)({roomId:a,active:!0}),_=(0,o.useRef)(0),v=(0,o.useMemo)((()=>({enter_from_merge:r.enter_from_merge,enter_method:r.enter_method,follow_status:r.follow_status,anchor_id:r.anchor_id,room_id:r.room_id,action_type:r.action_type,previous_page:Z.f.commonParams.previous_page})),[r]),b=(0,o.useCallback)((()=>{var e;if(!u.current)return null===(e=c.current)||void 0===e||e.retry(),void(u.current=!0);K.mx.handleLivePreviewFail(Object.assign({},v)),d(Object.assign(Object.assign({},s),{isError:!0}))}),[s,d,u,c,r]),y=(0,o.useCallback)((()=>{l(),g(!0),_.current=Date.now(),p.current=!1}),[r]),x=(0,o.useCallback)((()=>{_.current>0&&!p.current&&G.p.handleLivePreviewDuration(Object.assign(Object.assign({},v),{duration:Date.now()-_.current}),{sendBeacon:!0})}),[_,v]),C=(0,o.useCallback)((()=>{g(!1),x()}),[g,x]);(0,o.useEffect)((()=>{const e=()=>{x(),p.current=!0};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]),(0,o.useEffect)((()=>()=>{x(),p.current=!0}),[]);const{handleMultiGuestSeiParsedCallback:w,multiGuestMaskPanelProps:k}=(0,O.$)({hideUserCoin:!0,handleMultiGuestShow:f,linkedUsers:m.linkedUsers}),{handleMultiGuestSeiParsed:I}=(0,z.n)({handleMultiGuestSeiParsedCallback:w,url:t,handleMultiGuestSeiParsedReport:()=>{}}),S=(0,o.useCallback)(((e,t,i)=>{e&&t&&i&&I(e,t,i)}),[I]),T=(0,q.C)({handleParentPlayError:b}),{handlePlayError:Y,handleStreamEnd:D}=(0,R.Z)({active:!0,handleParentPlayError:b,roomId:a,playerRef:c,noPreCheck:!0});return(0,n.Y)(H,{children:(0,n.FD)($,{children:[(0,n.Y)(N.d,Object.assign({ref:c,visible:!0,defaultVolume:0,showVolumeIcon:!1,defaultMuted:!0,playing:h,autoInit:!0,autoplay:!0,autoMutedPlay:!0,url:t,drmSecretKey:i,onPlay:y,onPause:C,onPlayError:Y,onStreamEnd:D,onSeiParsed:S},T)),(0,n.Y)(V,{children:(0,n.Y)(W.y,Object.assign(Object.assign({},k),{canShowUserInfo:!1}))})]})})};var X=i(63185),ee=i(80635);const te=(0,o.memo)((e=>{const{userData:t}=e,i=(0,P.s)(),{isInProductHoldout:a}=(0,c.Vv)(),r=!a,l=null==t?void 0:t.user,{showPreviewPlayer:s,streamUrl:u,drmSecretKey:p}=(0,d.H)(l,"v3"),{recordingInitTime:h,sendFirstFrameDuration:g}=(0,L.T)(),m=(0,j.AL)({user:l,enterMethod:"video_live_cell"}),f=(0,o.useMemo)((()=>({enter_from_merge:m.enter_from_merge,enter_method:m.enter_method})),[m]),_=(0,o.useCallback)((()=>{g()}),[g]),v=(0,o.useCallback)((()=>{K.mx.handleRecLivePlay({enter_from_merge:m.enter_from_merge,enter_method:m.enter_method,follow_status:m.follow_status,anchor_id:m.anchor_id,room_id:m.room_id,action_type:m.action_type,previous_page:Z.f.commonParams.previous_page})}),[m]);return(0,o.useEffect)((()=>{s&&(K.mx.handleLiveShow({enter_from_merge:m.enter_from_merge,enter_method:m.enter_method,follow_status:m.follow_status,anchor_id:m.anchor_id,room_id:m.room_id,action_type:m.action_type,previous_page:Z.f.commonParams.previous_page}),h())}),[s]),(0,n.Y)(n.FK,{children:s&&u?(0,n.FD)(X.iP,{style:{overflow:"hidden"},children:[(0,n.Y)(ee.w,{copyrightMuted:!1,ratio:E.f.compact.ratio,children:(0,n.Y)(U.B,{uniqueId:(null==l?void 0:l.uniqueId)||"",secUid:null==l?void 0:l.secUid,teaParams:m,extraQuery:f,onClick:v,children:(0,n.FD)(T,{children:[(0,n.Y)(D,{children:(0,n.Y)(F,{children:i("LIVE")})}),(0,n.Y)(Q,{url:u,drmSecretKey:p,roomId:null==l?void 0:l.roomId,liveLinkTeaParams:m,onPlay:_})]})})}),r?null:(0,n.Y)("div",{style:{position:"relative",display:"flex"},children:(0,n.Y)(Y,{children:i("webLIVE_personalPage_LIVEbanner_title",{username:null==l?void 0:l.uniqueId})})})]}):null})}));var ie=i(65444);const ne=(0,o.memo)((function({detailInfo:e,listInfo:t,listKey:i}){const{list:s,loading:d,hasMore:c,hasLocateItem:u}=t,{user:p}=e,{count:h}=(0,C.R8)(),g=(0,C.Sw)({user:p,listKey:i,count:h}),{isGoogleBot:m}=(0,a.L$)((0,r.U)((()=>["isGoogleBot"]),[])),f=(0,o.useCallback)((()=>{!d&&c&&0!==s.length&&g()}),[c,g,d,s.length]);(0,l.Wj)(i,f);const _=(0,o.useMemo)((()=>{let e;switch(i){case"favorites":e="favourite_video";break;case"user-liked":e="liked_video";break;case"user-repost":e="reposted_video";break;default:e="personal_video"}return{tab_name:e}}),[i]),v=(0,o.useMemo)((()=>"user-post"===i?[{position:0,renderNode:()=>{var t,i;return(0,n.Y)(te,{userData:e},null!==(i=null===(t=e.user)||void 0===t?void 0:t.id)&&void 0!==i?i:"0")}}]:[]),[i,e]);return(0,n.Y)(b.Z,{pageType:1,itemList:s,itemListKey:i,loading:d,onHitBottom:f,ssrLimit:16,ssrLimitDisable:m,teaParams:_,renderMap:v,hasLocateItem:u})}));function oe(){return(0,n.Y)(_.C,{cardWidth:"196px",cardHeight:"260px",radius:"2px",gap:"2px",isUser:!0})}const ae=(0,o.memo)((function({detailInfo:e,listKey:t}){const{user:i}=e,a=(0,g.jf)((e=>(0,m.yI)(t)?e[t]:s.q),f.bN),{justWatchedVideoId:r,justWatchedAuthorUniqueId:l}=(0,C.xr)(),{count:_}=(0,C.R8)(),{hasMore:b,list:w,statusCode:k,preloadList:I}=a,S=(0,C.Sw)(Object.assign(Object.assign({user:i,listKey:t},r&&l===(null==i?void 0:i.uniqueId)&&{locateItemID:r}),{count:_})),T=(0,y.V)({user:i,listKey:t}),{showPreviewPlayer:Y}=(0,d.H)(i,"v3");(0,c.uT)()?(0,u.xB)(null!=I?I:[]):(0,p.$D)(null!=I?I:[]),(0,o.useEffect)((()=>{!T&&0===k&&0===w.length&&b&&(null==i?void 0:i.secUid)&&S()}),[b,w.length,S,T,k,null==i?void 0:i.secUid]);const{delayUntilFirstItem:D,delayUntilAnyItem:F}=(0,c.W3)();if((0,o.useEffect)((()=>{(D||F)&&(T||0===k&&0===w.length&&!b&&(null==i?void 0:i.secUid))&&ie.aY.updateUserProfileLoadEvent()}),[b,w.length,T,k,null==i?void 0:i.secUid]),T){const{title:e,desc:t,icon:i,isLikePrivate:o}=T;let a="",r="";return o&&(a="like-title",r="like-desc"),(0,n.Y)(h.W,{isFullScreen:!0,title:e,desc:t,iconElem:i,e2eTitle:a,e2eDesc:r,ignoreErrorReport:!0})}return(0,n.Y)(v.s6,{Error:x.s5,Empty:x.lD,List:ne,Skeleton:oe,detailInfo:e,listInfo:a,listKey:t,hasLivePreview:Y})}))},68278:(e,t,i)=>{i.d(t,{d:()=>s});var n=i(24643),o=i(40099),a=i(47500),r=i(44960),l=i(19310);const s=(0,o.forwardRef)(((e,t)=>{const{defaultVolume:i,defaultMuted:s,onVolumeChange:d,onMutedChange:c,showVolumeIcon:u}=e,p=(0,o.useRef)(null),{xgplayer:h,mutedPlay:g,handlePlayerDestroy:m}=(0,a.F)(Object.assign(Object.assign({},e),{playerContainerRef:p}));return(0,o.useImperativeHandle)(t,(()=>({destroy:()=>{m()},retry:()=>{var e;null===(e=h.current)||void 0===e||e.retry()}}))),(0,n.jsx)(l.S1,{ref:p,children:(0,n.jsx)(l.jw,{children:(0,n.jsx)(r.b,{xgplayer:h,visible:u,defaultVolume:i,defaultMuted:s,mutedPlay:g,onVolumeChange:d,onMutedChange:c})})})}))},22613:(e,t,i)=>{i.d(t,{H:()=>s});var n=i(40099),o=i(61595),a=i(76579),r=i(54073),l=i(64738);const s=(e,t)=>{const[{roomInfo:i},s]=(0,l.useAtom)(o.r),{livePreviewAb:d}=(0,a.$7)(),{livePreviewSonAb:c}=(0,a.Ru)(),[u]=(0,l.useAtom)(o.K),p=(0,n.useMemo)((()=>(d===t||c===t)&&u.isLive&&!u.isError),[d,u]);(0,n.useEffect)((()=>{p&&s({owner_user_id:null==e?void 0:e.id,scene:"webapp_profile_preview"})}),[p]);const h=(0,n.useMemo)((()=>{var e,t;const n=null===(t=null===(e=null==i?void 0:i.stream_url)||void 0===e?void 0:e.live_core_sdk_data)||void 0===t?void 0:t.pull_data;if(!n)return null;const o=r.WL.getAvailableStream(n,{targetQuality:"sd",direction:"up"});return null==o?void 0:o.url.mainFLV}),[i]),g=null==i?void 0:i.user_count,m=4===(null==e?void 0:e.relation),f=(0,n.useMemo)((()=>!(!p||!h||m)),[p,h,m]),_=(0,n.useMemo)((()=>{var e,t;const n=null===(t=null===(e=null==i?void 0:i.stream_url)||void 0===e?void 0:e.live_core_sdk_data)||void 0===t?void 0:t.pull_data;if(n)return r.WL.getStreamSecretKey(n)}),[i]);return{showPreviewPlayer:f,streamUrl:h,userCount:g,abVersion:t,isBlockedUser:m,drmSecretKey:_}}},23692:(e,t,i)=>{i.d(t,{T:()=>s});var n,o=i(40099),a=i(73580),r=i(11654);!function(e){e.FirstFrameDuration="live_user_inner_play_duration"}(n||(n={}));const l={initTime:0,firstFrameTime:0};function s(){const e=(0,a.Nj)(r.V),t=(0,o.useRef)(!0);return{recordingInitTime:(0,o.useCallback)((()=>{l.initTime=Date.now()}),[l]),sendFirstFrameDuration:(0,o.useCallback)((()=>{t.current&&(l.firstFrameTime=Date.now(),e.emitEvent("live_user_inner_play_duration",{duration:l.firstFrameTime-l.initTime},{}),t.current=!1)}),[l,e,t])}}},36488:(e,t,i)=>{i.d(t,{R:()=>Y,F:()=>D});var n=i(24643),o=i(46682),a=i(40099),r=i(47172),l=i(10828),s=i(56013),d=i(50789),c=i(82715),u=i(91857),p=i(28086),h=i(64738),g=i(32125),m=i(13549),f=i(58632),_=i(71111),v=i(39785),b=i(39228);const y=(0,v.M)({csr:e=>(0,f.__awaiter)(void 0,void 0,void 0,(function*(){const{url:t}=e;return yield b.hd.get("/api/seo/redirection/",{query:{url:t}})}))}),x={needRedirect:!1},C=(0,p.z)({initState:x,rehydrationDataKey:"shared.seo.pageRedirect",fetchAction:(e,t)=>(0,f.__awaiter)(void 0,void 0,void 0,(function*(){const{url:e}=t;let i;try{i=yield y(t)}catch(t){return{needRedirect:!1,loadedURL:e}}const{redirectURL:n}=i;return{pageRedirectURL:n,loadedURL:e,needRedirect:void 0!==n}}))}),w=(0,g.pj)(C),k=(0,_.atom)(null,((e,t)=>{t(w,x)}));var I=i(39589);const S=Object.assign(Object.assign({},c.OZ),u.Ob),T=e=>Object.values(S).some((t=>null!==(0,r.matchPath)(e,{path:t})));function Y(e,t){return function(i){const[{atomState:o},s]=(0,p.I)(C),{pageRedirectURL:d,loadedURL:c,needRedirect:u}=o,g=(0,h.useSetAtom)(k),f=(0,r.useHistory)(),_=(0,r.useLocation)(),v=`${l.C}${decodeURIComponent(_.pathname)}`,b=_.search;return(0,m.o)((()=>[s({url:v}),()=>{g()}]),[v]),(0,a.useEffect)((()=>{if(d){const e=new URL(d);decodeURIComponent(e.pathname)!==decodeURIComponent(_.pathname)&&(T(e.pathname)?f.push(`${e.pathname}${b||""}`):window.location.href=d)}}),[d,f,_.pathname,b]),c!==v||u?(0,n.jsx)(n.Fragment,{children:t}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e,Object.assign({},i))})}}function D(e){return function(t){const{pathname:i}=(0,r.useLocation)(),c=`${l.C}${i}`,[{abtest:u},p]=(0,o.S)(d.p),[h,f]=(0,s.ZC)((e=>e.abtest),{equalityFn:g.bN});return(0,m.o)((()=>f.setAbtest(c)),[p,c]),(0,a.useEffect)((()=>{h&&!u&&p.setAbTest(h)}),[h,u]),u?(0,n.jsx)(I.K.Provider,{value:u,children:(0,n.jsx)(e,Object.assign({},t))}):null}}},4245:(e,t,i)=>{i.d(t,{p:()=>a});var n,o=i(93608);!function(e){e.Duration="livesdk_live_window_duration_v2"}(n||(n={}));const a={handleLivePreviewDuration:(e,t)=>{(null==t?void 0:t.sendBeacon)?o.f.beconEvent("livesdk_live_window_duration_v2",e):o.f.event("livesdk_live_window_duration_v2",e)}}},54129:(e,t,i)=>{i.d(t,{s:()=>a});var n,o=i(93608);!function(e){e.SaveProfile="save_profile",e.ClickEditProfile="click_edit_profile",e.EditProfileNotifyShow="edit_profile_notify_show",e.CancelEditProfile="cancel_edit_profile",e.CancelEditProfileShow="cancel_edit_profile_show"}(n||(n={}));const a={handleSaveReport:e=>{o.f.event("save_profile",e)},handleClickEditProfile:e=>{o.f.event("click_edit_profile",e)},handleShowProfileTooltip:e=>{o.f.event("edit_profile_notify_show",e)},handleCancelEditProfile:e=>{o.f.event("cancel_edit_profile",e)},handleCloseProfileTooltip:e=>{o.f.event("cancel_edit_profile_show",e)}}}}]);