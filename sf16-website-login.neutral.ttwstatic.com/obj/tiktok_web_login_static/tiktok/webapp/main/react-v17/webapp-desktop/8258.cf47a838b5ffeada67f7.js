"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8258],{68572:(e,t,i)=>{i.d(t,{p:()=>d});var o=i(40099),n=i(60072),r=i(84908),a=i(32125),l=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i};const d=(e,t)=>{const[i,d]=(0,n.l8)((t=>t[e]),a.bN),s=(0,r.nW)((e=>(null==i?void 0:i.author)?e.users[i.author]:void 0),a.bN);return{handleUpdatePhotoCover:(0,o.useCallback)((e=>{if(!t||!(null==i?void 0:i.imagePost))return;const o=e.naturalHeight,n=e.naturalWidth,{author:r}=i,a=l(i,["author"]);a.imagePost.cover.imageHeight=o,a.imagePost.cover.imageWidth=n,a.imagePost.shareCover.imageHeight=o,a.imagePost.shareCover.imageWidth=n,a.video.height=o,a.video.width=n,a.author=s,d.setItem(a)}),[s,t,i,d]),handleUpdatePhotoImages:(0,o.useCallback)((e=>{var t;if(!(null===(t=null==i?void 0:i.imagePost)||void 0===t?void 0:t.images))return;const{author:o}=i,n=l(i,["author"]);e.forEach(((e,t)=>{const i=e.naturalHeight,o=e.naturalWidth;n.imagePost.images[t].imageHeight=i,n.imagePost.images[t].imageWidth=o})),n.author=s,d.setItem(n)}),[s,i,d])}}},80635:(e,t,i)=>{i.d(t,{w:()=>p});var o=i(2787),n=i(40099),r=i(25616),a=i(62186),l=i(66994),d=i(63185);const s=(0,a.default)("div",{target:"e1cg0wnj0"})((({borderRadius:e})=>Object.assign({position:"relative",width:"100%"},e?{borderRadius:e,overflow:"hidden"}:{})),"label:DivContainer;"),c=(0,a.default)("div",{target:"e1cg0wnj1"})({position:"absolute",top:"0",left:"0",right:"0",bottom:"0","&:hover, &.copyright-muted":{[`& ${d.jG}`]:{opacity:1},'& [data-e2e="explore-card-info-right"]':{opacity:0}}},"label:DivWrapper;"),u=(0,a.default)(s,{target:"eq741c50"})((({borderRadius:e})=>({borderRadius:null!=e?e:"4px",overflow:"hidden"})),"label:StyledDivContainerV2;"),h=(0,n.memo)((e=>{const{isDetailPage:t}=(0,l.s0)(),i=t?u:s;return(0,o.Y)(i,Object.assign({},e))})),p=(0,n.memo)((function({ratio:e=0,children:t,className:i,borderRadius:n,e2eTag:a="",copyrightMuted:l=!1,onKeyDown:d,id:s}){const u=(0,r.s)(),p=0===e?100:100/e,m=l?"copyright-muted":"";return(0,o.Y)(h,{"data-e2e":a,borderRadius:n,className:i,id:s,tabIndex:0,onKeyDown:d,role:"button","aria-label":u("accessibilityLabels_forYou_videoCard_fullScreen"),children:(0,o.Y)("div",{style:{paddingTop:`${p}%`},children:(0,o.Y)(c,{className:m,children:t})})})}))},37758:(e,t,i)=>{i.d(t,{s:()=>N});var o=i(2787),n=i(41271),r=i(40099),a=i(90621),l=i(21367),d=i(23500),s=i(43271),c=i(58632),u=i(24643),h=i(47500),p=i(44960),m=i(19310);const v=(0,r.forwardRef)(((e,t)=>{const{defaultVolume:i,defaultMuted:o,onVolumeChange:n,onMutedChange:a,showVolumeIcon:l}=e,d=(0,r.useRef)(null),{xgplayer:s,mutedPlay:c,handlePlayerDestroy:v}=(0,h.F)(Object.assign(Object.assign({},e),{playerContainerRef:d}));return(0,r.useImperativeHandle)(t,(()=>({destroy:()=>{v()},retry:()=>{var e;null===(e=s.current)||void 0===e||e.retry()}}))),(0,u.jsx)(m.S1,{ref:d,children:(0,u.jsx)(m.jw,{children:(0,u.jsx)(p.b,{xgplayer:s,visible:l,defaultVolume:i,defaultMuted:o,mutedPlay:c,onVolumeChange:n,onMutedChange:a})})})}));var g=i(84642),f=i(42713),b=i(62186);const y=(0,b.default)("div",{target:"e1itz5kg0"})({width:"100%",height:"100%",zIndex:0,position:"relative"},"label:DivSearchPlayer;"),_=(0,r.memo)((e=>{const{visible:t=!0,teaParams:i}=e,o=(0,c.__rest)(e,["visible","teaParams"]),{handlePlayerClick:n}=function(e=!0,t){const i=(0,r.useRef)(!1),o=(0,r.useRef)(0),n=(0,r.useRef)(t),a=(0,r.useRef)("automatic");n.current=t,(0,r.useEffect)((()=>{n.current&&f.lu.handleLiveShow(Object.assign({action_type:"click"},n.current))}),[]);const l=(0,r.useCallback)((()=>{const e=Date.now()-o.current;e>0&&o.current>0&&n.current&&(f.lu.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:e},n.current),{play_type:a.current})),o.current=Date.now())}),[]);return(0,r.useEffect)((()=>{!i.current&&e&&(n.current&&(a.current=n.current.play_type),o.current=Date.now());const t=Date.now()-o.current;n.current&&i.current&&!e&&t>0&&o.current>0&&(f.lu.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:t},n.current),{play_type:a.current})),o.current=Date.now()),i.current=e}),[e]),{handlePlayerClick:l}}(t,i),a=(0,g.C)({handleParentPlayError:o.onPlayError}),l=(0,r.useCallback)((()=>{n()}),[n]);return(0,u.jsx)(y,{onClick:l,children:t?(0,u.jsx)(v,Object.assign({},a,o)):null})}));var x=i(25616),w=i(82858),k=i(72153),C=i(84987);const I={id:"person-fill-fca39243",use:"person-fill-fca39243-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="person-fill-fca39243"><path d="M5 .25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5M1.622 10.5c-.449 0-.802-.396-.662-.822a4.252 4.252 0 0 1 8.08 0c.14.426-.213.822-.662.822z" clip-rule="evenodd" /></symbol>'};function T(e){const t=(0,r.useContext)(C.X);return(0,r.useLayoutEffect)((()=>(t.add(I),()=>{t.remove("person-fill-fca39243")})),[]),(0,u.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,u.jsx)("use",{xlinkHref:"#person-fill-fca39243"},void 0)}),void 0)}const D={id:"thumbs-up-fill-af859b0b",use:"thumbs-up-fill-af859b0b-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="thumbs-up-fill-af859b0b"><path d="M6.512 3.784V2.036c0-.51-.272-.957-.677-1.203-.395-.239-.842-.006-1.029.417L3 4.625v5.5c0 .069.056.125.125.125h5.29a.93.93 0 0 0 .931-.796l.643-4.469a.94.94 0 0 0-.218-.755.93.93 0 0 0-.713-.321H6.637a.125.125 0 0 1-.125-.125m-4.387.824c.069 0 .125.056.125.125v5.392a.125.125 0 0 1-.125.125h-.823A1.05 1.05 0 0 1 .25 9.326V5.584c.07-.537.523-.985 1.052-.976z" /></symbol>'};function L(e){const t=(0,r.useContext)(C.X);return(0,r.useLayoutEffect)((()=>(t.add(D),()=>{t.remove("thumbs-up-fill-af859b0b")})),[]),(0,u.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,u.jsx)("use",{xlinkHref:"#thumbs-up-fill-af859b0b"},void 0)}),void 0)}var P;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(P||(P={}));const j=(0,b.default)("div",{target:"ej426ge0"})((({theme:{direction:e,fontFamilies:t,fontWeights:i}})=>[{position:"absolute",height:"17px",display:"flex",alignItems:"center",fontFamily:t.TikTokFont,fontWeight:i.semiBold,top:"8px",zIndex:10},(0,k.mp)({direction:e,start:"8px"})]),"label:LiveTag;"),Y=(0,b.default)("div",{target:"ej426ge1"})((({position:e})=>[{padding:"0 4px",height:"17px",display:"flex",alignItems:"center"},0===e?{background:"linear-gradient(131.17deg, #ff1764 0%, #ed3495 94.15%)",borderBottomLeftRadius:"2px",borderTopLeftRadius:"2px"}:{background:"rgba(37, 37, 37, 0.6)",borderBottomRightRadius:"2px",borderTopRightRadius:"2px"}]),"label:LiveTextWrap;"),S=(0,b.default)("div",{target:"ej426ge2"})((({theme:{direction:e}})=>[{color:"#fff",textAlign:"center"},(0,k.mp)({direction:e,marginStart:"2px"})]),"label:LiveText;"),O={width:"12px",height:"12px",color:"#fff"},E=(0,b.default)(L,{target:"ej426ge5"})(O,"label:IconThumbsUp;"),M=(0,b.default)(T,{target:"ej426ge6"})(O,"label:IconPerson;");function F(e=0){return e<1e3?e.toString():e<1e5?`${(e/1e3).toFixed(1)}K`:e<1e6?`${(e/1e3).toFixed(0)}K`:`${(e/1e6).toFixed(1)}M`}const V=(0,r.memo)((function({live:e}){const{user_count:t=0,like_count:i=0}=e,n=(0,x.s)();let r=M,a=F(t);+t<=50&&i>t&&(r=E,a=F(i));const l=(0,w.Eo)();return(0,o.FD)(j,{children:[(0,o.Y)(Y,{position:0,children:(0,o.Y)(S,{children:n("pm_main_live_entry_final")})}),!l&&(0,o.FD)(Y,{position:1,children:[(0,o.Y)(r,{}),(0,o.Y)(S,{children:a})]})]})})),B=(0,b.default)("div",{target:"e1474lcs0"})((({horizontal:e,mode:t,theme:{colors:i}})=>[{width:"100%",height:"100%",overflow:"hidden",position:"relative",backgroundColor:i.BGPlaceholderDefault,backgroundSize:e?"contain":"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},1===t?{display:"flex",alignItems:"center",justifyContent:"center",backgroundSize:"cover"}:null]),"label:DivLink;"),R=(0,b.default)("img",{target:"e1474lcs1"})({width:"100%",height:"100%",objectFit:"cover"},"label:ImgPoster;"),W=(0,b.default)("div",{target:"e1474lcs2"})((({horizontal:e=!0,show:t=!1})=>({position:"absolute",left:0,top:0,width:"100%",height:"100%","& .xgplayer video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"},zIndex:1,opacity:t?1:0,transition:"opacity 0.5s"})),"label:DivBasicPlayerWrapper;");var A=i(54039);const N=(0,r.memo)((function({id:e,mode:t,searchType:i,search_result_id:c,searchTopCardType:u}){var h,p,m,v,g;const{live:f}=(0,n.P)(a.d,{selector:t=>({live:t[e]}),dependencies:[e]}),b=null===(p=null===(h=f.square_cover_img)||void 0===h?void 0:h.url_list)||void 0===p?void 0:p[0],[y,x]=(0,r.useState)(null!==(g=null!=b?b:null===(v=null===(m=f.cover)||void 0===m?void 0:m.url_list)||void 0===v?void 0:v[0])&&void 0!==g?g:""),{currentVideo:w,playType:k}=(0,l.MY)(),[C,I]=(0,r.useState)(!1),T=(0,d.t4)(),{keyword:D,rid:L}=(0,n.P)(s.tq,{selector:e=>e[i],dependencies:[i]}),{isVertical:P}=(0,A.TS)(f),{streamData:j}=(0,r.useMemo)((()=>(0,A.XA)(f)),[f]),Y=(0,r.useMemo)((()=>{var e,t,i,o,n;const{sd:r,hd:a,uhd:l,origin:d}=null!==(e=j.data)&&void 0!==e?e:{};return null!==(n=null===(o=null!==(i=null!==(t=null!=r?r:a)&&void 0!==t?t:l)&&void 0!==i?i:d)||void 0===o?void 0:o.main.flv)&&void 0!==n?n:""}),[j.data]),S=(0,r.useMemo)((()=>{var e;return null===(e=j.common)||void 0===e?void 0:e.drm_secret_key}),[j.common]),O=(0,r.useMemo)((()=>{if(!w)return!1;const{id:i,mode:o}=w,n=i===e&&o===t;return n||I(!1),n}),[e,t,w]),E=(0,r.useCallback)((()=>{I(!0)}),[]),M=(0,r.useMemo)((()=>{var e;return{enter_from_merge:"live"===i?"search_result":"general_search",enter_method:20===u?"live_cover":"live_cell",room_id:f.id_str,anchor_id:null===(e=f.owner)||void 0===e?void 0:e.id_str,search_type:"live"===i?"live":"general",search_id:L,search_result_id:null!=c?c:f.id_str,search_keyword:D,play_type:k}}),[D,f,k,L,u,i,c]),F=(0,r.useCallback)((()=>{var e,t,i,o,n;const r=null!==(i=null===(t=null===(e=f.square_cover_img)||void 0===e?void 0:e.url_list)||void 0===t?void 0:t[1])&&void 0!==i?i:null===(n=null===(o=f.cover)||void 0===o?void 0:o.url_list)||void 0===n?void 0:n[1];x(null!=r?r:"")}),[f]);return(0,o.FD)(B,{mode:t,horizontal:!P,children:[y?(0,o.Y)(R,{mode:2,src:y,alt:f.title,loading:"lazy",onError:F}):null,(0,o.Y)(W,{horizontal:!P,"data-e2e":"browse-live-player",show:O&&C,children:(0,o.Y)(_,{visible:O,defaultVolume:0,showVolumeIcon:!1,defaultMuted:!0,playing:!0,autoInit:!0,autoplay:!0,autoMutedPlay:!0,url:Y,drmSecretKey:S,onLoadedData:E,teaParams:M,loggerConfig:T})}),(0,o.Y)(V,{live:f})]})}))},54039:(e,t,i)=>{var o,n;function r(e){var t,i,o,n,r;try{const a={common:{},data:{}},l=e?JSON.parse(null!==(n=null===(o=null===(i=null===(t=e.stream_url)||void 0===t?void 0:t.live_core_sdk_data)||void 0===i?void 0:i.pull_data)||void 0===o?void 0:o.stream_data)&&void 0!==n?n:""):{};if(a.common=l.common,l.data)for(const e in l.data){if(l.data[e].main){const t=JSON.parse(l.data[e].main.sdk_params);a.data[e]={},a.data[e].main=l.data[e].main,a.data[e].main.sdk_params=t}if(l.data[e].backup){const t=JSON.parse(l.data[e].backup.sdk_params);a.data[e]=null!==(r=a.data[e])&&void 0!==r?r:{},a.data[e].backup=l.data[e].backup,a.data[e].backup.sdk_params=t}}return{streamData:a}}catch(e){return{streamData:{}}}}i.d(t,{TS:()=>a,XA:()=>r}),function(e){e.H264="h264",e.Bytevc1="bytevc1",e.H265="h265"}(o||(o={})),function(e){e.LD="ld",e.SD="sd",e.HD="hd",e.HD60="hd_60",e.UHD="uhd",e.UHD60="uhd_60",e.ORIGIN="origin",e.AUTO="auto"}(n||(n={}));const a=e=>{var t,i,o,n,a;const{streamData:l}=r(e),d=null!==(a=null===(n=null===(o=null===(i=null===(t=l.data)||void 0===t?void 0:t.origin)||void 0===i?void 0:i.main)||void 0===o?void 0:o.sdk_params)||void 0===n?void 0:n.resolution)&&void 0!==a?a:"1920x1080",[s,c]=d.split("x");return s&&c?{isVertical:Number(s)<Number(c),width:Number(s),height:Number(c),ratio:Number(s)/Number(c),ratioStr:`${s}/${c}`}:{}}},92060:(e,t,i)=>{i.d(t,{Bp:()=>c,Gj:()=>g,OW:()=>v,Yb:()=>u,mp:()=>m,vT:()=>f,xk:()=>s});var o=i(62186),n=i(80074),r=i(91842),a=i(20986),l=i(7713),d=i(72153);const s=(0,o.default)("div",{target:"e148ts220"})((({notPass:e})=>[{position:"absolute",width:"100%",bottom:"0",height:e?"100%":"100px",background:e?"rgba(18, 18, 18, .5)":"linear-gradient(180deg, rgba(22, 24, 35, .0001) 2.92%, rgba(22, 24, 35, .5) 98.99%)",padding:"67px 13px 17px",paddingTop:e?"100%":"67px"},(0,d.jJ)({max:479,style:e?null:{paddingTop:"72px"}})]),"label:DivCardFooter;"),c=(0,o.default)("span",{target:"e148ts221"})((({theme:e})=>[(0,d.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"},(0,d.jJ)({max:479,style:{fontSize:"14px",lineHeight:"18px"}})]),"label:SpanNotPass;"),u=(0,o.default)("strong",{target:"e148ts222"})((({theme:e})=>[(0,d.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"}]),"label:StrongVideoCount;"),h=({theme:{direction:e}})=>[(0,d.mp)({direction:e,marginEnd:4}),{verticalAlign:"middle"},(0,d.jJ)({max:479,style:{verticalAlign:"-.15em"}})],p=({theme:{direction:e}})=>({float:(0,d.t7)(e,"end"),position:"relative",top:"4px"}),m=(0,o.default)(n.A,{target:"e148ts223"})(h,"label:StyledHeart;"),v=(0,o.default)(r.A,{target:"e148ts225"})(h,"label:StyledPlay;"),g=(0,o.default)(a.A,{target:"e148ts226"})(p,"label:StyledLock3pt;"),f=(0,o.default)(l.A,{target:"e148ts227"})(p,"label:StyledTwoPerson;")},80958:(e,t,i)=>{i.d(t,{Y:()=>b});var o=i(2787),n=i(40099),r=i(73580),a=i(11654),l=i(42357),d=i(43626),s=i(2853),c=i(32545),u=i(28138),h=i(62186);const p=(0,h.default)("div",{target:"e1id08p20"})({top:0,left:0,width:"100%",height:"100%",position:"absolute"},"label:DivGifPlayerContainer;"),m=(0,h.default)("div",{target:"e1id08p21"})({top:0,left:0,width:"100%",height:"100%",position:"absolute"},"label:DivGifContainer;");var v=i(32125),g=i(93608),f=i(70925);const b=(0,n.memo)((({item:e,horizontal:t,mode:i,posterConfig:h,teaParams:b})=>{const{currentItemId:y}=(0,u.yQ)((e=>e),v.bN),_=(0,r.Nj)(a.V),{armCoreContentEvent:x}=(0,n.useContext)(l.e),w=(0,n.useCallback)((()=>{null==x||x(),_.reportActualFMP()}),[x,_]),k=t||2===i||3===i||4===i||6===i||5===i,C=(0,f.y)(e),{isBrowserModeShowing:I}=(0,n.useContext)(d.g);return(0,n.useEffect)((()=>{if((null==e?void 0:e.id)&&e.id===y&&!I){const e={group_id:b.group_id,author_id:b.author_id,play_mode:i};g.f.event("preview_video_play",Object.assign(Object.assign({},e),{has_gif:C.has_gif}));const t=Date.now();return()=>{const i=Date.now()-t;g.f.event("preview_play_time",Object.assign(Object.assign({},e),{duration:i}))}}}),[null==e?void 0:e.id,y,i,b.group_id,b.author_id,C.has_gif,I]),e?(0,o.FD)(p,{children:[(null==h?void 0:h.poster)&&(0,o.Y)(s.R,{horizontal:k,mode:i,src:h.poster,alt:h.desc,loading:h.lazyLoading?"lazy":"eager",style:h.style,onLoad:w}),!(null==h?void 0:h.poster)&&(null==h?void 0:h.videoCover)&&(0,o.Y)(c.x,{video:h.videoCover,objectFit:k?"contain":"cover",style:h.style,alt:h.desc,onLoad:w}),e.id===y&&(0,o.Y)(m,{children:(0,o.Y)(c.x,{video:e.video,useDynamic:!0,alt:null==h?void 0:h.desc})})]}):null}))},70925:(e,t,i)=>{i.d(t,{t:()=>l,y:()=>d});var o=i(88920),n=i(40099),r=i(28138);const a=[8,1,105,106,107,19,3,4,104,124,122],l=e=>{const t=(0,o._Y)(),i=(0,r.tf)(),l=(0,n.useCallback)((e=>i.setCurrentItemId(e)),[i]);return{inGifPlayerExperiment:(0,n.useMemo)((()=>t&&a.includes(e)),[t,e]),setGifPlayerItemId:l}},d=e=>{const t=(0,o._Y)();return(0,n.useMemo)((()=>t&&e?{has_gif:e.video.dynamicCover===e.video.cover||e.video.dynamicCover===e.video.originCover?"0":"1"}:{}),[t,e])}},28138:(e,t,i)=>{i.d(t,{tf:()=>l,yQ:()=>d});var o=i(71111),n=i(31209);const r=(0,o.atom)({currentItemId:""}),{useAtomService:a,useServiceDispatchers:l,useServiceState:d,getStaticApi:s}=(0,n.i)(r,((e,t)=>({setCurrentItemId(e){t(r,{currentItemId:e})}})))},99334:(e,t,i)=>{i.d(t,{g4:()=>Jt});var o=i(2787),n=i(10084),r=i(92067),a=i(16537),l=i(25616),d=i(90621),s=i(60484),c=i(53438),u=i(88920),h=i(67169),p=i(78208),m=i(59952),v=i(29793),g=i(17566),f=i(21367),b=i(43626),y=i(19442),_=i(49057),x=i(71281),w=i(58305),k=i(45297),C=i(72688),I=i(31344),T=i(63363),D=i(90217),L=i(34663),P=i(48180),j=i(76497),Y=i(24643),S=i(40099),O=i(15046),E=i(62186);const M=(0,E.default)("div",{target:"e1ario2k0"})((({padding:e,theme:{direction:t}})=>({position:"absolute",top:0,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:null!=e?e:".5rem",direction:t,zIndex:1})),"label:DivHeaderContainer;"),F=(0,E.default)("div",{target:"e1ario2k1"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",justifyContent:"flex-start",direction:e})),"label:DivLeftSection;"),V=(0,E.default)("div",{target:"e1ario2k2"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",direction:e})),"label:DivRightSection;"),B=(0,S.memo)((function({left:e,right:t}){return(0,Y.jsxs)(M,{children:[e&&(0,Y.jsx)(F,{children:e}),t&&(0,Y.jsx)(V,{children:t})]})})),R=(0,S.memo)((function({videoData:e,pageType:t,itemListKey:i,sortType:o}){const n=(0,l.s)();if(!(0,c.n5)(e,"user-post"===i&&1!==o&&2!==o))return null;const r=1===t&&(0,Y.jsx)(O.F,{children:n("profile_page_pin",{},"Pinned")});return(0,Y.jsx)(B,{left:r})}));var W=i(84987);const A={id:"eye-slash-dc48f765",use:"eye-slash-dc48f765-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="eye-slash-dc48f765"><path fill="#fff" fill-rule="evenodd" d="M37.176 41.474a.746.746 0 0 0 1.058-.011l1.738-1.787a.755.755 0 0 0-.012-1.063L7.319 6.526a.745.745 0 0 0-1.058.012L4.523 8.324a.755.755 0 0 0 .012 1.064l4.777 4.696c-3.19 2.484-5.132 5.777-5.132 9.388 0 7.737 8.914 14.01 19.91 14.01 2.794 0 5.454-.406 7.868-1.137l5.218 5.13zM17.292 21.928l-5.098-5.011c-2.797 2.004-4.032 4.377-4.032 6.555 0 2.204 1.264 4.609 4.133 6.627 2.856 2.01 7.013 3.38 11.795 3.38 1.583 0 3.098-.15 4.52-.425l-2.832-2.784a7 7 0 0 1-1.688.207c-3.849 0-6.968-3.136-6.968-7.005q.001-.797.17-1.544" clip-rule="evenodd" /><path fill="#fff" d="M15.88 10.706c2.503-.798 5.283-1.242 8.21-1.242C35.086 9.464 44 15.735 44 23.472c0 3.707-2.046 7.076-5.386 9.582l-2.891-2.843.162-.112c2.868-2.018 4.133-4.423 4.133-6.627s-1.265-4.608-4.133-6.626c-2.856-2.01-7.014-3.38-11.795-3.38a23.8 23.8 0 0 0-4.894.5z" /><path fill="#fff" d="M24.09 16.468c-.709 0-1.393.106-2.038.304l8.747 8.599c.17-.604.26-1.24.26-1.899 0-3.868-3.12-7.004-6.969-7.004" /></symbol>'};function N(e){const t=(0,S.useContext)(W.X);return(0,S.useLayoutEffect)((()=>(t.add(A),()=>{t.remove("eye-slash-dc48f765")})),[]),(0,Y.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,Y.jsx)("use",{xlinkHref:"#eye-slash-dc48f765"},void 0)}),void 0)}var z=i(41271),q=i(46682),U=i(73580),$=i(93608),H=i(15343),K=i(38739),G=i(65365),Q=i(69617),J=i(48578),Z=i(95873),X=i(11983),ee=i(20024),te=i(80635),ie=i(66994),oe=i(28369),ne=i(37758),re=i(4408),ae=i.n(re);function le(e,t,i,o=!1,n=!1){const r="JP"===e||n;return{showLike:r,count:o?t:r||n?i:t}}var de,se=i(60072),ce=i(77170),ue=i(84908),he=i(93751),pe=i(36764),me=i(16680),ve=i(25778),ge=i(31355),fe=i(82535),be=i(29098),ye=i(72153),_e=i(92846);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INSIDE=1]="INSIDE"}(de||(de={}));const xe=(0,E.default)("div",{target:"exdlci10"})((({type:e,showMuteIcon:t})=>[{display:"flex",alignItems:"center",overflow:"hidden",marginTop:"2px"},1===e?{position:"absolute",bottom:"0",boxSizing:"border-box",width:"100%",height:"60px",background:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(0, 0, 0, .5) 100%)",marginTop:"0",padding:t?"24px 36px 12px 12px":"24px 12px 12px"}:null]),"label:DivCardAvatar;"),we=(0,E.default)(_e.e,{target:"exdlci11"})({flex:"none"},"label:StyledAvatar;"),ke=(0,E.default)(ge.N_,{target:"exdlci12"})({overflow:"hidden"},"label:StyledLink;"),Ce=(0,E.default)(be.A,{target:"exdlci13"})((({theme:{direction:e}})=>[{flex:"none"},(0,ye.mp)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),Ie=(0,E.default)("h4",{target:"exdlci14"})((({theme:{colors:e,direction:t},type:i})=>[{display:"flex",alignItems:"center",fontSize:"16px",lineHeight:"22px",color:1===i?e.BGPrimary:e.TextSecondary,whiteSpace:"nowrap",overflow:"hidden",":hover":{textDecoration:"underline"}},(0,ye.mp)({direction:t,marginStart:1===i?4:8})]),"label:H4UserTitle;"),Te=(0,E.default)("p",{target:"exdlci15"})((({theme:e,type:t})=>[(0,ye.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:1===t?"semiBold":"normal"}),{flex:"1",overflow:"hidden",textOverflow:"ellipsis",color:"rgba(255,255,255,1.0)"}]),"label:PUserName;"),De=(0,S.memo)((function({videoData:e,teaParams:t,e2ePrefix:i,type:n=0,showMuteIcon:r=!1}){var a;const{language:l}=null!==(a=(0,_.W)((()=>["language"]),[]))&&void 0!==a?a:{},{author:d,id:c}=null!=e?e:{},u=(0,ue.nW)((e=>{var t;if(d)return null===(t=e.users)||void 0===t?void 0:t[d]})),{uniqueId:h="",secUid:p,avatarThumb:m,verified:v,nickname:g}=(0,s.L$)(u),f=`${(0,C.fJR)({uniqueId:h,secUid:null!=p?p:""})}?lang=${l}`,b=(0,S.useCallback)((e=>i=>{null==i||i.stopPropagation(),fe.q.handleEnterUser(Object.assign(Object.assign({},t),{enter_method:e,to_user_id:d,group_id:c,author_id:d}))}),[d,c,t]);return(0,o.FD)(xe,{type:n,showMuteIcon:r,children:[(0,o.Y)(ge.N_,{"data-e2e":`${i}-item-avatar`,to:f,onClick:b("user_portrait"),children:(0,o.Y)(we,{src:m,size:24,alt:`${g},${h}`})}),(0,o.Y)(ke,{title:h,onClick:b("user_name"),to:f,children:(0,o.FD)(Ie,{type:n,children:[(0,o.Y)(Te,{"data-e2e":`${i}-item-username`,className:"user-name",type:n,children:h}),v&&(0,o.Y)(Ce,{width:14,height:14})]})})]})}));var Le=i(82858),Pe=i(92060);const je=(0,S.memo)((function({videoData:e,content:t,prioritizeLike:i}){var n;const r=(0,l.s)(),{region:a=""}=null!==(n=(0,_.W)((()=>["region"]),[]))&&void 0!==n?n:{},{secret:d,forFriend:c,showNotPass:u,scheduleTime:h}=(0,s.L$)(e),{diggCount:p,playCount:m}=(0,ce.D)(e),v=(0,s.D1)(p),g=(0,s.D1)(null!=m?m:0),{showLike:f,count:b}=le(a,g,v,!1,i),y=(0,Le.Eo)();return t?(0,o.Y)(Pe.xk,{notPass:u,children:t}):(0,o.Y)(Pe.xk,{notPass:u,children:h?null:u?(0,o.Y)(Pe.Bp,{children:r("cover_notice_violation")}):(0,o.FD)(o.FK,{children:[!y&&(0,o.FD)(o.FK,{children:[f?(0,o.Y)(Pe.mp,{className:"like-icon",width:18,height:18,fill:"#fff"}):(0,o.Y)(Pe.OW,{"data-e2e":"video-play",className:"like-icon",width:18,height:18,fill:"#fff"}),(0,o.Y)(Pe.Yb,{"data-e2e":"video-views",className:"video-count",children:b})]}),d&&!c&&(0,o.Y)(Pe.Gj,{className:"private",width:18,height:18,fill:"#fff"}),c&&(0,o.Y)(Pe.vT,{className:"private",width:18,height:18,fill:"#fff"})]})})}));var Ye=i(31918),Se=i(22485),Oe=i(80574),Ee=i(85041),Me=i(32125),Fe=i(65530);const Ve=(0,E.default)("div",{target:"ewsiauk0"})((({disable:e,isNewLayout:t,withBack:i})=>[e?{pointerEvents:"none"}:{},t?(0,ye.jJ)({max:Fe.PF,style:{zoom:.875}}):{},i?{padding:"4px 12px"}:{}]),"label:DivVideoExploreCardDesc;"),Be=(0,E.default)("div",{target:"ewsiauk1"})((({ellipsisLine:e})=>[(0,ye.m4)(e),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}]),"label:DivMetaCaptionLine;"),Re=(0,E.default)("div",{target:"ewsiauk2"})((({theme:e})=>[(0,ye.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"8px"}]),"label:DivCardBottomInfo;"),We=(0,E.default)("div",{target:"ewsiauk3"})((({theme:e})=>[(0,ye.zy)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"}]),"label:DivPlayLine;"),Ae=(0,E.default)("div",{target:"ewsiauk4"})({display:"flex",alignItems:"center",overflow:"hidden"},"label:DivUserInfo;"),Ne=(0,E.default)("p",{target:"ewsiauk5"})((({theme:{direction:e}})=>[(0,ye.mp)({direction:e,marginStart:"4px",marginEnd:"4px"}),{direction:"ltr",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),ze=(0,E.default)("div",{target:"ewsiauk6"})((({theme:{colors:e},isOnCard:t})=>({fontSize:"16px",fontWeight:600,color:t?"white":e.TextTertiaryAlt})),"label:DivExploreCardText;"),qe=(0,E.default)("div",{target:"ewsiauk7"})((({theme:{direction:e}})=>({display:"flex",alignItems:"center",flexShrink:0,cursor:"pointer","& > svg":Object.assign({fontSize:"20px"},(0,ye.mp)({direction:e,marginEnd:"2px"}))})),"label:DivIconText;"),Ue=(0,S.memo)((function({author:e}){const t=(0,ue.nW)((t=>t.users[e]),Me.bN),{avatarThumb:i="",uniqueId:n="",verified:r=!1,secUid:a}=(0,s.L$)(t),l=(0,S.useMemo)((()=>{var e;return{to_user_id:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",enter_method:"click_category_video_user_name"}}),[null==t?void 0:t.id]),d=(0,u.k0)(),{withCreator:c}=(0,u.Ry)(!0);if("v4"===d&&!c)return null;const h=(0,o.FD)(Ee.E,{"data-e2e":"explore-card-user-link",uniqueId:n,secUid:a,teaParams:Object.assign(Object.assign({},l),{enter_method:"click_category_video_user_icon"}),children:[(0,o.Y)(_e.e,{style:{flexShrink:0},src:i,shape:"circle",size:24})," "]}),p=(0,o.Y)(Ee.E,{"data-e2e":"explore-card-user-link",uniqueId:n,secUid:a,teaParams:l,style:{overflow:"hidden"},children:(0,o.Y)(Ne,{"data-e2e":"explore-card-user-unique-id",children:n})});return(0,o.FD)(Ae,{children:[h,p,r&&(0,o.Y)(Oe.A,{"data-e2e":"explore-card-user-verified",style:{flexShrink:0},width:14,height:14})]})}));var $e=i(80667);const He=(0,S.memo)((function({count:e,onClick:t}){const i=(0,Le.Eo)();return(0,o.FD)(qe,{"data-e2e":"explore-card-like-container",onClick:t,children:[(0,o.Y)($e.A,{}),(0,o.Y)("span",{children:i?"":(0,s.D1)(e)})]})})),Ke=(0,S.memo)((function({videoData:e,onClick:t,onMouseEnter:i,onLikeClick:n}){const r=(0,s.L$)(e),{scheduleTime:a,author:l=""}=r,{diggCount:d}=(0,ce.D)(e),c=2===(null==e?void 0:e.adLabelVersion),h=(0,u.k0)(),{isClearUI:p,withDes:m,withBack:v}=(0,u.Ry)(!0);let g=(0,o.Y)(He,{count:d,onClick:n});"v4"===h&&(g=null);const{responsiveVid:f}=(0,u.mV)();return p?null:(0,o.Y)(Ve,{"data-e2e":"explore-card-desc",withBack:v,disable:a,isNewLayout:"v0"!==f,children:(0,o.FD)(Re,{children:[m&&(0,o.Y)(Be,{ellipsisLine:c||v?1:2,onClick:null==t?void 0:t("video_desc"),onMouseEnter:null==i?void 0:i("hover_cover"),"data-e2e":"explore-card-video-caption",children:(0,o.Y)(Ye.g,{item:e,ellipsisOnNarrow:!0,styleType:"explore"})}),(0,o.Y)(Se.P,{item:r}),a?null:(0,o.FD)(We,{children:[(0,o.Y)(Ue,{author:l}),(0,o.Y)(ze,{isOnCard:!1,children:g})]})]})})}));var Ge=i(63185),Qe=i(69843);const Je=(0,S.memo)((function({count:e}){return(0,o.FD)(qe,{"data-e2e":"explore-card-view-container",children:[(0,o.Y)(Qe.A,{}),(0,o.Y)("span",{children:(0,s.D1)(e)})]})})),Ze=(0,S.memo)((function({videoData:e}){const{diggCount:t,playCount:i}=(0,ce.D)(e),{isClearUI:n,withLike:r,withNoLeftInfo:a}=(0,u.Ry)(!0),l=(0,Le.Eo)(),d=n||a?null:r?(0,o.Y)(He,{count:t}):(0,o.Y)(Je,{count:i}),{responsiveVid:s}=(0,u.mV)();return(0,o.Y)(Ge.vb,{"data-e2e":"explore-card-info",isNewLayout:"v0"!==s,children:(0,o.Y)(ze,{"data-e2e":"explore-card-info-left",isOnCard:!0,children:!l&&d})})}));var Xe=i(46803);const et=(e,t=!0)=>{const{timeTranslator:i}=(0,Xe.T)(),{createTime:n}=null!=e?e:{},r=i(1e3*Number(n));return(0,o.Y)(Ge.Jd,{onVideo:t,children:r})};var tt=i(92839);const it=(0,E.default)("a",{target:"epeqwgm0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;"),ot=(0,E.default)("div",{target:"epeqwgm1"})((({theme:e})=>[(0,ye.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box"}]),"label:DivQuestionCardDesc;"),nt={enter_method:"video_desc"},rt=(0,S.memo)((function(e){var t,i,n;const{videoData:r,mode:a}=e,{user:l}=(0,s.L$)((0,_.W)((()=>["user"]),[])),d=null==l?void 0:l.ftcUser,c=(0,u.tj)(),{scheduleTime:h,warnInfo:p=[]}=(0,s.L$)(r),{questionInfo:m}=(0,z.P)(tt.B,{selector:e=>({questionInfo:e.questionInfo}),dependencies:[]}),v=!c&&p&&p.length>0,{content:g="",id:f=""}=(0,s.L$)(m),b=`https://www.tiktok.com${(0,C.WDv)({questionId:f,questionContent:g})}`,y=Boolean(h||d);return v?null:(0,o.Y)(ot,{onClick:null===(t=e.onClick)||void 0===t?void 0:t.call(e,"click_blank"),onMouseEnter:null===(i=e.onMouseEnter)||void 0===i?void 0:i.call(e,"hover_blank"),children:(0,o.Y)(it,{"data-e2e":"question-item-caption",onClick:null===(n=e.onClick)||void 0===n?void 0:n.call(e,"video_desc"),title:null==r?void 0:r.desc,href:b,children:(0,o.Y)(Ye.g,{mode:a,ellispsisLine:1,styleType:"question",item:r,ellipsisOnNarrow:!0,reportParams:nt,shouldReport:y})})})}));var at=i(67518),lt=i(57432),dt=i.n(lt),st=i(51664),ct=i(52333),ut=i(96689),ht=i(80074),pt=i(91842),mt=i(6985);const vt=(0,E.default)("div",{target:"etrd4pu0"})((({disable:e})=>({pointerEvents:e?"none":"auto",padding:"0 8px"})),"label:DivVideoSearchCardDesc;"),gt=(0,E.default)("div",{target:"etrd4pu1"})([(0,ye.m4)(2),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}],"label:DivMetaCaptionLine;"),ft=(0,E.default)("div",{target:"etrd4pu2"})((({theme:e})=>[(0,ye.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"26px"}]),"label:DivCardBottomInfo;"),bt=(0,E.default)("div",{target:"etrd4pu3"})((({theme:e})=>[(0,ye.zy)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"4px"}]),"label:DivPlayLine;"),yt=(0,E.default)("div",{target:"etrd4pu4"})({display:"flex",alignItems:"center",flexShrink:0},"label:DivPlayIcon;"),_t=({theme:{direction:e}})=>[{verticalAlign:"middle"},(0,ye.mp)({direction:e,marginEnd:4})],xt=(0,E.default)("div",{target:"etrd4pu5"})({display:"flex",alignItems:"center"},"label:DivUserInfo;"),wt=(0,E.default)("p",{target:"etrd4pu6"})((({theme:{direction:e}})=>[(0,ye.mp)({direction:e,marginStart:"4px",marginEnd:"4px"}),{maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),kt=(0,E.default)(ht.A,{target:"etrd4pu7"})(_t,"label:StyledHeart;"),Ct=(0,E.default)(mt.A,{target:"etrd4pu8"})(_t,"label:StyledHeartFill;"),It=(0,E.default)(pt.A,{target:"etrd4pu9"})(_t,"label:StyledPlay;"),Tt=(0,E.default)("strong",{target:"etrd4pu10"})({fontWeight:"normal"},"label:StrongVideoCount;"),Dt=(0,S.memo)((function({videoData:e,reportParams:t,onClick:i,onMouseEnter:n,onReportClick:r,hasPlayInfo:a=!0,id:d}){var c;const h=(0,l.s)(),p=(0,s.L$)(e),{scheduleTime:m,id:v="",digged:g,author:f=""}=p,b=(0,ue.nW)((e=>e.users[f]),Me.bN),{withLikeAndCreator:y,removeDesc:x,withOneLineDesc:w,withPublishTime:k}=(0,u.y9)(),C=(0,Le.Eo)(),{avatarThumb:I="",uniqueId:T="",verified:D=!1,secUid:L,nickname:P}=(0,s.L$)(b),j=(0,st.AL)(Object.assign({user:b,enterMethod:"click_search_result"},t)),{region:Y=""}=null!==(c=(0,_.W)((()=>["region"]),[]))&&void 0!==c?c:{},{diggCount:O,playCount:E}=(0,ce.D)(e),M=(0,s.D1)(O),F=(0,s.D1)(E),{showLike:V,count:B}=le(Y,F,M),R=(0,q.w)(ct.k),W=(0,S.useCallback)((()=>{R.postLikeVideo(Object.assign({id:v,enter_method:"click",channel_id:23},t))}),[v,R,t]),A=(0,ut.G)({actionWhenUserLoggedIn:V?W:dt(),modalConfig:{query:{enter_method:"click_like",redirect_url:window.location.href,group_id:v}}}),N=(0,S.useCallback)((()=>{null==r||r()}),[r]),{colors:z}=(0,at.u)(),U=et(e,!k);return(0,o.Y)(vt,{"data-e2e":"search-card-desc",disable:m,children:(0,o.FD)(ft,{children:[!x&&(0,o.Y)(gt,{onClick:null==i?void 0:i("video_desc"),onMouseEnter:null==n?void 0:n("hover_cover"),"data-e2e":"search-card-video-caption",children:(0,o.Y)(Ye.g,{item:e,ellipsisOnNarrow:!0,reportParams:t,onSearchResultClick:r,ellipsisLine:w?1:0})}),(0,o.Y)(Se.P,{item:p}),m?null:(0,o.FD)(bt,{children:[(0,o.Y)(Ee.E,{"data-e2e":"search-card-user-link",uniqueId:T,secUid:L,teaParams:j,id:d,onClick:N,ariaLabel:h("accessibilityLabels_link_userProfile",{username:P}),children:(0,o.FD)(xt,{children:[(0,o.Y)(_e.e,{style:{flexShrink:0},src:I,shape:"circle",size:24})," ",(0,o.Y)(wt,{"data-e2e":"search-card-user-unique-id",children:T}),D&&(0,o.Y)(be.A,{"data-e2e":"search-card-user-verified",style:{flexShrink:0},width:14,height:14})]})}),k&&U,a&&!y&&!C&&(0,o.FD)(yt,{"data-e2e":"search-card-like-container",onClick:A,children:[V?g?(0,o.Y)(Ct,{className:"like-icon",width:18,height:18,fill:z.Primary}):(0,o.Y)(kt,{className:"like-icon",width:18,height:18,fill:z.TextReverse2}):(0,o.Y)(It,{className:"like-icon",width:16,height:16,fill:z.TextReverse2}),(0,o.Y)(Tt,{children:B})]})]})]})})}));var Lt=i(89311),Pt=i(2584),jt=i(50772),Yt=i(56999),St=i(98313),Ot=i(30349),Et=i(85277),Mt=i(36439);const Ft={enter_method:"video_desc"},Vt=(0,S.memo)((function(e){var t,i,n,r;const{videoData:a,mode:l,itemListKey:d,pageType:s,userData:c}=e,{user:h}=null!==(t=(0,_.W)((()=>["user"]),[]))&&void 0!==t?t:{},p=null==h?void 0:h.ftcUser,[m,v]=(0,S.useState)(!1),[f,b]=(0,S.useState)(!1),y=(0,Ot.N)(),[x,k]=(0,S.useState)(!1),C=(0,g._u)(),I=(0,u.tj)(),T=(0,S.useCallback)((e=>{1===s&&null!==e&&(Array.from(e.querySelectorAll("*")).forEach((e=>{e.tabIndex=-1})),e.tabIndex=0)}),[s]),{scheduleTime:D,warnInfo:L=[],id:P="",author:j=""}=null!=a?a:{},Y=!I&&L&&L.length>0,[O,E]=(0,S.useState)("");(0,S.useEffect)((()=>{E(`https://www.tiktok.com${C(a)}`)}),[j,P]);const M=(0,S.useCallback)((()=>{var t;null===(t=e.onMouseEnter)||void 0===t||t.call(e,"hover_blank"),v(!0),b(!0)}),[e]),F=(0,S.useCallback)((()=>{window.setTimeout((()=>{b(!1)}),2e3)}),[]);(0,S.useEffect)((()=>{x||v(f)}),[f,x]);const V=(0,S.useRef)(null),B=Boolean(D||p),[R,W]=(0,S.useState)("down"),{isRTL:A}=(0,Lt.m)(),N=(0,S.useCallback)((e=>{(0,w.Gu)(e),Pt.O.handleGeneralClick("info_card_icon",{group_id:null==a?void 0:a.id}),jt.c.showSection("info_card",{group_id:null==a?void 0:a.id});const t=(0,Mt.c)(V,null!=s?s:999,A);W(t),k(!0)}),[A,s,null==a?void 0:a.id]);return Y?null:(0,o.FD)(Yt.Zt,{children:[(0,o.Y)(Yt.h9,{"aria-label":null==a?void 0:a.desc,"data-e2e":`${d}-item-desc`,onClick:null===(i=e.onClick)||void 0===i?void 0:i.call(e,"click_blank"),onMouseEnter:M,onMouseLeave:F,ref:T,children:(0,o.Y)(Yt.T6,{onClick:null===(n=e.onClick)||void 0===n?void 0:n.call(e,"video_desc"),title:null==a?void 0:a.desc,href:O,children:(0,o.Y)(Ye.g,{mode:l,ellispsisLine:1,styleType:"tag",item:a,ellipsisOnNarrow:!0,reportParams:Ft,shouldReport:B})})}),m&&(0,o.Y)(Yt.Fp,{onClick:N,ref:V,children:(0,o.Y)(St.o,{size:16})}),(0,o.Y)(Yt.Uz,{children:(y||x)&&(0,o.FD)(o.FK,{children:[(0,o.Y)(Yt.BV,{visible:x,renderDirection:R}),(0,o.Y)(Et.K,{item:a,author:c,description:null!==(r=null==a?void 0:a.desc)&&void 0!==r?r:"",isBot:y,pageType:null!=s?s:999,handleClose:()=>{k(!1),v(!1),b(!1)},visible:x,renderDirection:R})]})})]})})),Bt=(0,E.default)("div",{target:"e1cj3yk40"})({background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,right:0,bottom:0},"label:DivJustWatchedMaskContainer;"),Rt=(0,E.default)("div",{target:"e1cj3yk41"})({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},"label:DivJustWatchedMaskWrapper;"),Wt=(0,E.default)("span",{target:"e1cj3yk42"})((({theme:e})=>({fontSize:"16px",lineHeight:"15px",fontWeight:600,color:e.colors.ConstTextInverse,wordBreak:"break-word",textAlign:"center"})),"label:SpanText;"),At=(0,E.default)(pt.A,{target:"e1cj3yk43"})((({theme:{direction:e,colors:t}})=>[(0,ye.mp)({direction:e,marginEnd:"4px"}),{fill:t.ConstTextInverse}]),{verticalAlign:"middle",width:"16px",height:"16px"},"label:StyledPlayIcon;"),Nt=(0,S.memo)((()=>{const e=(0,l.s)();return(0,o.Y)(Bt,{children:(0,o.FD)(Rt,{children:[(0,o.Y)(At,{}),(0,o.Y)(Wt,{children:e("pcWeb_justWatched")})]})})}));var zt=i(65444),qt=i(6990),Ut=i(70925),$t=i(80958),Ht=i(68572),Kt=i(50362);const Gt={width:24,height:24,fill:"#fff"},Qt=[3,16,4,129,18,121],Jt=(0,S.memo)((0,S.forwardRef)((function({index:e,id:t,pageType:i,itemListKey:Y,mode:O="compact",hasDescUnderItem:E,borderRadius:M="4px",teaParams:F,searchTopCardType:V,handleClick:B,handleVideoClick:W,searchType:A,mute:re,hasSound:le=!1,volume:de=.7,handleToggleMute:ge,handleVideoEnd:fe,isActualRatioEnabled:be=!1,style:ye,exploreCategoryType:_e,useHorizontalList:xe=!1,children:we,handleVideoPlay:ke},Ce){var Ie,Te,Le,Pe,Ye,Se,Oe,Ee,Me,Fe;const Ve=(0,l.s)(),Be=(0,z.P)(d.d,{selector:e=>e[t],dependencies:[t]}),Re=(0,se.F3)((e=>e[t])),We=(0,S.useMemo)((()=>123===i||61===V),[i,V]),{video:Ae,itemMute:Ne=!1,warnInfo:ze,desc:qe="",showNotPass:Ue=!1,author:$e="",scheduleTime:He,authorId:Qe="",secret:Je=!1,forFriend:Xe=!1,adLabelVersion:tt,logId:it,isAd:ot}=(0,s.L$)(Re),{playAddr:nt="",duration:lt,bitrateInfo:dt,volumeInfo:st,bitrate:ct,encodedType:ut="",format:ht="",videoQuality:pt="",encodeUserTag:mt="",codecType:vt="",definition:gt="",zoomCover:ft,cover:bt,VQScore:yt=0}=(0,s.L$)(Ae),{isReposted:_t}=(0,ce.D)(Re),xt=(0,c.mx)(Re),{isInProductHoldout:wt}=(0,u.Vv)(),kt=wt,Ct=!wt,{handleUpdatePhotoCover:It}=(0,Ht.p)(null!==(Ie=null==Re?void 0:Re.id)&&void 0!==Ie?Ie:"",xt),{mute:Tt,setMute:Lt}=(0,h.ah)({playMode:1,itemMute:Ne}),Pt=(0,u.tj)(),{showVideoMask:jt}=(0,p.d)({item:null!=Re?Re:{},playMode:1}),{hideMaskTempVideoId:Yt}=(0,z.P)(m.w),St=("user-liked"===Y||"favorites"===Y||"user-repost"===Y)&&(null==Re?void 0:Re.isContentClassified),Ot=jt&&Yt!==t||St,Et=(0,z.P)(v.hf,{selector:e=>e.blockedVideos||[],dependencies:[]}),Mt=null!=re?re:Tt,Ft=(0,S.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),Lt(!Mt)}),[Mt,Lt]),Bt="explore"===Y,{withBack:Rt}=(0,u.Ry)(Bt),Wt=(0,u.PV)(),{colors:At}=(0,at.u)(),Jt=Object.assign({borderRadius:Rt?"8px 16px":void 0,background:Rt?At.BGPlaceholderDefault:void 0},ye),Zt=(0,S.useMemo)((()=>{var e,t;const o=xt&&(null===(t=null===(e=null==Re?void 0:Re.imagePost)||void 0===e?void 0:e.cover.imageURL.urlList)||void 0===t?void 0:t[0])||bt;return Wt||1===i&&Ct?{zoomCover:ft,cover:o,quality:"720"}:{zoomCover:ft,cover:o,quality:"480"}}),[Ct,xt,null===(Te=null==Re?void 0:Re.imagePost)||void 0===Te?void 0:Te.cover,i,Wt,bt,ft]),Xt=(0,g._u)(),ei=(({item:e,itemListKey:t})=>{const i=(0,l.s)(),{originalItem:n,officalItem:r}=null!=e?e:{},a=Boolean(n);return Boolean(r)?(0,o.Y)(Ge.Qh,{"data-e2e":`${t}-official`,children:(0,o.Y)(Ge.Qz,{children:i("official_tag")})}):a?(0,o.Y)(Ge.Qh,{"data-e2e":`${t}-original`,children:(0,o.Y)(Ge.Qz,{children:i("original_tag")})}):null})({item:Re,itemListKey:Y}),ti=(0,q.w)(v.hf),ii=(0,f.nr)(),oi=(0,ue.nW)((e=>{if($e)return e.users[$e]})),{uniqueId:ni="",secUid:ri="",nickname:ai=""}=(0,s.L$)(oi),{music:li}=(0,s.L$)(Re),{title:di="",authorName:si=""}=(0,s.L$)(li),ci=Ve("seo_user_video_cover",{videoText:null!==(Le=null==Re?void 0:Re.desc)&&void 0!==Le?Le:"",videoAuthor:ai,musicAuthor:si,musicName:di}),ui=function(e){const{teaParams:t,id:i,pageType:o}=e;return(0,S.useMemo)((()=>{const{search_id:e,search_keyword:n}=null!=t?t:{};let r,a={};switch(e&&(a=Object.assign(Object.assign({},a),{search_id:e,impr_id:e,search_keyword:n,search_result_id:i})),o){case 105:r="general";break;case 106:r="user";break;case 107:r="video";break;case 123:r="live";break;default:r=void 0}return r&&(a.search_type=r),a}),[t,i,o])}({teaParams:F,id:t,pageType:i}),hi=(0,c.MA)(Re),pi=(0,ve.b1)(Re,i),mi=(0,u.uT)(),[vi]=(0,he.eW)(),gi=(0,c.n5)(Re,"user-post"===Y&&1!==vi&&2!==vi),fi=(0,S.useMemo)((()=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},F),ui),{group_id:t,author_id:Qe,is_scheduled:Boolean(He),bitrate:Number(ct),encodedType:ut,format:ht,videoQuality:pt,encodeUserTag:mt,codecType:vt,definition:gt,secret:Je,forFriend:Xe,isPaidPartnership:2===tt,isPinnedItem:gi,isReposted:_t}),hi),pi),{log_id:it,isAd:ot})),[F,ui,t,it,ot,Qe,He,ct,ut,ht,pt,mt,vt,gt,Je,Xe,tt,hi,pi,gi,_t]),bi=function(e){const{teaParams:t,pageType:i}=e;return(0,S.useMemo)((()=>[105,106,107,123].includes(i)?Object.assign(Object.assign({},t),{enter_from:`${$.f.commonParams.page_name}_result`}):t),[t,i])}({teaParams:fi,pageType:i}),yi=(0,S.useRef)(null),_i=(0,S.useRef)(null),xi=(0,S.useRef)(null),{showBrowserMode:wi}=(0,S.useContext)(b.g),ki=(0,y.YZ)(),Ci=(0,pe.lY)(),Ii=(0,U.Nj)(H.AU),Ti=(0,U.Nj)(K.Gs),Di=(0,me.b1)(),{abTestVersion:Li,user:Pi,wid:ji}=(0,s.L$)((0,_.W)((()=>["abTestVersion","user","wid"]),[])),Yi=null!==(Pe=(0,x.qt)(Li,"search_video"))&&void 0!==Pe?Pe:"v1",Si=Boolean(Pi),Oi=()=>{const e=new Date;return e.setDate(e.getDate()+1),e.setHours(0,0,0,0)},Ei=(0,S.useCallback)(((e,t)=>{const i={data:t,expire:Oi()};(0,w.AP)(e,JSON.stringify(i))}),[]),Mi=(0,S.useCallback)((e=>{const t=(0,w._S)(e),i=Date.now();let o;if(t){const n=JSON.parse(t);i<n.expire?o=n.data:(0,w.sc)(e)}return o}),[]),Fi=(0,S.useCallback)(((i,o)=>{if(St)return X.F.destroy(),X.F.open({content:Ve("cc_webapp_age_video_details_body"),duration:3,widthType:"half"}),i.stopPropagation(),void i.preventDefault();if(B)return i.preventDefault(),void B(i,t);if(i.preventDefault(),i.stopPropagation(),null==Re?void 0:Re.showNotPass)return;"explore"===Y&&_e&&Ci.prepareBrowserMode(_e);const n=Object.assign(Object.assign({},fi),{enter_method:o,from_mode:1});if(!("v4"!==Yi||Si||"general_search"!==$.f.commonParams.page_name&&"search_video"!==$.f.commonParams.page_name||Mi(`${k.DK}${ji}`)))return Ei(`${k.DK}${ji}`,ji),Di.setCloseCallback((()=>{ki.setItemListKey(Y),wi({index:e,teaParams:bi,enterFrom:$.f.commonParams.page_name,reportTeaParams:n}),Ti.setEnterMethod(o),Ii.handleUserChangeVideoOrPlayMode(),Ii.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:o})})),void Di.openModal({isSignup:!1,query:{enter_method:"click_top_bar",enter_from:$.f.commonParams.page_name,redirect_url:window.location.href,type:"loginsearchmore"}});ki.setItemListKey(Y),wi({index:e,teaParams:bi,enterFrom:$.f.commonParams.page_name,reportTeaParams:n}),Ti.setEnterMethod(o),Ii.handleUserChangeVideoOrPlayMode(),Ii.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:o}),null==W||W()}),[St,B,null==Re?void 0:Re.showNotPass,fi,Yi,Si,Mi,ji,Y,wi,e,bi,Ti,Ii,Ve,t,Ei,Di,ki,W,_e,Ci]),Vi=(0,S.useCallback)((e=>{var t;13!==e.keyCode&&32!==e.keyCode||null===(t=xi.current)||void 0===t||t.click()}),[]),Bi=(0,S.useCallback)((e=>{Ot||(e.preventDefault(),e.stopPropagation(),Re&&ti.removeBlockVideo(Re.id))}),[Ot,Re,ti]),Ri=(0,S.useCallback)((()=>{var e;const{search_id:t="",search_keyword:i="",search_result_id:o="",search_type:n="general",impr_id:r}=ui;G.$G.handleSearchResultClick({search_id:t,search_keyword:i,search_result_id:o,search_type:n,token_type:We?"live_card":"person",nickname:We?null===(e=null==Be?void 0:Be.owner)||void 0===e?void 0:e.nickname:ai,impr_id:r})}),[We,ui,ai,Be]),Wi=(0,S.useCallback)((e=>t=>Fi(t,e)),[Fi]),Ai=function(e,t){return![3,4,129,103,16,18,121,19,123,106].includes(e)&&!t}(Number(i),We);let Ni;Ni="following-recommend"===O?`https://www.tiktok.com${(0,C.fJR)({uniqueId:ni,secUid:null!=ri?ri:""})}`:`https://www.tiktok.com${Xt(Re)}`;const{ratio:zi}=(0,u.mV)(),qi=(0,S.useMemo)((()=>{let{ratio:e}=I.f[O];return 19===i&&(e=be&&(null==Re?void 0:Re.video)?(null==Re?void 0:Re.video.width)/(null==Re?void 0:Re.video.height):zi),e}),[O,i,zi,be,null==Re?void 0:Re.video]),{inGifPlayerExperiment:Ui,setGifPlayerItemId:$i}=(0,Ut.t)(i),Hi=(0,S.useCallback)((i=>o=>{var n,r,a,l;Ot||(o.preventDefault(),Ui?$i(t):(ii.updateVideo({currentVideo:{id:t,index:e,mode:1},playProgress:mi?null!==(r=null===(n=_i.current)||void 0===n?void 0:n.currentTime)&&void 0!==r?r:0:null!==(l=null===(a=yi.current)||void 0===a?void 0:a.currentTime)&&void 0!==l?l:0,playType:"hover"}),Ti.setEnterMethod(i),Ii.reportVideoInteractStart({startTime:Date.now(),situation:"three_column_user_hover",enter_method:i}),Q.V.handleVideoControlReport({play_mode:"list_mouse_trigger"})))}),[Ot,t,ii,e,Ti,Ii,Ui,$i]),{isDetailPage:Ki}=(0,ie.s0)(),Gi=Qt.includes(i),Qi=(0,S.useMemo)((()=>{var t;let n=null;switch(i){case 16:n=(0,o.Y)(rt,{mode:O,index:e,onMouseEnter:Hi,onClick:Wi,videoData:Re});break;case 1:kt&&(n=(0,o.Y)(Vt,{mode:O,index:e,itemListKey:Y,onMouseEnter:Hi,onClick:Wi,videoData:Re,pageType:i,userData:oi}));break;case 3:case 4:case 121:case 18:case 129:n=(0,o.Y)(Vt,{mode:O,index:e,itemListKey:Y,onMouseEnter:Hi,onClick:Wi,videoData:Re,pageType:i,userData:oi});break;case 105:case 107:case 123:let r=Re;We&&(r={author:null===(t=null==Be?void 0:Be.owner)||void 0===t?void 0:t.display_id,desc:null==Be?void 0:Be.title}),n=(0,o.Y)(Dt,{onClick:Wi,onMouseEnter:Hi,videoData:r,reportParams:ui,onReportClick:Ri,pageType:i,hasPlayInfo:!We,id:`${Y}-item-user-link-${e}`});break;case 19:"explore"===Y&&(n=(0,o.Y)(Ke,{videoData:Re,onClick:Wi,onMouseEnter:Hi,onLikeClick:Fi}))}return n}),[i,O,e,Hi,Wi,Re,Y,We,ui,Ri,Fi,null===(Ye=null==Be?void 0:Be.owner)||void 0===Ye?void 0:Ye.display_id,null==Be?void 0:Be.title]),{isNewSearchLayout:Ji}=(0,T.CA)(),Zi=105===i||107===i||We,Xi=Zi?Ge.tE:Ge.aX,eo=(0,S.useMemo)((()=>Ki||Zi&&Ji?Ge.iP:Xi),[Xi,Ki,Ji,Zi]),to=et(Re),{withLikeAndCreator:io}=(0,u.y9)(),oo=105!==i&&107!==i||io?null:to,no=(105===i||107===i)&&io,ro=!Ui&&(le||Ne),{justWatchedVideo:ao=null}=(0,f.MY)(),lo=(null==ao?void 0:ao.id)===t,{isJustWatchedEnabled:so}=(0,u.Kg)(),co=(0,oe.EL)(),uo=(0,S.useCallback)((e=>{e.preventDefault()}),[]),ho=(0,S.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),Ne?(X.F.destroy(),X.F.open({content:Ve("music_detail_unavailable_1"),duration:3,widthType:"half"})):(ge?null==ge||ge(e):Ft(e),J.p.handleSwitchSound({playMode:1}))}),[Ne,ge,Ve,Ft]),po=(0,Ut.y)(Re),mo=(0,S.useCallback)((()=>{var o;const n=106===i?"recent_video":"scroll";Z.A.handleVideoExposeReport(Object.assign({enter_method:n,author_id:null!==(o=null==oi?void 0:oi.id)&&void 0!==o?o:"",group_id:t,rank:e,page_name:$.f.commonParams.page_name,backend_source_event_tracking:""},po))}),[null==oi?void 0:oi.id,t,e,i,po]),vo=(0,S.useRef)(null),go=(0,S.useMemo)((()=>[0]),[]);(0,S.useImperativeHandle)(Ce,(()=>({get offsetTop(){var e,t;return null!==(t=null===(e=vo.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0},get currentElementRef(){return vo}})),[]),(0,D.B)({intersectionHandler:mo,element:vo,threshold:go,unobserveAfterIntersect:!0});const{delayAfterVideoPlay:fo}=(0,u.fH)(),{delayUntilFirstItem:bo,delayUntilAnyItem:yo}=(0,u.W3)(),{hasCommonVideoFirst:_o}=(0,u.lP)(),xo=(0,S.useCallback)((()=>{!yo||1!==i&&8!==i||zt.aY.updateUserProfileLoadEvent(),e||(fo&&19===i&&zt.aY.updateExploreVideoLoadEvent(),!bo||1!==i&&8!==i||zt.aY.updateUserProfileLoadEvent(),_o&&qt.UX.includes(i)&&zt.aY.updateCommonLoadEvent())}),[fo,bo,_o,e]);(0,S.useEffect)((()=>{const t=(bo||yo)&&(1===i||8===i),o=_o&&qt.UX.includes(i);xt&&(yo||0===e)&&(t||o)&&zt.aY.updateCommonLoadEvent()}),[xt,e,bo,_o]);const wo=(0,S.useMemo)((()=>Ne||Mt?(0,o.Y)(r.A,Object.assign({},Gt)):(0,o.Y)(a.A,Object.assign({},Gt))),[Ne,Mt]),ko=(0,S.useCallback)((()=>{xo(),null==ke||ke()}),[]),Co=(0,S.useMemo)((()=>({videoCover:Zt,desc:ci})),[Zt,ci]),Io=(0,S.useMemo)((()=>({params:fi})),[fi]),To=(0,S.useMemo)((()=>({vqscore:yt?Number(yt):0})),[yt]),Do=ee.Rg("video-card-for-bot-hook",{src:null===(Se=null==Re?void 0:Re.video)||void 0===Se?void 0:Se.playAddr,poster:null===(Oe=null==Re?void 0:Re.video)||void 0===Oe?void 0:Oe.cover,posterAlt:ci,Img:Kt.eL,Video:Kt.wM});return(0,o.FD)(eo,{ref:vo,hasDescUnderItem:E,style:Jt,inHorizontalList:xe,maxWidth:1===i&&Ct?"320px":void 0,children:[(0,o.FD)(te.w,{e2eTag:`${Y}-item`,ratio:qi,borderRadius:Rt?"0":M,hasDescUnderItem:E,copyrightMuted:Ne,onKeyDown:Vi,children:[(0,o.FD)(Ge.mF,{draggable:"trending_topics"!==Y&&void 0,showNotPass:null!==(Ee=null==Re?void 0:Re.showNotPass)&&void 0!==Ee&&Ee,href:Ni,onMouseEnter:Hi("hover_cover"),onClick:Fi,tabIndex:-1,ref:xi,children:[(0,o.Y)(Ge.Od,{width:100*qi,height:100}),We?(0,o.Y)(Ge.w3,{children:(0,o.Y)(ne.s,{id:t,mode:1,searchType:null!=A?A:"live",search_result_id:null==F?void 0:F.search_result_id})}):(0,o.FD)(Ge.w3,{withBack:Rt,borderRadius:M,onContextMenu:uo,children:[xt?(0,o.Y)(Ge.NR,{children:(0,o.Y)(Ge.zj,{video:Zt,alt:qe,onLoad:e=>It(e.target)})}):!Ui&&(mi?null!==(Fe=null==Do?void 0:Do.videoCard4Bot)&&void 0!==Fe?Fe:(0,o.Y)(P.o,{ref:_i,id:t,url:nt,horizontal:!1,mode:1,index:e,muted:Mt||Ne,duration:lt,bitrateInfo:dt,disableDownload:!0,bitrate:Number(ct),posterConfig:Co,teaConfig:Io,videoQualityConfig:To,onVideoPlay:ko,onVideoError:xo,onTimeUpdate:xo,onVideoEnded:fe,fetchPriority:co&&e<3?"high":"auto"}):null!==(Me=null==Do?void 0:Do.videoCard4Bot)&&void 0!==Me?Me:(0,o.Y)(L.K,{desc:ci,horizontal:!1,mode:1,ref:yi,id:t,playUrl:nt,index:e,itemMute:Mt||Ne,duration:lt,bitrateInfo:dt,teaParams:fi,disableDownload:!0,volumeInfo:{Loudness:de}||st,bitrate:Number(ct),videoCover:Zt,onVideoPlay:ko,onVideoError:xo,onTimeUpdate:xo,onVideoEnded:fe,fetchPriority:co&&e<3?"high":"auto"})),Ui&&!xt&&(0,o.Y)($t.Y,{item:Re,mode:1,posterConfig:Co,teaParams:fi}),!Pt&&(null==ze?void 0:ze[0])&&(0,o.Y)(Ge.zm,{children:(0,o.Y)(j.Q,{needExtraBottom:!xe,info:null==ze?void 0:ze[0],useSmallSize:xe})}),Boolean(He)&&(0,o.Y)(Ge.zm,{children:(0,o.FD)(Ge.Vq,{children:[(0,o.Y)(Ge.Mt,{width:14.67,height:14.67}),(e=>{const[t,i]=e.split(" "),[n,r,a]=t.split("-");return(0,o.FD)(o.FK,{children:[(0,o.Y)("span",{children:n}),(0,o.Y)("span",{children:"-"}),(0,o.Y)("span",{children:r}),(0,o.Y)("span",{children:"-"}),(0,o.Y)("span",{children:a}),(0,o.Y)("span",{children:"Â "}),(0,o.Y)("span",{children:i})]})})((Lo=He,ae().unix(Lo).format("YYYY-M-D H:mm")))]})}),ei,xt&&(0,o.Y)(Ge.gp,{children:(0,o.Y)(n.N,{size:20})}),Ai&&(0,o.Y)(je,{videoData:Re,content:oo,prioritizeLike:no}),(Pt||!(null==ze?void 0:ze[0]))&&Gi&&(0,o.Y)(De,{e2ePrefix:Y,type:1,videoData:Re,teaParams:F,showMuteIcon:ro}),19===i&&(0,o.Y)(Ze,{videoData:Re}),Ot||Et.includes((null==Re?void 0:Re.id)||"")?(0,o.Y)(Ge.es,{hasSolidBackground:St,children:(0,o.Y)(Ge.NL,{onClick:Bi,children:(0,o.Y)(N,{width:"48",height:"48"})})}):null,ro&&(0,o.Y)(Ge.jG,{onClickCapture:ho,children:wo}),so&&lo&&1===i&&"user-post"===Y&&0===vi&&(0,o.Y)(Nt,{})]}),(0,o.Y)(R,{videoData:Re,pageType:i,itemListKey:Y,sortType:vi})]}),we]}),!Ue&&Qi]});var Lo})))},56999:(e,t,i)=>{i.d(t,{BV:()=>c,Fp:()=>d,T6:()=>r,Uz:()=>h,Zt:()=>u,h9:()=>l});var o=i(62186),n=i(72153);const r=(0,o.default)("a",{target:"eih2qak0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;");var a;!function(e){e.ArrowLeft="left",e.ArrowRight="right",e.ArrowTop="top",e.ArrowBottom="bottom"}(a||(a={}));const l=(0,o.default)("div",{target:"eih2qak1"})((({theme:e})=>[(0,n.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box",width:"100%"}]),"label:DivTagCardDesc;"),d=(0,o.default)("span",{target:"eih2qak2"})((({theme:e})=>({color:e.colors.TextTertiaryAlt})),{marginTop:"2px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto"},"label:SpanInfoExpandIconWrapper;");function s(e,t){return"right"===e?function(e){const t={borderBottom:"12px solid transparent",borderTop:"12px solid transparent",borderRight:"10px solid",borderRightColor:e.colors.BGSecondary};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginTop:"32px",marginRight:"-20px"}):Object.assign(Object.assign({},t),{marginTop:"30px",marginLeft:"8px"})}(t):"bottom"===e?function(e){const t={borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"10px solid",borderBottomColor:e.colors.BGSecondary,marginTop:"60px"};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginRight:"-16px"}):Object.assign(Object.assign({},t),{marginLeft:"-20px"})}(t):"left"===e?function(e){return{borderBottom:"12px solid transparent",borderTop:"12px solid transparent",borderLeft:"10px solid",borderLeftColor:e.colors.BGSecondary,marginTop:"30px",marginLeft:"-30px"}}(t):"top"===e?function(e){const t={borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderTop:"10px solid",borderTopColor:e.colors.BGSecondary,marginRight:"-20px",marginTop:"20px"};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginRight:"-20px"}):Object.assign(Object.assign({},t),{marginLeft:"-18px"})}(t):{}}const c=(0,o.default)("div",{target:"eih2qak3"})((({renderDirection:e,visible:t,theme:i})=>[{width:0,height:0,position:"absolute",display:t?"block":"none",zIndex:100},s(e,i)]),"label:DivInfoCardArrow;"),u=(0,o.default)("div",{target:"eih2qak4"})({display:"flex",position:"relative"},"label:DivDesContainer;"),h=(0,o.default)("span",{target:"eih2qak5"})({position:"absolute",display:"flex",top:-28,":hover":{cursor:"pointer"}},(({theme:{direction:e}})=>"ltr"===e?{right:0}:{left:0}),"label:SpanInfoExpandWrapper;")},66551:(e,t,i)=>{i.d(t,{Z:()=>F});var o=i(2787),n=i(40099),r=i(11417),a=i(88920),l=i(21367),d=i(89311),s=i(25616),c=i(78208),u=i(67169),h=i(19442),p=i(44926),m=i(43626),v=i(90217),g=i(30440),f=i(33329),b=i(91872),y=i(93608);var _,x=i(84827),w=i(68347),k=i(34308),C=i(93751),I=i(60072),T=i(32125),D=i(30349),L=i(65530),P=i(48933),j=i(65681),Y=i(94684),S=i(58542),O=i(99260),E=i(72241),M=i(70925);!function(e){e[e.IN_VIEW=0]="IN_VIEW",e[e.ABOVE_VIEW=1]="ABOVE_VIEW",e[e.BELOW_VIEW=2]="BELOW_VIEW"}(_||(_={}));const F=(0,n.memo)((0,r.h)()((function({mode:e="compact",loading:t,itemList:i,pageType:r,itemListKey:_,onHitBottom:F,threshold:V,frozen:B,borderRadius:R,renderMap:W,renderTitle:A,renderItemChildren:N,teaParams:z,searchTopCardType:q,notWrap:U=!1,autoPlayFirst:$=!0,handleClick:H,handleVideoClick:K,searchType:G,hasMore:Q=!0,mute:J=!0,hasSound:Z=!1,handleToggleMute:X,isMasonry:ee=!1,hasLocateItem:te=!1,children:ie}){var oe,ne;const{isInProductHoldout:re}=(0,a.Vv)(),ae=!re,le=(0,n.useCallback)((()=>{B||null==F||F()}),[B,F]),de=(0,b.O)({onHitBottom:le,threshold:V}),se=(0,l.nr)(),{isJustWatchedEnabled:ce,isButtonPrimary:ue,isButtonSizeLarge:he}=(0,a.Kg)(),{justWatchedVideoId:pe,justWatchedAuthorUniqueId:me,justWatchedAuthorId:ve}=(0,O.xr)(),ge=(0,k.gT)(),[fe]=(0,C.eW)(),[be,ye]=(0,n.useState)(0),[_e,xe]=(0,n.useState)(20),[we,ke]=(0,n.useState)(!1),[Ce,Ie]=(0,n.useState)(!1),[Te,De]=(0,n.useState)(!1),{isRTL:Le}=(0,d.m)(),{value:Pe}=(0,n.useContext)(E.xm),je=(0,s.s)(),Ye=i[0],Se=(0,I.F3)((e=>e[Ye])),{showVideoMask:Oe}=(0,c.d)({item:null!=Se?Se:{},playMode:1});(0,w.H4)(i,de,Q,F);const Ee=(0,n.useRef)(!0),Me=(0,n.useRef)(_);(0,n.useEffect)((()=>{_!==Me.current&&(Ee.current=!0,Me.current=_)}),[_]);const{inGifPlayerExperiment:Fe,setGifPlayerItemId:Ve}=(0,M.t)(r);(0,n.useEffect)((()=>{if(!Oe&&Ee.current&&$&&i.length){if(Ee.current=!1,Fe)return void Ve(i[0]);se.updateVideo({currentVideo:{id:i[0],index:0,mode:1},teaParams:{isThreeColumnAuto:!0},playProgress:0,playType:"automatic"})}}),[Oe,i,Fe,Ve,$]),(0,u.Ux)(1);const Be=3===r||105===r||107===r||123===r||16===r||61===q,Re=(0,n.useRef)([]),We=(0,n.useCallback)((e=>t=>{Re.current||(Re.current=[]),Re.current[e]=t}),[]),Ae=(0,n.useRef)(null),Ne=(0,h.JD)((e=>e.currentIndex)),ze=(0,p.Sb)(),{isBrowserModeShowing:qe}=(0,n.useContext)(m.g),Ue=(0,n.useCallback)((()=>{var e,t;const o=null==i?void 0:i.indexOf(null!=pe?pe:"");return-1===o?null:null!==(t=null===(e=null==Re?void 0:Re.current[o])||void 0===e?void 0:e.currentElementRef)&&void 0!==t?t:null}),[i,pe,Re,Ce]);(0,v.B)({intersectionHandler:()=>{ye(0)},outerSectionHandler:()=>{const e=Ue();if(!e||!e.current)return void ye(2);const{top:t}=e.current.getBoundingClientRect();ye(t<0?1:2)},element:Ue(),threshold:[.8]});const $e=(0,n.useCallback)(((e,t=150)=>{var i;if(e){const o=null!==(i=e.offsetTop)&&void 0!==i?i:0;0!==o&&window.scrollTo(0,o+t)}}),[]),He=(0,n.useCallback)((()=>{return e=this,t=void 0,o=function*(){var e,t;t={author_id:null!=ve?ve:"",group_id:null!=pe?pe:""},y.f.sendEvent("click_just_watched_button",t);const i=Ue();if(i)$e(i.current);else if(me===(null==Se?void 0:Se.author)){Ie(!0);try{yield ge.getItemList(Object.assign({secUid:null!==(e=null==Se?void 0:Se.authorSecId)&&void 0!==e?e:"",postItemListRequestType:3},pe&&{locateItemID:pe}))}catch(e){console.error("Error calling fetch function:",e)}finally{Ie(!1)}De(!0)}},new((i=void 0)||(i=Promise))((function(n,r){function a(e){try{d(o.next(e))}catch(e){r(e)}}function l(e){try{d(o.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}d((o=o.apply(e,t||[])).next())}));var e,t,i,o}),[Ue,$e,me,ve,null==Se?void 0:Se.author,null==Se?void 0:Se.authorSecId,pe,ge,Ie]);(0,n.useEffect)((()=>{const e=-1!==i.indexOf(null!=pe?pe:"")&&0!==be,t=-1===i.indexOf(null!=pe?pe:"")&&te,o=1===r&&(e||t);var n;o&&!we&&(n={has_locate_item:te,author_id:null!=ve?ve:"",group_id:null!=pe?pe:""},y.f.sendEvent("just_watched_button_show",n)),ke(o)}),[r,i,te,be,pe]),(0,n.useEffect)((()=>{const e=()=>{if(Ae.current){const e=Ae.current.getBoundingClientRect(),t=Le?e.left:window.innerWidth-e.right;xe(t+20)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,n.useEffect)((()=>{if(Te){const e=Ue();e&&$e(e.current),De(!1)}}),[Te,Ue,$e]),(0,n.useEffect)((()=>{let e;if("explore"===_&&qe&&0!==Ne){const{itemListKey:t,index:i}=ze.getSourceIndex(Ne);return t===_&&(e=setTimeout((()=>{var t,o,n;e=void 0,window.scrollTo(0,(null!==(n=null===(o=null===(t=Re.current)||void 0===t?void 0:t[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:144)-144)}),0)),()=>e&&clearTimeout(e)}}),[Ne,qe,_,ze]);const Ke=(0,D.N)();(0,g.V)(i,Ke);const Ge=(0,I.F3)((e=>{const t=[];return i.forEach((i=>{if(!Ke)return;const o=e[i];(null==o?void 0:o.video.subtitleInfos)&&t.push(o)})),t}),T.bN);(0,f.t)(Ge,Ke);const Qe=(0,n.useCallback)((e=>{if(null==W?void 0:W.length){const t=W.filter((({position:t})=>t===e));if(t.length>0)return t.map((t=>t.renderNode(e)))}return null}),[W]),Je=(0,n.useMemo)((()=>null!==Qe(0)),[W,Qe]),Ze=(0,n.useMemo)((()=>({itemList:i,hasTopCard:Je,renderTitle:A,mode:e,pageType:r,borderRadius:R,itemListKey:_,hasDescUnderItem:Be,teaParams:z,searchTopCardType:q,handleClick:H,handleVideoClick:K,searchType:G,mute:J,hasSound:Z,handleToggleMute:X,isActualRatioEnabled:ee,renderInner:Qe,renderItemChildren:N,getItemRef:We,justWatchedVideoId:pe})),[i,Je,A,e,r,R,_,Be,z,q,H,K,G,J,Z,X,ee,Qe,N,We,pe]),Xe=ee?(0,o.Y)(P.k,{items:i.map((()=>Ze)),itemKey:(e,t)=>e.itemList[t],render:j.x,overscanBy:1/0}):i.map(((e,t)=>(0,o.Y)(j.x,{index:t,data:Ze},e)));return(0,o.FD)(Y.jl,{ref:de,isSearchTopCard:Boolean(q),children:[(0,o.FD)(L.$G,{"data-e2e":`${_}-item-list`,hasDescUnderItem:Be,isMasonry:ee,mode:e,notWrap:U,ref:Ae,useLargerGrid:1===r&&ae,useAutoFill:i.length<Math.ceil((null!==(ne=null===(oe=null==Ae?void 0:Ae.current)||void 0===oe?void 0:oe.clientWidth)&&void 0!==ne?ne:0)/336),children:[Qe(0),Xe,ce&&"user-post"===_&&0===fe&&we&&(0,o.Y)(Y.fW,{containerRight:_e,children:(0,o.Y)(S.I05,{variant:ue?"primary":"secondary",style:(0,Y.Ct)(ue,Pe),size:he?"large":"medium",shape:"capsule",trailingIcon:1===be?(0,o.Y)(S.dTl,{}):(0,o.Y)(S.g4Y,{}),label:je("pcWeb_justWatched"),onClick:He,loading:Ce})}),ie]}),t&&(0,o.Y)(x.R,{center:!0}),!t&&!Q&&(0,o.Y)(Y.hb,{children:je("search_nomoreresults_text")})]})})))},48933:(e,t,i)=>{i.d(t,{k:()=>h});var o=i(2787),n=i(40099),r=i(66427),a=i(85395),l=i(20190),d=i(90665),s=i(25152),c=i(49079),u=i(65530);const h=(0,n.memo)((function(e){const{items:t,render:i,ssrWidth:h,ssrHeight:p}=e,m=(0,n.useRef)(null),[v,g]=(0,r.lW)({wait:100,initialWidth:h,initialHeight:p}),{offset:f,width:b}=(0,a.Y)(m,[v,g]);let y=246,_=16,x=24;const w=b||v;v<=u.PF?(_=12,x=18,y=Math.min((w-2*_)/3,Math.max(192,(w-4*_)/5))):v<=u.hk&&(y=Math.min((w-4*_)/5,Math.max(246,(w-7*_)/8)));const k=(0,l.i)({width:w,columnWidth:y,columnGutter:_,rowGutter:x}),C=(0,d.w)(k),{scrollTop:I,isScrolling:T}=(0,s.a)(f);return(0,o.Y)(c.o,{positioner:k,resizeObserver:C,scrollTop:I,isScrolling:T,offset:f,height:g,containerRef:m,items:t,overscanBy:1/0,render:i})}))},65681:(e,t,i)=>{i.d(t,{x:()=>a});var o=i(2787),n=i(40099),r=i(99334);const a=(0,n.memo)((function(e){var{index:t}=e,i=e.data,{itemList:n,hasTopCard:a,renderTitle:l,justWatchedVideoId:d,teaParams:s={},renderInner:c,renderItemChildren:u,getItemRef:h}=i,p=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}(i,["itemList","hasTopCard","renderTitle","justWatchedVideoId","teaParams","renderInner","renderItemChildren","getItemRef"]),{style:m}=e;const v=n[t],g=n.indexOf(null!=d?d:"");return s=Object.assign(Object.assign({},s),-1!==g&&{index_from_just_watched:g}),(0,o.FD)(o.FK,{children:[0===t&&a&&l,(0,o.Y)(r.g4,Object.assign(Object.assign({id:v,index:t,ref:h(t),teaParams:s},p),{style:m,children:null==u?void 0:u(v)}),v),null==c?void 0:c(t+1)]})}))},92839:(e,t,i)=>{i.d(t,{B:()=>D});var o=i(58632),n=i(64162),r=i(4126),a=i(93995),l=i(23999),d=i(63700),s=i(26324),c=i(8536),u=i(35572),h=i(20259),p=i(74690),m=i(80339),v=i(76435),g=i(31291),f=i(24451),b=i(57009),y=i(49799),_=i(79983),x=i(52333),w=i(55306),k=i(54888),C=i(38203),I=i(39228);let T=class{constructor(e){this.fetch=e}getQuestionDetail(e){return this.fetch.get("/api/question/detail/",{query:e,baseUrlType:2})}};T=(0,o.__decorate)([(0,C._)(),(0,o.__metadata)("design:paramtypes",[I.pM])],T);let D=class extends n.E{constructor(e,t,i,o,n,r){super(),this.service=e,this.seoModule=t,this.itemList=i,this.item=o,this.user=n,this.bizContext=r,this.defaultState={statusCode:0,questionInfo:void 0,loading:!0}}setQuestionInfo(e,t){const{statusCode:i=0,questionInfo:o}=null!=t?t:{};e.statusCode=i,e.questionInfo=o}resetData(e){e.loading=!0,e.statusCode=0,e.questionInfo=void 0}setLoading(e,t){e.loading=t}resetQuestionData(e){return e.pipe((0,c.Z)((()=>(0,l.of)(this.getActions().dispose$(),this.getActions().resetData(),this.itemList.getActions().dispose$(),this.itemList.getActions().resetItemList({key:"question"})))))}getQuestionPageData(e){return e.pipe((0,u.p)((({questionId:e="",scene:t="",abTestVersion:i,user:o,language:n,appType:r})=>this.service.getQuestionDetail({questionId:e,language:n}).pipe((0,h.W)((()=>(0,l.of)({statusCode:-1}))),(0,c.Z)((a=>{const{statusCode:s}=a,c=[(0,l.of)(this.getActions().setQuestionInfo(a),this.getActions().setLoading(!1))];let u;return 0===s&&(u=this.itemList.getQuestionList$({questionID:e,abTestVersion:i,user:o,language:n}),c.push(u)),(0,d.h)(...c,this.setSEO(a,t,n,r,u))})),(0,p.Z)(this.getActions().setLoading(!0)),(0,m.q)(this.getActions().setLoading(!1),this.terminate()),(0,v.Q)(this.dispose$),(0,h.W)((e=>(console.error(e),(0,l.of)(this.noop()))))))))}setSEO(e,t,i,o,n){var r;if((null===(r=this.bizContext.state.bizContext)||void 0===r?void 0:r.isBot)&&n){const r=this.itemList.state$.pipe((0,g.s)(1),(0,f.E)(this.item.state$,this.user.state$),(0,c.Z)((([n,r,a])=>{var l,d;const s=null===(l=n.question)||void 0===l?void 0:l.list,c=(null!==(d=null==s?void 0:s.map((e=>r[e])))&&void 0!==d?d:[]).filter(Boolean),u=c.map((e=>{var t;return Object.assign(Object.assign({},e),{author:a.users[null!==(t=e.author)&&void 0!==t?t:""]})}));return this.seoModule.setQuestionSEOProps(e,{language:i},c,o,{scene:t},u)})));return n.pipe((0,b.$)(r))}return this.seoModule.setQuestionSEOProps(e,{language:i},[],o,{scene:t})}};(0,o.__decorate)([(0,r.uk)(),(0,o.__metadata)("design:type",s.c)],D.prototype,"dispose$",void 0),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setQuestionInfo",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"resetData",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setLoading",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[s.c]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"resetQuestionData",null),(0,o.__decorate)([(0,r.Mj)({payloadGetter:1}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[s.c]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"getQuestionPageData",null),D=(0,o.__decorate)([(0,a.n)("QuestionModuleDesktop"),(0,o.__metadata)("design:paramtypes",[T,y.E,_.O,x.k,w.U,k.$])],D)},68347:(e,t,i)=>{i.d(t,{$t:()=>x,EI:()=>f,EZ:()=>g,H4:()=>C,WA:()=>w,aK:()=>k,p$:()=>_});var o=i(46682),n=i(40099),r=i(11060),a=i(49057),l=i(48615),d=i(71281),s=i(43271),c=i(2301),u=i(19442),h=i(82715),p=i(93608),m=i(16680),v=i(32125);const g=()=>{var e,t;const{user:i}=null!==(e=(0,a.W)((()=>["user"]),[]))&&void 0!==e?e:{},{isBot:o,searchVideoForLoggedin:d,searchLiveForLoggedin:s}=null!==(t=(0,l.U)((()=>["isBot","searchVideoForLoggedin","searchLiveForLoggedin"]),[]))&&void 0!==t?t:{},c=(0,m.b1)(),{search:u,pathname:p}=(0,r.zy)(),v=Boolean(i),g=(0,r.W6)();(0,n.useEffect)((()=>{if(!(o||v||p===h.OZ.searchUser||p===h.OZ.searchHome&&!d||p===h.OZ.searchVideo&&!d||p===h.OZ.searchLive&&!s)){c.setCloseCallback((()=>{let e=h.OZ.searchUser;d||(e=h.OZ.searchHome),g.push({pathname:e,search:u,state:{needLoad:!1,enterMethod:"click_icon",searchSource:"switch_tab"}})}));const{state:{enterFrom:e}}=g.location;c.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"explore_page"===e?"explore_all":"prompt",type:"search"}})}}),[])},f=()=>{var e;const{user:t}=null!==(e=(0,a.W)((()=>["user"]),[]))&&void 0!==e?e:{};return Boolean(t)};function b(e){return!!["no_results","show_with_button"].includes(e)}function y(e){return"show_with_button"===e}const _=e=>{const t=(null==e?void 0:e.data)?null==e?void 0:e.data.show_results_type:"",[i,o]=(0,n.useState)((()=>b(t))),[r,a]=(0,n.useState)((()=>y(t)));return(0,n.useEffect)((()=>{o((()=>b(t))),a((()=>y(t)))}),[t]),{hideSearchResult:i,skipError:e&&11===e.type||!1,onShowResult:function(){y(t)&&(o(!1),a(!1))},showResultButton:r}},x=()=>{var e,t;const i=(0,a.W)((()=>["abTestVersion"]),[]),o=null!==(e=(0,d.qt)(null==i?void 0:i.abTestVersion,"search_video"))&&void 0!==e?e:"v1",{user:r}=null!==(t=(0,a.W)((()=>["user"]),[]))&&void 0!==t?t:{},l=Boolean(r),s=(0,m.b1)();return(0,n.useCallback)((()=>{"v3"!==o&&"v4"!==o||l||s.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"click_top_bar",enter_from:p.f.commonParams.page_name,type:"loginsearchmore"}})}),[s,o,l])},w=e=>{const[{loading:t=!0,hasMore:i=!0}]=(0,o.S)(s.tq,{dependencies:[e],selector:t=>t[e]}),{handleSearch:r}=(0,c.nY)(e);return(0,n.useCallback)((()=>{!t&&i&&r.bind(null,!0,!1)()}),[r,t,i])},k=(e,t)=>{var i;const r=(0,a.W)((()=>["abTestVersion"]),[]),l=null!==(i=(0,d.qt)(null==r?void 0:r.abTestVersion,"search_video"))&&void 0!==i?i:"v1",c=f(),[{hasMore:h=!0,error:p}]=(0,o.S)(s.tq,{dependencies:[e],selector:t=>t[e]}),m=w(e),g=x(),{showingBrowserMode:b,currentIndex:y}=(0,u.JD)((e=>({showingBrowserMode:e.showingBrowserMode,currentIndex:e.currentIndex})),v.bN);(0,n.useEffect)((()=>{const e=("v3"===l||"v4"===l)&&!c;!h&&b&&e&&t.length-y==1?g():h&&b&&!e&&!p&&t.length-y<=3&&m()}),[y,b,l,t.length,c,p,g,m,h])},C=(e,t,i,o)=>{(0,n.useEffect)((()=>{var n,r,a,l,d,s;const c=null!==(r=null===(n=document.getElementById("app-header"))||void 0===n?void 0:n.clientHeight)&&void 0!==r?r:0,u=null!==(l=null===(a=document.getElementById("search-tabs"))||void 0===a?void 0:a.clientHeight)&&void 0!==l?l:0,h=window.innerHeight;e.length>0&&(null!==(s=null===(d=t.current)||void 0===d?void 0:d.clientHeight)&&void 0!==s?s:0)+c+u<=h&&i&&(null==o||o())}),[e.length,t,i,o])}},99260:(e,t,i)=>{i.d(t,{Nj:()=>y,R8:()=>x,Sw:()=>b,b3:()=>f,tg:()=>g,xr:()=>_});var o=i(40099),n=i(11060),r=i(60484),a=i(49057),l=i(51356),d=i(72688),s=i(71281),c=i(92032),u=i(60072),h=i(8877),p=i(21367),m=i(32125),v=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function a(e){try{d(o.next(e))}catch(e){r(e)}}function l(e){try{d(o.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}d((o=o.apply(e,t||[])).next())}))};function g(){const{language:e,abTestVersion:t,user:i,appType:d}=(0,r.L$)((0,a.W)((()=>["language","abTestVersion","user","appType"]),[])),{uniqueId:s}=(0,n.g)();return(0,o.useMemo)((()=>Object.assign({language:e,abTestVersion:t,user:i,appType:d},(0,l.b_)(s))),[s,e,t,i,d])}function f({uniqueId:e,secUid:t}){const{user:i}=(0,r.L$)((0,a.W)((()=>["user"]),[]));return!!i&&(Boolean(e&&e===i.uniqueId)||Boolean(t&&t===i.secUid))}function b({user:e,listKey:t,locateItemID:i,count:n}){const r=(0,c.Ag)();return(0,o.useCallback)((()=>v(this,void 0,void 0,(function*(){(null==e?void 0:e.secUid)&&(yield r.getItemList(t,Object.assign(Object.assign({secUid:e.secUid},i&&{locateItemID:i}),n&&{count:n})))}))),[r,t,null==e?void 0:e.secUid,i,n])}const y=()=>{const e=(0,h.R0)((e=>e.uniqueId)),{pathname:t,search:i}=(0,n.zy)();(0,o.useEffect)((()=>{const o=t.replace(/^\/@/,"");if(e&&!(0,d.$2s)(o)){const t=`${(0,d.fJR)({uniqueId:e})}${i}`;window.history.replaceState(window.history.state,"",t)}}),[e,t])},_=()=>{var e;const{justWatchedVideo:t=null}=(0,p.MY)(),i=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",o=(0,r.L$)((0,u.F3)((e=>e[i]),m.bN));if(!i)return{justWatchedVideoId:null,justWatchedAuthorUniqueId:null,justWatchedAuthorId:null};const{author:n=null,authorId:a=null}=(0,r.L$)(o);return{justWatchedVideoId:i,justWatchedAuthorUniqueId:n,justWatchedAuthorId:a}},x=()=>{var e;const{abTestVersion:t}=(0,r.L$)((0,a.W)((()=>["abTestVersion"]),[]));return{count:{v0:35,v1:28,v2:24,v3:20,v4:16,v5:12}[null!==(e=(0,s.qt)(t,"reduce_user_item_list"))&&void 0!==e?e:"v0"]}}},51356:(e,t,i)=>{i.d(t,{b_:()=>n});var o=i(94810);function n(e){const t=o.A.isRealUniqueId(e),i=o.A.isPureNumber(e,!1);return t?{uniqueId:e.toLowerCase(),secUid:""}:i?{uniqueId:"",secUid:"",userId:e}:{uniqueId:"",secUid:e}}},15046:(e,t,i)=>{i.d(t,{F:()=>r});var o=i(24643);const n=(0,i(62186).default)("div",{target:"e1txrytm0"})((({theme:{colors:e,fontFamilies:t},useSmallBadge:i})=>({display:"inline-flex",padding:"0.0625rem 0.3125rem",alignItems:"center",gap:"0.625rem",borderRadius:"4px",background:"#fe2c55",color:e.ConstTextInverse,textAlign:"center",fontSize:i?"0.65rem":"0.75rem",fontStyle:"normal",fontFamily:t.TikTokFont,fontWeight:500,lineHeight:i?"110%":"130%",letterSpacing:"0.01006rem"})),"label:DivBadge;"),r=({children:e,useSmallBadge:t})=>(0,o.jsx)(n,{"data-e2e":"video-card-badge",useSmallBadge:t,children:e})},25206:(e,t,i)=>{i.d(t,{$D:()=>a});var o=i(73580),n=i(40099),r=i(91021);function a(e){const t=(0,o.Nj)(r.JX);(0,n.useEffect)((()=>{t.setPreloadQueue(e)}),[e,t])}},55453:(e,t,i)=>{i.d(t,{xB:()=>r});var o=i(40099),n=i(52853);function r(e){(0,o.useEffect)((()=>{let t=[];e&&(t=e.map((e=>e.id)));const i=[...new Set(t)];n._.updateIds(i)}),[e])}},31344:(e,t,i)=>{i.d(t,{f:()=>o});const o={compact:{ratio:196/260,borderRadius:0},"following-recommend":{ratio:.75,borderRadius:8},"search-video-list":{ratio:229/305,borderRadius:2},explore:{ratio:.75,borderRadius:8}}},95873:(e,t,i)=>{i.d(t,{A:()=>n});var o=i(93608);const n={handleVideoExposeReport:e=>{o.f.sendEvent("video_expose",e)}}}}]);