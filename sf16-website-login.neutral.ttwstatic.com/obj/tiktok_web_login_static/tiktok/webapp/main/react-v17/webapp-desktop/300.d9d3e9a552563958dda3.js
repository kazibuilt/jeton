"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[300],{96926:(e,t,o)=>{o.d(t,{S:()=>r,w:()=>n});var a=o(40099),i=o(14609);const n=({callback:e,element:t})=>{const o=(0,a.useRef)();(0,a.useEffect)((()=>{const a=null==t?void 0:t.current,n=null==o?void 0:o.current;if(a){n&&n.unobserve(a);const t=new i.A(e);return t.observe(a),o.current=t,()=>{n&&a&&n.unobserve(a)}}}),[e,t])},r=e=>{const t=(0,a.useRef)();(0,a.useEffect)((()=>{t.current=t=>{const o=null==e?void 0:e(t);return"string"==typeof o?t.returnValue=o:t.defaultPrevented?t.returnValue="":void 0}}),[e]),(0,a.useEffect)((()=>{const e=e=>{t.current&&t.current(e)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[])}},30247:(e,t,o)=>{o.d(t,{ey:()=>u,Zh:()=>s,iU:()=>l,BS:()=>h,b_:()=>c});var a=o(40099),i=o(30023),n=o(91286),r=o(58305);const s=e=>!!e&&/^https?:\/\/.*\.mp4$/.test(e),l=e=>1===e,d=e=>11===e?{enter_from_merge:"homepage_follow",entrance_detail:"homepage_follow"}:{enter_from_merge:"homepage_hot",entrance_detail:"homepage_hot_live_head"};function c({item:e,author:t,pageType:o}){const r=(0,a.useMemo)((()=>(0,n.Jl)(e)?"live_head":"video_head"),[e]),c=(0,a.useMemo)((()=>{var t,a;return Object.assign(Object.assign({},d(o)),{enter_method:r,video_id:null==e?void 0:e.id,request_id:null==e?void 0:e.logId,is_highlight:s(null===(t=null==e?void 0:e.liveRoomInfo)||void 0===t?void 0:t.streamData)?"1":"0",is_landscape:l(null===(a=null==e?void 0:e.liveRoomInfo)||void 0===a?void 0:a.landscape)?"1":"0"})}),[o,e,r]);return{avatarShowParams:(0,a.useMemo)((()=>{var o,a,n,r,s,l;return Object.assign(Object.assign({},c),{room_id:null!==(o=null==t?void 0:t.roomId)&&void 0!==o?o:null===(a=null==e?void 0:e.liveRoomInfo)||void 0===a?void 0:a.roomID,anchor_id:null!==(n=null==t?void 0:t.id)&&void 0!==n?n:null===(s=null===(r=null==e?void 0:e.liveRoomInfo)||void 0===r?void 0:r.ownerInfo)||void 0===s?void 0:s.id,live_type:i.t9[Number(null===(l=null==e?void 0:e.liveRoomInfo)||void 0===l?void 0:l.mode)],play_mode:"one_column"})}),[e,t,c]),avatarLinkQuery:(0,a.useMemo)((()=>Object.assign(Object.assign({},c),{from_play_mode:"one_column"})),[c]),followClickQuery:(0,a.useMemo)((()=>{var o,a,n,r,s,l,d,u,h;return Object.assign(Object.assign({},c),{enter_method:"live_cell",live_type:i.t9[Number(null===(o=null==e?void 0:e.liveRoomInfo)||void 0===o?void 0:o.mode)],room_id:null!==(a=null==t?void 0:t.roomId)&&void 0!==a?a:null===(n=null==e?void 0:e.liveRoomInfo)||void 0===n?void 0:n.roomID,anchor_id:null!==(r=null==t?void 0:t.id)&&void 0!==r?r:null===(l=null===(s=null==e?void 0:e.liveRoomInfo)||void 0===s?void 0:s.ownerInfo)||void 0===l?void 0:l.id,to_user_id:null!==(d=null==t?void 0:t.id)&&void 0!==d?d:null===(h=null===(u=null==e?void 0:e.liveRoomInfo)||void 0===u?void 0:u.ownerInfo)||void 0===h?void 0:h.id,play_mode:"one_column"})}),[c,t,o,e])}}const u=()=>(0,r._S)("ENTER_ROOM_TIME_STAMP_STORAGE_KEY",""),h=e=>[3,-2].includes(e)},79345:(e,t,o)=>{var a,i,n;o.d(t,{qt:()=>r}),function(e){e[e.On=1]="On",e[e.Off=2]="Off"}(a||(a={})),function(e){e[e.init=0]="init",e[e.connect=1]="connect",e[e.stop=8]="stop"}(i||(i={})),function(e){e.LD="ld",e.SD="sd",e.HD="hd",e.HD60="hd_60",e.UHD="uhd",e.UHD60="uhd_60",e.ORIGIN="origin",e.AUTO="auto"}(n||(n={}));const r={origin:"Original",uhd_60:"1080p60",uhd:"1080p",hd_60:"720p60",hd:"720p",sd:"540p",ld:"360p"};var s,l,d;!function(e){e.H264="h264",e.Bytevc1="bytevc1",e.H265="h265"}(s||(s={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.OBS=1]="OBS",e[e.MEDIA=2]="MEDIA",e[e.AUDIO=3]="AUDIO",e[e.SCREEN=4]="SCREEN",e[e.SOCIAL_LIVE=5]="SOCIAL_LIVE",e[e.STUDIO=6]="STUDIO"}(l||(l={})),function(e){e.Normal="normal",e.PoorConnection="poor_connection",e.Offline="offline"}(d||(d={}))},17984:(e,t,o)=>{o.d(t,{$:()=>v,L:()=>g});var a=o(46682),i=o(40099),n=o(49057),r=o(87654),s=o(19442),l=o(43271),d=o(60484),c=o(71281),u=o(21367),h=o(88920),p=o(47172),_=o(82715);const v=()=>{var e;const{abTestVersion:t}=(0,d.L$)((0,n.W)((()=>["abTestVersion"]),[])),o="v2"===(null!==(e=(0,c.qt)(t,"search_transfer_guesssearch"))&&void 0!==e?e:"v1"),l=(0,u.Ul)(),{count:p}=(0,h.gQ)(),[{historyList:_},{getTransferList:v}]=(0,a.S)(r._,{selector:e=>({historyList:e.historyList}),dependencies:[]}),g=(0,s.JD)((e=>e.showingBrowserMode));return(0,i.useCallback)((()=>{var e,t;o&&!g&&v({req_source:"web_blank_page",from_group_id:null!==(e=null==l?void 0:l.id)&&void 0!==e?e:"",history_list_v2:(t=_,encodeURIComponent(encodeURIComponent(JSON.stringify(t)))),count:p})}),[v,_,l,o,g,p])},g=()=>{const e=(0,p.useLocation)(),{pathname:t,search:o}=e,n=(0,p.useHistory)(),r=Boolean((0,p.matchPath)(t,{path:_.OZ.searchHome})),{resetSearchResult:s}=(0,a.w)(l.tq);return(0,i.useCallback)((()=>{r&&(s(),n.push({pathname:_.OZ.searchHome,search:o,state:{enterMethod:"manage_personalise"}}))}),[r,s,o,n])}},78289:(e,t,o)=>{o.d(t,{n:()=>i,z:()=>n});var a=o(82715);const i={[a.OZ.searchHome]:"general",[a.OZ.searchUser]:"user",[a.OZ.searchVideo]:"video",[a.OZ.searchLive]:"live"},n={[a.OZ.searchHome]:"general_search",[a.OZ.searchUser]:"search_user",[a.OZ.searchVideo]:"search_video",[a.OZ.searchLive]:"search_live"}},85245:(e,t,o)=>{o.d(t,{v:()=>qo});var a=o(24643),i=o(46682),n=o(41271),r=o(4474),s=o(40099),l=o(47172),d=o(28261),c=o(88091),u=o(94810),h=o(51660),p=o(82715),_=o(93608),v=o(65365),g=o(82535),m=o(78662),f=o(25616),x=o(58305),b=o(88920),y=o(60484),w=o(71281),k=o(45297),S=o(16469),j=o(19442),L=o(2301),C=o(24728),I=o(89107),T=o(58632),M=o(64162),O=o(4126),P=o(93995),F=o(8536),D=o(23999),E=o(26324),B=o(72916),R=o(62564),A=o(74690),G=o(80339),H=o(24451),W=o(95719);const N={historyNotSeenID:[132952,133061],historyDisappearID:[132953,133062],parentIDs:[132954,132955,132956,132957,133063,133064,133065,133066],otherID:[132958,133067]},V=new Set([...N.otherID]),$=new Set([...N.historyNotSeenID]),z=new Set([...N.historyDisappearID]),U=new Set([...N.parentIDs]);var q=o(38203),K=o(39228);let Z=class{constructor(e){this.fetch=e}getFAQList(e){return this.fetch.get("/feedback/2/common_feedback_list/",{query:e})}postSubmitFaqList(e){return this.fetch.post("/feedback/2/post_message/",{query:e})}};Z=(0,T.__decorate)([(0,q._)(),(0,T.__metadata)("design:paramtypes",[K.pM])],Z);var X=o(43271);let J=class extends M.E{constructor(e,t){super(),this.service=e,this.search=t,this.defaultState={isOpenReport:!1,isOpenSuccessModal:!1,loading:!1,buttonLoading:!1,reportList:[],checkRadioId:void 0,otherText:"",historyNotSeenText:"",historyDisappearText:"",suggestedGroup:[],isSuccess:void 0,feedbackId:void 0}}setIsOpenReport(e,t){e.isOpenReport=t}setIsOpenSuccessModal(e,t){e.isOpenSuccessModal=t}setOtherText(e,t){e.otherText=t}setHistoryNotSeenText(e,t){e.historyNotSeenText=t}setHistoryDisappearText(e,t){e.historyDisappearText=t}setSuggestedGroup(e,t){e.suggestedGroup=t}setLoading(e,t){e.loading=t}setButtonLoading(e,t){e.buttonLoading=t}setCheckRadioId(e,t){e.checkRadioId=t}setData(e,t){e.reportList=t}setIsSuccess(e,t){e.isSuccess=t}setFeedbackId(e,t){e.feedbackId=t}resetData(e){e.loading=!1,e.buttonLoading=!1,e.checkRadioId=void 0,e.otherText="",e.historyNotSeenText="",e.historyDisappearText="",e.suggestedGroup=[],e.isSuccess=void 0,e.feedbackId=void 0}getReport(e){return e.pipe((0,B.n)((e=>this.service.getFAQList(e).pipe((0,R.T)((e=>{var t;const{message:o,list:a=[]}=e;let i=[];return"success"===o&&a.length&&(i=null===(t=a[0])||void 0===t?void 0:t.children),Object.assign(Object.assign({},e),{data:i})})),(0,F.Z)((e=>(0,D.of)(this.getActions().setData(null==e?void 0:e.data)))),(0,A.Z)(this.getActions().setLoading(!0)),(0,G.q)(this.getActions().setLoading(!1))))))}submitReport(e){return e.pipe((0,H.E)(this.search.state$,this.state$),(0,R.T)((([e,{searchGlobalParams:t},{checkRadioId:o,suggestedGroup:a,otherText:i}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,checkRadioId:o,suggestedGroup:a,otherText:i}))),(0,B.n)((({payload:e,checkRadioId:t,rootEnterFrom:o,suggestedGroup:a,otherText:i})=>this.service.postSubmitFaqList(e).pipe((0,R.T)((e=>{const{err_code:t}=e,o=0===t;return{feedbackId:e.feedback_id,isSuccess:o}})),(0,W.M)((({feedbackId:e})=>{let n="";t&&(V.has(t)&&(n=i),U.has(t)&&(n=String(a.filter((e=>e.checked)).map((e=>e.text)))),v.$G.handleSearchTextSubmit({enter_from:o,search_position:_.f.commonParams.page_name,text_type:"recom_search_feedback",question:t,answer:n,impr_id:String(e)}))})),(0,F.Z)((e=>(0,D.of)(this.getActions().setFeedbackId(e.feedbackId),this.getActions().setIsSuccess(e.isSuccess)))),(0,A.Z)(this.getActions().setButtonLoading(!0)),(0,G.q)(this.getActions().setButtonLoading(!1))))))}};(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,Boolean]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setIsOpenReport",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,Boolean]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setIsOpenSuccessModal",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,String]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setOtherText",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,String]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setHistoryNotSeenText",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,String]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setHistoryDisappearText",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,Array]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setSuggestedGroup",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,Boolean]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setLoading",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,Boolean]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setButtonLoading",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,Object]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setCheckRadioId",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,Array]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setData",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,Object]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setIsSuccess",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object,Object]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"setFeedbackId",null),(0,T.__decorate)([(0,O.h5)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[Object]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"resetData",null),(0,T.__decorate)([(0,O.Mj)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[E.c]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"getReport",null),(0,T.__decorate)([(0,O.Mj)(),(0,T.__metadata)("design:type",Function),(0,T.__metadata)("design:paramtypes",[E.c]),(0,T.__metadata)("design:returntype",void 0)],J.prototype,"submitReport",null),J=(0,T.__decorate)([(0,P.n)("searchReport"),(0,T.__metadata)("design:paramtypes",[Z,X.tq])],J);var Q=o(50970),Y=o(54888),ee=o(87654),te=o(49057),oe=o(34131),ae=o(63363),ie=o(78289),ne=o(67518),re=o(81825),se=o(75778),le=o(21367),de=o(64231),ce=o(17984),ue=o(62186),he=o(28367),pe=o(72153);const _e=(0,ue.default)("form",{target:"e14ntknm0"})((({theme:{colors:e,direction:t},isBrowserMode:o,isFullSideNav:a})=>[{display:"flex",flexDirection:"row",alignItems:"center",padding:"12px 16px",background:o?"":e.BGInput,borderRadius:"92px",position:"relative",overflow:"hidden",zIndex:1,margin:"0"},a?{paddingTop:"10px",paddingBottom:"10px",marginInlineEnd:"0.5rem"}:{},a?(0,pe.mp)({direction:t,paddingEnd:"4px"}):{}]),"label:FormElement;"),ve=(0,ue.default)("div",{target:"e14ntknm1"})((({theme:{colors:e},isFocused:t,withNewStyle:o})=>({display:"none",position:"absolute",left:"0",top:"0",right:"0",bottom:"0",border:t?`2px solid ${e.Negative}`:`${o?"1px":"1.5px"} solid ${o?e.LinePrimary2:e.LinePrimary}`,borderRadius:"92px",zIndex:-1})),"label:DivInputBorder;"),ge=(0,ue.default)("div",{target:"e14ntknm2"})((({theme:{colors:e}})=>({display:"block",position:"absolute",left:"0",top:"0",right:"0",bottom:"0",border:`1px solid ${e.ConstTextInverse4}`,borderRadius:"92px",zIndex:-1})),"label:DivBrowserModeInputBorder;"),me=(0,ue.default)("input",{target:"e14ntknm3"})((({theme:{colors:e,typography:t,fontFamilies:o,fontWeights:a},hovered:i,isBrowserMode:n,isFullSideNav:r})=>Object.assign(Object.assign(Object.assign({fontFamily:o.TikTokFont,fontWeight:n?a.semiBold:a.normal},t.P2),{border:"none",background:"transparent",outline:"none",padding:"0",width:"100%",color:n?e.ConstTextInverse:e.TextPrimary,caretColor:e.Primary,appearance:"textfield",[`:focus ~ ${ve}`]:{display:"block"},"::placeholder":{color:r&&e.UITextPlaceholder||n&&e.ConstTextInverse3||e.TextSecondary},":placeholder-shown":{textOverflow:"ellipsis"},[` ~ ${ve}`]:{display:!i||n||r?"none":"block"}}),r?{fontSize:"14px"}:{})),"label:InputElement;");me.defaultProps=Object.assign(Object.assign({},me.defaultProps),{"data-e2e":"search-user-input"});const fe=(0,ue.default)("div",{target:"e14ntknm4"})({fontSize:0},"label:DivIconWrapper;"),xe=(0,ue.default)(he.A,{target:"e14ntknm5"})({animation:"loading-circle-anim linear 1s infinite","@keyframes loading-circle-anim":{"0%":{transform:"rotate(0)"},"100%":{transform:"rotate(360deg)"}}},"label:StyledLoadingCircle;"),be=(0,ue.default)("span",{target:"e14ntknm6"})((({theme:{colors:e},isBrowserMode:t})=>({width:"1px",height:"28px",margin:"-3px 0",background:t?e.ConstTextInverse5:e.LineSecondary})),"label:SpanSpliter;"),ye=(e,t,o)=>t?o?e.BGInput:e.BGView:"transparent",we=(0,ue.default)("button",{target:"e14ntknm7"})((({theme:{colors:e,direction:t},hovered:o,withNewStyle:a})=>[{padding:"11px 16px 11px 12px",margin:"-12px -16px",fontSize:"0",cursor:"pointer",outline:"none",border:"none",background:ye(e,o,a),":active":{background:e.BGInput2},"&:focus, :focus-visible":{outline:"none!important"}},(0,pe.mp)({direction:t,marginStart:"0"})]),"label:ButtonSearch;");we.defaultProps=Object.assign(Object.assign({},we.defaultProps),{"data-e2e":"search-button"});const ke=(0,ue.default)("div",{target:"e14ntknm8"})((({focused:e,theme:t})=>({outline:e?`2px solid ${t.colors.Negative}`:"none"})),"label:DivSearchIconContainer;"),Se=(0,s.memo)((0,s.forwardRef)((function({initialValue:e,hovered:t,isBrowserMode:o=!1,onEnter:n,onTab:r,onBlur:d,onMouseEnter:c,onMouseLeave:u,isMouseOnSearchBtn:h,isFullSideNav:g},m){var f;const[{searchValue:x,loading:b,activeIndex:k,inputFocus:S,sugList:L,queryId:T,videoPageType:M},{handleInputFocusChange:O,setSearchValue:P,setActiveUp:F,setActiveDown:D,setActiveIndex:E}]=(0,i.S)(I.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,loading:e.loading,activeIndex:e.activeIndex,inputFocus:e.inputFocus,sugList:e.sugList,queryId:e.queryId,videoPageType:e.videoPageType})}),[{rootEnterFrom:B}]=(0,i.S)(X.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),[{historyList:R,shouldUpdateData:A},G]=(0,i.S)(ee._,{dependencies:[],selector:e=>({historyList:e.historyList,shouldUpdateData:e.shouldUpdateData})}),H=(0,le.Ul)(),{abTestVersion:W,user:N}=(0,y.L$)((0,te.W)((()=>["abTestVersion","user"]),[])),V=Boolean(N),$=(0,s.useRef)(null),z=(0,s.useCallback)((()=>{var e;null===(e=$.current)||void 0===e||e.blur()}),[]),U=(0,s.useCallback)((()=>{var e;null===(e=$.current)||void 0===e||e.focus()}),[]);(0,s.useImperativeHandle)(m,(()=>({onEnterBlur:z,onEnterFocus:U})),[z,U]);const{pathname:q}=(0,l.useLocation)(),K=(0,j.JD)((e=>e.showingBrowserMode)),Z=Boolean((0,l.matchPath)(q,{path:p.OZ.searchHome})),{placeholder:J,hasVideoSugWord:Q,word_id:Y}=(0,C.H1)(K),{colors:oe}=(0,ne.u)(),ae="v2"===(null!==(f=(0,w.qt)(W,"search_transfer_history"))&&void 0!==f?f:"v1")&&V,ie=(0,s.useMemo)((()=>({fill:K?oe.ConstTextInverse4:oe.TextQuaternary,width:16,height:16,style:{margin:"0 12px"}})),[oe,K]),re=(0,s.useMemo)((()=>!b&&Boolean(x)&&L.length>0&&S),[S,b,x,L.length]);(0,s.useEffect)((()=>{P(e)}),[e,P]);const ue=(0,ce.$)(),he=(0,s.useCallback)((()=>{ae&&R.length&&v.$G.handleSearchHistory({enter_from:B,search_entrance:B,search_position:_.f.commonParams.page_name,search_keyword:"",action_type:"show",order:-1})}),[R,ae,B]),pe=(0,s.useCallback)((e=>{const t=e.target.value;(e=>!e.startsWith(" "))(t)&&(x&&""===t&&!o&&(G.setEnterMethod("cancel"),v.$G.handleEnterSearchBlankPage({enter_from:_.f.commonParams.page_name,enter_method:"cancel",search_keyword:"",is_from_video:"video_detail"===_.f.commonParams.page_name?"1":""}),he(),ue()),P(t))}),[P,x,he,ue,G,o]),_e=(0,de.i)({upHandler:F,downHandler:D,confirmHandler:n,tabHandler:r}),ve=(0,s.useCallback)((()=>{var e;if(O(!0),A)if(x){const t={enter_from:B,raw_query:x,search_position:"browser_mode"===M?"video_detail":_.f.commonParams.page_name,video_page_type:M,enter_group_id:null!==(e=null==H?void 0:H.id)&&void 0!==e?e:""};v.$G.handleSugGroupImpression(Object.assign({words_source:"sug",words_num:String(L.length)},t)),L.forEach(((e,o)=>{var a;v.$G.handleSugImpression(Object.assign({impr_id:null!==(a=null==e?void 0:e.impr_id)&&void 0!==a?a:"",words_source:"sug",words_position:o,words_content:e.content,sug_type:e.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!=T?T:"",group_id:e.word_record.group_id},t))}))}else o||(G.setEnterMethod("enter"),v.$G.handleEnterSearchBlankPage({enter_from:_.f.commonParams.page_name,enter_method:"enter",search_keyword:"",is_from_video:"video_detail"===_.f.commonParams.page_name?"1":""}),he(),ue());else G.setShouldUpdateData(!0)}),[O,x,L,T,he,ue,G,o,B,H,M,A]),ge=(0,s.useCallback)((()=>{Q&&h?setTimeout((()=>{O(!1)}),200):O(!1),E(-1),null==d||d()}),[Q,h,E,d,O]),be=(0,s.useCallback)((()=>{null==c||c()}),[c]),ye=(0,s.useCallback)((()=>{null==u||u()}),[u]),we=(0,s.useCallback)((()=>{P(""),G.setEnterMethod("cancel"),v.$G.handleEnterSearchBlankPage({enter_from:_.f.commonParams.page_name,enter_method:"cancel",search_keyword:"",is_from_video:"video_detail"===_.f.commonParams.page_name?"1":""}),he(),setTimeout((()=>{var e;null===(e=$.current)||void 0===e||e.focus()}),0)}),[P,he,G]);(0,s.useEffect)((()=>{Z||P("")}),[Z,P]),(0,s.useEffect)((()=>{Q?G.setVideoSuggestWord({word:J,word_id:Y}):G.setVideoSuggestWord(void 0)}),[Q,J,G,Y]);const ke=(0,s.useCallback)((()=>b?(0,a.jsx)(fe,{children:(0,a.jsx)(xe,Object.assign({},ie))}):x?(0,a.jsx)(fe,{onClick:we,"data-e2e":"reset-search-form",children:(0,a.jsx)(se.A,Object.assign({},ie))}):null),[b,x,ie,we]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(me,{ref:$,hovered:t,isBrowserMode:K,isFullSideNav:g,value:x,onChange:pe,onKeyDown:_e,onFocus:ve,onBlur:ge,onMouseEnter:be,onMouseLeave:ye,placeholder:J,name:"q",type:"search",autoComplete:"off",role:"combobox","aria-controls":re?"header-sug-results":"","aria-label":J,"aria-expanded":re,"aria-autocomplete":"list","aria-activedescendant":k>-1&&Boolean(x)?`sug-list-item-${k}`:void 0}),ke()]})}))),je=(0,s.memo)((0,s.forwardRef)((function({initialValue:e,isBrowserMode:t=!1,onSubmit:o,isFullSideNav:n=!1},d){const[{searchValue:c,activeIndex:u},h]=(0,i.S)(I.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,activeIndex:e.activeIndex})}),[_,v]=(0,s.useState)(!1),{search:g}=(0,l.useLocation)(),{q:m}=(0,r.parse)(g),x=(0,f.s)(),{colors:b}=(0,ne.u)(),{pathname:y}=(0,l.useLocation)(),w=(0,s.useRef)(!1),k=(0,s.useRef)(null),S=(0,s.useRef)(null),L=Boolean((0,l.matchPath)(y,{path:p.OZ.searchHome})),{isSearchBarStyleV1:C,isSearchBarStyleV3:T,withNewStyle:M}=(0,ae.hA)(),[O,P]=(0,s.useState)(!1),[F,D]=(0,s.useState)(!1),[E,B]=(0,s.useState)(!1),[R,A]=(0,s.useState)(!1),[G,H]=(0,s.useState)(!1),[W,N]=(0,s.useState)(!1),V=(0,s.useCallback)((()=>{var e;null===(e=null==S?void 0:S.current)||void 0===e||e.onEnterBlur()}),[]),$=(0,s.useCallback)((()=>{var e;null===(e=null==S?void 0:S.current)||void 0===e||e.onEnterFocus()}),[]),z=(0,j.JD)((e=>e.showingBrowserMode));(0,s.useImperativeHandle)(d,(()=>({onEnterInputBlur:V,onEnterInputFocus:$})),[V,$]);const U=(0,s.useCallback)((()=>{w.current=!0}),[]),q=(0,s.useCallback)((e=>{e.preventDefault(),h.setInputFocus(!1),null==o||o(e,w.current),w.current=!1}),[h,o]),K=(0,s.useCallback)((e=>{u<0||(h.setInputFocus(!1),null==o||o(e,!0))}),[h,o,u]);(0,s.useEffect)((()=>{const e=()=>{document.hidden&&D(!0)};return window.addEventListener("visibilitychange",e),()=>{window.removeEventListener("visibilitychange",e)}}),[]);const Z=(0,s.useCallback)((e=>()=>{F&&e?D(!1):e&&E||P(e)}),[E,F]),X=(0,s.useCallback)((()=>{T&&N(!0),H(!0),v(!0)}),[T]),J=(0,s.useCallback)((()=>{T&&N(!1),H(!1),v(!1)}),[T]),Q=(0,s.useCallback)((()=>{C||z||(T&&H(!0),N(!0))}),[z,C,T]),Y=(0,s.useCallback)((()=>{C||z||(T&&H(!1),N(!1))}),[z,C,T]),ee=(0,s.useCallback)((()=>{B(!0),P(!1)}),[]),te=(0,s.useCallback)((()=>{B(!1)}),[]),oe=(0,s.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),h.setInputFocus(!1),null==o||o(e,!0),w.current=!1)}),[h,o]),ie=(0,s.useCallback)((e=>{9===e.keyCode&&A(e.target!==k.current)}),[]),se=(0,s.useCallback)((()=>{A(!1)}),[]),le=(0,s.useCallback)((()=>z?c?b.ConstTextInverse2:b.ConstTextInverse3:M&&(G||W)?b.TextPrimary:c?b.TextSecondary:b.TextQuaternary),[z,c,b,M,G,W]);return(0,a.jsxs)(_e,{"data-e2e":"search-box",className:"search-input",action:"/search",onSubmit:q,onKeyUp:ie,isBrowserMode:z,isFullSideNav:n,children:[L&&(0,a.jsx)("h1",{style:{display:"none",alignItems:"center"},children:m}),(0,a.jsx)(Se,{"data-e2e":"search-box-input",initialValue:e,onEnter:U,onTab:K,onBlur:se,onMouseEnter:Q,onMouseLeave:Y,hovered:W,ref:S,isMouseOnSearchBtn:_,isBrowserMode:t,isFullSideNav:n}),!n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(be,{isBrowserMode:z}),(0,a.jsx)(we,{"data-e2e":"search-box-button",type:"submit",hovered:G,withNewStyle:M,ref:k,onFocus:Z(!0),onBlur:Z(!1),onMouseEnter:X,onMouseLeave:J,onMouseDown:ee,onMouseUp:te,onKeyDown:oe,"aria-label":x("accessibilityLabels_search_button"),children:(0,a.jsx)(ke,{focused:O&&!z,children:(0,a.jsx)(re.A,{fill:le(),width:24,height:24})})})]}),z?(0,a.jsx)(ge,{}):(0,a.jsx)(ve,{isFocused:R,withNewStyle:M})]})})));var Le,Ce,Ie,Te,Me=o(54622),Oe=o(47926);!function(e){e.GENERAL="general",e.TRANSFER_PAGE="transfer_page"}(Le||(Le={})),function(e){e.TIKTOK_SEARCH_PC="pc_tt_search_feedback-web"}(Ce||(Ce={})),function(e){e.TIKTOK_SEARCH_PC="pc_tt_search_feedback"}(Ie||(Ie={})),function(e){e[e.TIKTOK_SEARCH_PC=508044]="TIKTOK_SEARCH_PC"}(Te||(Te={}));const Pe=e=>e?e.toLocaleLowerCase().split("-")[0].replace("pt","pt_BR").replace("zh","zh-TW"):"en",Fe=(0,ue.default)("form",{target:"e1vzkicp0"})((({theme:e})=>[(0,pe.zy)({theme:e,typography:"H6"}),{zIndex:2,background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden",width:"700px",display:"flex",flexDirection:"column",margin:0}]),"label:FormReport;"),De=(0,ue.default)("div",{target:"e1vzkicp1"})({display:"flex",alignItems:"center",padding:"24px 24px 16px",height:"72px"},"label:DivFormHeader;"),Ee=(0,ue.default)("div",{target:"e1vzkicp3"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),Be=(0,ue.default)("h4",{target:"e1vzkicp4"})((({theme:e})=>({fontSize:"20px",lineHeight:"32px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.bold,textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:H4FormTitle;"),Re=(0,ue.default)("div",{target:"e1vzkicp5"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"450px",overflowY:"auto",overflowX:"hidden",padding:"16px 12px 0px"})),"label:DivContainer;"),Ae=(0,ue.default)("div",{target:"e1vzkicp6"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"534px",overflowY:"auto",overflowX:"hidden",padding:"0px 12px",display:"flex",alignItems:"center"})),"label:DivLoading;"),Ge=(0,ue.default)("div",{target:"e1vzkicp7"})((({theme:e})=>({height:"32px",fontSize:"16px",lineHeight:"24px",padding:"0px 12px",color:e.colors.TextSecondary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:DivTitle;"),He=(0,ue.default)("div",{target:"e1vzkicp8"})({flex:1},"label:DivItem;"),We=(0,ue.default)("div",{target:"e1vzkicp9"})((({theme:e})=>({height:"52px",padding:"14px 12px",textAlign:"rtl"===e.direction?"right":"left",flex:1,".TUXRadio-container .TUXRadio-label span":{fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary,size:"16px",lineHeight:"24px"}})),"label:DivItemRadio;"),Ne=(0,ue.default)("div",{target:"e1vzkicp10"})((({theme:e})=>({borderRadius:"8px",backgroundColor:e.colors.BGView,flex:1})),"label:DivItemChildrenBox;"),Ve=(0,ue.default)("div",{target:"e1vzkicp11"})((({theme:e})=>({height:"48px",padding:"14px 12px",textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:DivItemChildren;"),$e=(0,ue.default)("div",{target:"e1vzkicp12"})((({theme:e})=>({backgroundColor:e.colors.BGPrimary,display:"flex",flexDirection:"row",alignItems:"center",margin:"0px 12px",position:"relative",overflow:"hidden",width:"calc(100% - 24px)",height:"48px",borderBottom:`1px solid ${e.colors.LineInput}`})),"label:DivInput;"),ze=(0,ue.default)("input",{target:"e1vzkicp13"})((({theme:e})=>({backgroundColor:e.colors.BGPrimary,color:e.colors.TextPrimary,width:"100%",height:"48px",border:"none",outline:"none"})),"label:InputItem;"),Ue=(0,ue.default)("div",{target:"e1vzkicp14"})({width:"100%",height:"38px"},"label:DivBottom;"),qe=(0,ue.default)("div",{target:"e1vzkicp15"})((({theme:e})=>({position:"relative",height:"84px",width:"100%",borderTop:`0.5px solid ${e.colors.LinePrimary2}`,backgroundColor:e.colors.BGPrimary})),"label:DivFooter;"),Ke=(0,ue.default)("div",{target:"e1vzkicp16"})({height:"36px",position:"absolute",cursor:"pointer",top:"24px",right:"24px"},"label:DivSubmit;"),Ze=(0,ue.default)("div",{target:"e1vzkicp17"})((({theme:{direction:e}})=>[(0,pe.mp)({direction:e,paddingStart:"12px"}),{display:"flex",alignItems:"center"}]),"label:DivIconWrapper;"),Xe={minWidth:"120px",borderRadius:"4px"},Je=(0,s.memo)((function(e){const{groupList:t}=e,o=(0,f.s)(),n=(0,s.useRef)(null),{colors:r}=(0,ne.u)(),[{otherText:l,historyNotSeenText:d,historyDisappearText:u,suggestedGroup:h,checkRadioId:p},_]=(0,i.S)(J,{dependencies:[],selector:e=>({otherText:e.otherText,historyNotSeenText:e.historyNotSeenText,historyDisappearText:e.historyDisappearText,suggestedGroup:e.suggestedGroup,checkRadioId:e.checkRadioId})}),v=(0,s.useMemo)((()=>({fill:r.TextQuaternary,width:16,height:16,style:{}})),[r]),g=(0,s.useCallback)((e=>()=>{_.setCheckRadioId(e)}),[_]),m=(0,s.useCallback)((e=>()=>{const t=h.map((t=>e===t.text?Object.assign(Object.assign({},t),{checked:!t.checked}):t));_.setSuggestedGroup(t)}),[_,h]),x=(0,s.useCallback)((e=>{const{name:t,value:o}=e.target;o.startsWith(" ")||("historyNotSeenText"===t?_.setHistoryNotSeenText(o):"historyDisappearText"===t?_.setHistoryDisappearText(o):_.setOtherText(o))}),[_]),b=(0,s.useCallback)((e=>()=>{var t;$.has(e)?_.setHistoryNotSeenText(""):z.has(e)?_.setHistoryDisappearText(""):V.has(e)&&_.setOtherText(""),null===(t=n.current)||void 0===t||t.focus()}),[_]),y=(0,s.useCallback)(((e,t)=>e?(0,a.jsx)(Ze,{onClick:b(t),children:(0,a.jsx)(se.A,Object.assign({},v))}):null),[v,b]),w=(0,s.useCallback)((e=>{if(p===e.id)return(0,a.jsxs)(a.Fragment,{children:[V.has(e.id)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)($e,{children:[(0,a.jsx)(ze,{ref:n,value:l,maxLength:1500,placeholder:`(${o("suggested_search_feedback12")})`,onChange:x,name:"other",autoComplete:"off"}),y(l,e.id)]}),(0,a.jsx)(Ue,{})]}),$.has(e.id)&&(0,a.jsxs)($e,{children:[(0,a.jsx)(ze,{ref:n,value:d,maxLength:1500,onChange:x,name:"historyNotSeenText",autoComplete:"off"}),y(d,e.id)]}),z.has(e.id)&&(0,a.jsxs)($e,{children:[(0,a.jsx)(ze,{ref:n,value:u,maxLength:1500,onChange:x,name:"historyDisappearText",autoComplete:"off"}),y(u,e.id)]}),U.has(e.id)&&(0,a.jsx)(Ne,{children:h.map(((e,t)=>(0,a.jsx)(Ve,{children:(0,a.jsx)(c.h$,{label:e.text,checked:e.checked,onChange:m(e.text),labelPosition:"before"})},t)))})]})}),[o,x,y,p,l,d,u,h,m]);return(0,a.jsx)(a.Fragment,{children:t.map(((e,t)=>(0,a.jsxs)(He,{children:[(0,a.jsx)(We,{children:(0,a.jsx)(c.v3,{label:o(e.name),value:o(e.name),name:"question",labelPosition:"before",onChange:g(e.id)},t)}),w(e)]},t)))})})),Qe=(0,s.memo)((function(e){const{onClose:t,onSubmitSuccess:o}=e,n=(0,f.s)(),r=(0,c.Ab)({zIndex:10010}),{wid:l}=(0,y.L$)((0,te.W)((()=>["wid"]),[])),[{loading:d,reportList:u,checkRadioId:h,historyNotSeenText:p,historyDisappearText:g,otherText:m,suggestedGroup:x,isSuccess:b,feedbackId:w,buttonLoading:k},S]=(0,i.S)(J,{dependencies:[],selector:e=>({loading:e.loading,buttonLoading:e.buttonLoading,reportList:e.reportList,checkRadioId:e.checkRadioId,historyNotSeenText:e.historyNotSeenText,historyDisappearText:e.historyDisappearText,otherText:e.otherText,suggestedGroup:e.suggestedGroup,isSuccess:e.isSuccess,feedbackId:e.feedbackId})}),[{rootEnterFrom:j}]=(0,i.S)(X.tq,{dependencies:[],selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom})}),[{historyList:L,guessSearchList:C,logId:I}]=(0,i.S)(ee._,{dependencies:[],selector:e=>({historyList:e.historyList,guessSearchList:e.guessSearchList,logId:e.logId})});(0,s.useEffect)((()=>{const e=[];C.forEach((t=>{var o;t.word&&e.push({text:t.word,value:null!==(o=t.group_id)&&void 0!==o?o:"",checked:!1})})),S.setSuggestedGroup(e)}),[C,S]),(0,s.useEffect)((()=>{if("boolean"==typeof b&&"number"==typeof w){if(v.$G.handleSearchFeedbackStatus({enter_from:j,search_position:_.f.commonParams.page_name,text_type:"recom_search_feedback",impr_id:String(w),is_success:b?1:0}),b)return void o();setTimeout((()=>{r.open({message:n("search_Submission_Failed_tips"),durationMS:3e3})}),0)}}),[b,w,n,o,S,j]);const T=(0,s.useMemo)((()=>{if(!h)return"";let e="";e=z.has(h)?g:$.has(h)?p:m;let t="";return e.length<=14&&(t="[Transfer page feedback]"),t+e}),[h,p,g,m]),M=(0,s.useMemo)((()=>{const e="a".charCodeAt(0),t=u.map(((t,o)=>{const a=String.fromCharCode(e+o);return{[`question_${a}`]:t.name,[`answer_${a}`]:t.children.filter((({id:e})=>e===h)).map((({name:e="",id:t})=>{let o=[];return U.has(t)&&(o=x.filter((e=>e.checked)).map((e=>({title:e.text,value:e.value})))),V.has(t)&&(o=[{title:e,value:m}]),z.has(t)&&(o=[{title:e,value:g}]),$.has(t)&&(o=[{title:e,value:p}]),{title:e,id:t,subInfos:o}}))}}));return{userFeedbackDetail:JSON.stringify(t)}}),[u,h,m,g,p,x]),O=(0,s.useMemo)((()=>{const e=x.map((e=>e.text));return{aid:Te.TIKTOK_SEARCH_PC,app_name:"pc_tt_search_feedback",webid:l,content:T,appkey:"pc_tt_search_feedback-web",qr_id:h,skip_duplicate_content_check:!0,extra_params:JSON.stringify(M),from:"transfer_page",biz_appid:Te.TIKTOK_SEARCH_PC,extra_persistent_params:JSON.stringify({historyList:L,logId:I,suggestedWords:e})}}),[T,h,L,I,x,M,l]),P=(0,s.useCallback)((e=>{e.preventDefault()}),[]),F=(0,s.useCallback)((()=>{S.submitReport(O)}),[S,O]),D=(0,s.useMemo)((()=>{if(!h)return!1;let e=!1;return x.forEach((t=>{t.checked&&(e=!0)})),U.has(h)&&e||V.has(h)&&""!==m.trim()||!V.has(h)&&!U.has(h)}),[h,m,x]),E=(0,s.useCallback)((()=>(0,a.jsxs)(De,{children:[(0,a.jsx)(Be,{"data-e2e":"search-report-title",children:n("suggested_search_feedback10")}),(0,a.jsx)(Ee,{"data-e2e":"search-report-card-cancel",onClick:t,children:(0,a.jsx)(Me.A,{width:14,height:14})})]})),[t,n]),B=(0,s.useCallback)((()=>d?(0,a.jsx)(Ae,{children:(0,a.jsx)(c.sg,{center:!0})}):(0,a.jsxs)(a.Fragment,{children:[u.map(((e,t)=>(0,a.jsxs)(Re,{children:[(0,a.jsx)(Ge,{children:n(e.name)}),(0,a.jsx)(Je,{groupList:e.children})]},t))),(0,a.jsx)(qe,{children:(0,a.jsx)(Ke,{children:(0,a.jsx)(c.I0,{label:n("Submit"),loading:k,onClick:F,disabled:!D,variant:"primary",deprecatedStyle:Xe})})})]})),[n,d,u,D,F,k]);return(0,a.jsx)(Oe.i,{compact:!0,isOpen:!0,onClose:t,children:(0,a.jsxs)(Fe,{"data-e2e":"report-form",onSubmit:P,children:[E(),B()]})})})),Ye=(0,ue.default)("div",{target:"e1hi1cmj0"})((({showingBrowserMode:e,searchBarWidth:t})=>({position:"relative",width:e?t:"",maxWidth:e?"calc(56.25vh - 32px)":""})),"label:DivSearchFormContainer;"),et=(0,ue.default)("button",{target:"e1hi1cmj1"})((({theme:e})=>({width:"100%",height:"48px",lineHeight:"22px",fontSize:"16px",cursor:"pointer",color:e.colors.ConstTextInverse,background:e.colors.Primary,border:"none",borderRadius:"8px"})),"label:ButtonSuccessModal;"),tt=(0,ue.default)("div",{target:"e1hi1cmj2"})({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",flex:1},"label:DivModalBody;"),ot=(0,ue.default)("div",{target:"e1hi1cmj3"})((({theme:e})=>({width:"100%",fontWeight:e.fontWeights.bold,color:e.colors.TextPrimary,lineHeight:"36px",fontSize:"24px",textAlign:"center",padding:"0px 32px"})),"label:DivModalBodyTitle;"),at=(0,ue.default)("div",{target:"e1hi1cmj4"})((({theme:e})=>({marginTop:"18px",width:"100%",color:e.colors.TextSecondary,lineHeight:"18px",fontSize:"16px",textAlign:"center",padding:"0px 32px"})),"label:DivModalBodyText;"),it=(0,ue.default)("div",{target:"e1hi1cmj5"})((({theme:e})=>({width:"100%",color:e.colors.TextSecondary,textAlign:"center",padding:"24px 32px"})),"label:DivModalFooter;");var nt=o(50289),rt=o(98910);const st=e=>{const[{activeIndex:t},o]=(0,i.S)(I.C),a=t===e,n=(0,s.useCallback)((()=>{a||o.setActiveIndex(e)}),[a,o,e]);return{active:a,handleMouseEnter:n}};var lt=o(37694),dt=o(10819),ct=o(11983),ut=o(60342),ht=o(97706),pt=o(60751);const _t=(0,ue.default)("div",{target:"e13mjih40"})((({theme:{direction:e}})=>[(0,pe.mp)({direction:e,marginStart:"8px"}),{width:"24px",flex:"0 0 24px",display:"flex",flexDirection:"column",alignItems:"center",marginLift:"auto",height:"22px"}]),"label:DivActionContainer;"),vt=(0,ue.default)("div",{target:"e13mjih41"})((({shouldShowMore:e})=>({position:"relative",display:e?"block":"none"})),"label:DivMoreContainer;"),gt=(0,ue.default)(pt.A,{target:"e13mjih42"})({width:"15.83px",height:"24px",cursor:"pointer",display:"block"},"label:StyledMoreIcon;");gt.defaultProps=Object.assign(Object.assign({},gt.defaultProps),{"data-e2e":"comment-more-icon"});const mt=(0,ue.default)("div",{target:"e13mjih43"})((({theme:e})=>(0,pe.zy)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"TikTokFont"})),{padding:"0 12px",minWidth:"150px"},"label:DivPopupContainer;"),ft=(0,ue.default)("p",{target:"e13mjih44"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"12px 0",whiteSpace:"nowrap",cursor:"pointer","&:not(:last-of-type)":{borderBottom:`1px solid ${e.LineSecondary}`},":hover":{color:e.Primary}})),"label:PActionItem;"),xt=(e,t,o)=>o?e.Primary:t?"rgba(255, 255, 255, 0.9)":e.TextPrimary,bt=(0,ue.default)("span",{target:"e13mjih45"})((({theme:{direction:e,colors:t},isBrowserMode:o,hovered:a})=>[(0,pe.mp)({direction:e,marginStart:"12px"}),{color:xt(t,o,a)}]),"label:SpanActionText;"),yt="rgba(255, 255, 255, 0.9)",wt=function({shouldShowMore:e=!1,isBrowserMode:t=!1,parentRef:o,itemInfo:r={}}){var l,d,c,u;const h=(0,f.s)(),p=(0,s.useRef)(null),{direction:_}=(0,ne.u)(),{active:g,handleMouseEnter:m,handleMouseLeave:b}=(0,ut.K)(300),{user:y}=null!==(l=(0,te.W)((()=>["user"]),[]))&&void 0!==l?l:{},[{searchValue:w},k]=(0,i.S)(I.C,{selector:e=>e,dependencies:[]}),[S,j]=(0,s.useState)(!1),[L,C]=(0,s.useState)(!1),[T,M]=(0,s.useState)(-1),[O,P]=(0,s.useState)(0),[F,D]=(0,s.useState)("initial"),E=function({suggestion:e,extra:t,onShow:o}){const a=(0,n.P)(Q.L,{selector:e=>e.lang,dependencies:[]}),{handleShowReport:i}=(0,rt.Ah)({onShow:o,reportTarget:{lang:a,report_type:"suggestion",object_id:e,item_id:e,suggestion_extra:t}});return i}({suggestion:encodeURI(r.content),extra:{sug_type:r.extra_info.sug_user_id?"enrich_sug":"normal_sug",raw_query:r.content,words_content:null!==(d=r.content)&&void 0!==d?d:"",words_position:r.index,words_source:"sug",feedback_id:`${(new Date).getTime()}`,group_id:null!==(c=r.word_record.group_id)&&void 0!==c?c:"",impr_id:null!==(u=r.impr_id)&&void 0!==u?u:""}}),B=(0,s.useCallback)((e=>()=>{0===e?j(!0):1===e&&C(!0)}),[p]),R=(0,s.useCallback)((e=>()=>{0===e?j(!1):1===e&&C(!1)}),[]),A=(0,s.useCallback)((e=>{13===e.keyCode||32===e.keyCode?((0,x.Gu)(e),g?b():m()):27===e.keyCode&&g&&((0,x.Gu)(e),b())}),[m,b,g]),G=(0,s.useCallback)((e=>t=>{13!==t.keyCode&&32!==t.keyCode||((0,x.Gu)(t),e(t))}),[]),H="ltr"===_?"bottomRight":"bottomLeft",{colors:W}=(0,ne.u)(),N=(0,s.useCallback)((e=>{var t,o,a;e.preventDefault(),e.stopPropagation(),v.$G.handleSugReportConfirm({feedback_id:`${(new Date).getTime()}`,group_id:null!==(t=r.word_record.group_id)&&void 0!==t?t:"",words_content:null!==(o=r.content)&&void 0!==o?o:"",words_position:r.index,raw_query:w,impr_id:null!==(a=r.impr_id)&&void 0!==a?a:"",button_type:"not_relevant",words_source:"sug",sug_type:r.extra_info.sug_user_id?"enrich_sug":"normal_sug"}),b(),k.setActiveIndex(-1),ct.F.open({content:h("Thank you for your feedback"),duration:3})}),[h,y,r,k]),V=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),E(e)}),[E]),$=(0,s.useCallback)((e=>0===e?S?W.Primary:t?yt:void 0:1===e?L?W.Primary:t?yt:void 0:void 0),[S,L,t,W]);(0,s.useEffect)((()=>{var e,t,o;g&&v.$G.handleSugReportLaunch({feedback_id:`${(new Date).getTime()}`,group_id:null!==(e=r.word_record.group_id)&&void 0!==e?e:"",words_content:null!==(t=r.content)&&void 0!==t?t:"",words_position:r.index,words_source:"sug",raw_query:w,impr_id:null!==(o=r.impr_id)&&void 0!==o?o:"",sug_type:r.extra_info.sug_user_id?"enrich_sug":"normal_sug"})}),[g]),(0,s.useEffect)((()=>{var e,t;if(p.current&&g){const a=p.current.getBoundingClientRect().top;T<0&&M(a);const i=null!==(t=null===(e=null==o?void 0:o.current)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0;D(`${T-i<=0?"initial":T-i}px`),P(p.current.clientWidth)}}),[p.current,g,null==o?void 0:o.current]);const z=(0,s.useCallback)((()=>{const e=O-18-12+4;return"ltr"===_?`-${e}px`:`${e}px`}),[O,_]);return(0,a.jsx)(_t,{children:(0,a.jsxs)(vt,{"aria-label":h("pc_web_more_btn"),role:"button",shouldShowMore:e,onMouseEnter:m,onMouseLeave:b,tabIndex:0,onKeyDown:A,children:[(0,a.jsx)(gt,{fill:t?yt:void 0}),(0,a.jsx)(ht.z,{backgroundColor:t?"#252525":W.BGSecondary,active:g,placement:H,style:{position:"fixed",top:F,transform:`translateX(${z()})`},margin:"initial",children:(0,a.jsxs)(mt,{ref:p,children:[(0,a.jsxs)(ft,{"aria-label":h("Report"),role:"button",tabIndex:0,"data-e2e":"related-search-report",onMouseEnter:B(0),onMouseLeave:R(0),onMouseDown:V,onKeyDown:G(V),children:[(0,a.jsx)(lt.A,{width:24,height:24,fill:$(0)}),(0,a.jsx)(bt,{isBrowserMode:t,hovered:S,children:h("Report")})]}),(0,a.jsxs)(ft,{"aria-label":h("sug_report_relevant"),role:"button",onMouseDown:N,tabIndex:1,onKeyDown:G(N),"data-e2e":"sug-not-relevant",onMouseEnter:B(1),onMouseLeave:R(1),children:[(0,a.jsx)(dt.A,{width:24,height:24,fill:$(1)}),(0,a.jsx)(bt,{isBrowserMode:t,hovered:L,children:h("sug_report_relevant")})]})]})})]})})};var kt=o(92846);const St=(e,t,o)=>o?"0 2px 12px rgba(0, 0, 0, 0.12)":t?"":`0 2px 12px ${e.ShadowPrimary}`,jt=(0,ue.default)("ul",{target:"e1gva98t0"})((({theme:{colors:e,isDark:t},isBrowserMode:o,isFullSideNav:a})=>[{position:"absolute",width:"100%",boxSizing:"border-box",maxHeight:(a?"min(calc(100vh - 150px), 734px)":o&&"210px")||`min(calc(100vh - 96px - ${pe.uF}px), 734px)`,overflowY:"auto",overflowX:"hidden",listStyleType:"none",paddingInlineStart:0},!a&&{paddingTop:"8px",marginTop:"8px",background:o?"rgba(18, 18, 18, 1)":e.BGSecondary,boxShadow:St(e,t,o),borderRadius:"8px"}]),"label:UlContainer;");jt.defaultProps=Object.assign(Object.assign({},jt.defaultProps),{"data-e2e":"sug-container"});const Lt=(0,ue.default)("li",{target:"e1gva98t1"})((({paddingVertical:e,active:t,theme:{colors:o}})=>({padding:`${e}px 16px`,cursor:"pointer",background:t?o.BGView:void 0,display:"flex",alignItems:"center"})),"label:LiItemContainer;"),Ct=(0,ue.default)("h4",{target:"e1gva98t2"})((({theme:{typography:e,fontWeights:t},isBrowserMode:o})=>Object.assign(Object.assign({},e.P2),{fontWeight:t.semiBold,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:o?"rgba(255, 255, 255, 0.9)":""})),"label:H4ItemTitle;"),It=(0,ue.default)("p",{target:"e1gva98t3"})((({theme:{typography:e,fontWeights:t,colors:o},isBrowserMode:a})=>Object.assign(Object.assign({},e.P3),{color:a?"rgba(255,255,255,0.5)":o.TextTertiary,fontWeight:t.normal,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})),"label:PItemDesc;"),Tt=(0,ue.default)("p",{target:"e1gva98t4"})((({theme:{fontFamilies:e,fontWeights:t,typography:o,colors:a},isBrowserMode:i})=>Object.assign(Object.assign({fontFamily:e.TikTokFont,fontWeight:t.semiBold},o.P2),{color:i?"rgba(255, 255, 255, 0.9)":a.TextPrimary,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})),"label:PMoreText;"),Mt=(0,ue.default)("div",{target:"e1gva98t5"})((({theme:{direction:e}})=>Object.assign({height:"20px",flex:"0 0 20px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"15px"},(0,pe.mp)({direction:e,marginEnd:"8px"}))),"label:DivSearchIconContainer;"),Ot=(0,ue.default)(kt.e,{target:"e1gva98t6"})((({theme:{direction:e}})=>Object.assign({},(0,pe.mp)({direction:e,marginEnd:"12px"}))),"label:StyledAvatar;"),Pt=(0,ue.default)("div",{target:"e1gva98t7"})({flex:"0 1 auto",minWidth:0,width:"100%"},"label:DivSugItemContent;"),Ft=(0,ue.default)("div",{target:"e1gva98t8"})((({theme:{fontWeights:e,typography:t,colors:o},isBrowserMode:a})=>Object.assign(Object.assign({height:"30px",padding:"5px 12px"},t.P3),{fontWeight:e.semiBold,color:a?"rgba(255, 255, 255, 0.5)":o.TextTertiary})),"label:DivSugAccountTitle;"),Dt=(0,ue.default)("div",{target:"e1gva98t9"})({display:"flex",justifyContent:"space-between",alignItems:"center"},"label:DivSugItemWrapper;"),Et=(0,ue.default)("div",{target:"e1gva98t10"})({},"label:DivSugUserInfo;"),Bt=(0,s.memo)((function(e){const{item:t,index:o,onSelect:i,parentRef:r}=e,{user:l}=(0,n.P)(Q.L,{selector:e=>{var t;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),d=Boolean(l),{active:c,handleMouseEnter:u}=st(o),h=(0,j.JD)((e=>e.showingBrowserMode)),{content:p,extra_info:_}=t,{nickname:v,unique_id:g,is_verified:m,rich_sug_avatar_uri:f}=_,{hasSugReport:x}=(0,ae.CA)(),b=Boolean(g),y=(0,s.useCallback)((e=>{null==i||i(e,t,o)}),[o,t,i]),w=(0,s.useCallback)(((e,t)=>Object.assign({index:t},e)),[]),k=b?"user-sug-item":"content-sug-item";return(0,a.jsxs)(Lt,{id:`sug-list-item-${o}`,"data-e2e":k,paddingVertical:9,active:c,onMouseDown:y,onMouseMove:u,role:"option",children:[b?(0,a.jsx)(Ot,{"data-e2e":"sug-user-avatar",src:f,size:40}):(0,a.jsx)(Mt,{children:(0,a.jsx)(re.A,{fill:h?"rgba(255, 255, 255, 0.9)":void 0})}),(0,a.jsx)(Pt,{children:b?(0,a.jsxs)(Dt,{children:[(0,a.jsxs)(Et,{children:[(0,a.jsxs)(Ct,{"data-e2e":"sug-username",isBrowserMode:h,children:[g," ",m&&(0,a.jsx)(nt.s,{"data-e2e":"sug-bluev",width:14,height:14},"badge")]}),(0,a.jsx)(It,{"data-e2e":"sug-nickname",isBrowserMode:h,children:v})]}),x&&d&&(0,a.jsx)(wt,{shouldShowMore:c,isBrowserMode:h,parentRef:r,itemInfo:w(t,o)})]}):(0,a.jsxs)(Dt,{children:[(0,a.jsx)(Ct,{isBrowserMode:h,children:p}),x&&d&&(0,a.jsx)(wt,{shouldShowMore:c,isBrowserMode:h,parentRef:r,itemInfo:w(t,o)})]})})]})})),Rt=(0,s.memo)((function({index:e,onClick:t}){const o=(0,n.P)(I.C,{dependencies:[],selector:e=>e.searchValue}),{active:i,handleMouseEnter:r}=st(e),l=(0,j.JD)((e=>e.showingBrowserMode)),d=(0,f.s)()("view_all_results",{keyword:o}),c=(0,s.useCallback)((e=>{null==t||t(e,"click_view_all")}),[t]);return(0,a.jsx)(Lt,{id:`sug-list-item-${e}`,"data-e2e":"sug-more",paddingVertical:15,active:i,onMouseMove:r,onMouseDown:c,role:"option",children:(0,a.jsx)(Tt,{isBrowserMode:l,children:d})})})),At=(0,s.memo)((function(e){const t=(0,f.s)(),o=(0,s.useRef)(null),[n,r]=(0,i.S)(I.C,{selector:e=>e.sugList,dependencies:[]}),l=(0,s.useCallback)((()=>{r.setActiveIndex(-1)}),[r]),[d,c]=(0,s.useMemo)((()=>n.reduce((([e,t],o)=>(o.extra_info.sug_user_id?e.push(o):t.push(o),[e,t])),[[],[]])),[n]),u=(0,j.JD)((e=>e.showingBrowserMode)),h=(t,i=0)=>t.map(((t,n)=>(0,a.jsx)(Bt,{item:t,index:n+i,onSelect:e.onSelect,parentRef:o},t.content)));return(0,a.jsxs)(jt,{id:"header-sug-results",onMouseLeave:l,role:"listbox","aria-label":t("accessibilityLabels_search_suggestions"),isBrowserMode:u,onScroll:x.dG,onWheel:x.dG,isFullSideNav:e.isFullSideNav,ref:o,children:[h(c),0===d.length?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ft,{"data-e2e":"sug-account",isBrowserMode:u,children:t("search_account")}),h(d,c.length)]}),(0,a.jsx)(Rt,{index:n.length,onClick:e.onSelectMore})]})}));var Gt=o(28745),Ht=o(38063),Wt=o(7859),Nt=o(68880);const Vt=e=>{const[{activeIndex:t},o]=(0,i.S)(ee._),a=t===e,n=(0,s.useCallback)((()=>{a||o.setActiveIndex(e)}),[a,o,e]);return{active:a,handleMouseEnter:n}};var $t=o(84987);const zt={id:"chevron_down_fill-96328bc0",use:"chevron_down_fill-96328bc0-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="chevron_down_fill-96328bc0"><path fill="#161823" fill-opacity=".6" fill-rule="evenodd" d="M5.47 8.28 1.896 4.707a.25.25 0 0 1 0-.353l.708-.708a.25.25 0 0 1 .353 0L6 6.69l3.043-3.043a.25.25 0 0 1 .353 0l.708.708a.25.25 0 0 1 0 .353L6.53 8.28a.75.75 0 0 1-1.06 0" clip-rule="evenodd" /></symbol>'};function Ut(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(zt),()=>{t.remove("chevron_down_fill-96328bc0")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#chevron_down_fill-96328bc0"},void 0)}),void 0)}const qt={id:"chevron_down_fill_dark-1c029b26",use:"chevron_down_fill_dark-1c029b26-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="chevron_down_fill_dark-1c029b26"><path fill="white" fill-opacity=".6" fill-rule="evenodd" d="M5.47 8.28 1.896 4.707a.25.25 0 0 1 0-.353l.708-.708a.25.25 0 0 1 .353 0L6 6.69l3.043-3.043a.25.25 0 0 1 .353 0l.708.708a.25.25 0 0 1 0 .353L6.53 8.28a.75.75 0 0 1-1.06 0" clip-rule="evenodd" /></symbol>'};function Kt(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(qt),()=>{t.remove("chevron_down_fill_dark-1c029b26")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#chevron_down_fill_dark-1c029b26"},void 0)}),void 0)}const Zt={id:"clock_fill-499d0f2f",use:"clock_fill-499d0f2f-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="clock_fill-499d0f2f"><g clip-path="url(#clock_fill-499d0f2f_a)"><path fill="#161823" fill-opacity=".34" d="M.8 8a7.2 7.2 0 1 1 14.4 0A7.2 7.2 0 0 1 .8 8m9.764 2.853c.15.106.359.069.464-.082l.612-.874a.333.333 0 0 0-.082-.464L9.01 7.65a.33.33 0 0 1-.143-.273V4.334a.333.333 0 0 0-.333-.333H7.467a.333.333 0 0 0-.333.333v3.771c0 .218.106.421.284.546z" /></g><defs><clipPath id="clock_fill-499d0f2f_a"><path fill="white" d="M0 0h16v16H0z" /></clipPath></defs></symbol>'};function Xt(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(Zt),()=>{t.remove("clock_fill-499d0f2f")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#clock_fill-499d0f2f"},void 0)}),void 0)}const Jt={id:"clock_fill_dark-f214b7e1",use:"clock_fill_dark-f214b7e1-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="clock_fill_dark-f214b7e1"><g clip-path="url(#clock_fill_dark-f214b7e1_a)"><path fill="white" fill-opacity=".34" d="M.8 8a7.2 7.2 0 1 1 14.4 0A7.2 7.2 0 0 1 .8 8m9.764 2.853c.15.106.358.069.464-.082l.611-.874a.333.333 0 0 0-.082-.464L9.01 7.65a.33.33 0 0 1-.142-.273V4.334a.333.333 0 0 0-.333-.333H7.467a.333.333 0 0 0-.333.333v3.771c0 .218.106.421.284.546z" /></g><defs><clipPath id="clock_fill_dark-f214b7e1_a"><path fill="white" d="M0 0h16v16H0z" /></clipPath></defs></symbol>'};function Qt(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(Jt),()=>{t.remove("clock_fill_dark-f214b7e1")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#clock_fill_dark-f214b7e1"},void 0)}),void 0)}const Yt={id:"fire-52626e4f",use:"fire-52626e4f-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="fire-52626e4f"><path fill="#FE2C55" fill-rule="evenodd" d="M13.942 10.338c.196-1.164-.017-3.798-2.031-5.434-.165-.134-.408-.073-.515.11-.457.785-1.2 1.741-2.11 2.08.556-1.91.833-5.2-2.108-6.871a.327.327 0 0 0-.486.26c-.128 1.212-.275 2.216-2.227 4.18C3.3 6.093 1.7 8.096 2.05 10.337 2.44 12.853 4.647 15 8.039 15s5.49-2.201 5.903-4.662" clip-rule="evenodd" /></symbol>'};function eo(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(Yt),()=>{t.remove("fire-52626e4f")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#fire-52626e4f"},void 0)}),void 0)}const to={id:"fire_dark-43d2a9e0",use:"fire_dark-43d2a9e0-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="fire_dark-43d2a9e0"><path fill="#FF3B5C" fill-rule="evenodd" d="M13.942 10.338c.196-1.164-.017-3.798-2.031-5.434-.165-.134-.408-.073-.515.11-.457.785-1.2 1.741-2.11 2.08.556-1.91.833-5.2-2.108-6.871a.327.327 0 0 0-.486.26c-.128 1.212-.275 2.216-2.227 4.18C3.3 6.093 1.7 8.096 2.05 10.337 2.44 12.853 4.647 15 8.039 15s5.49-2.201 5.903-4.662" clip-rule="evenodd" /></symbol>'};function oo(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(to),()=>{t.remove("fire_dark-43d2a9e0")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#fire_dark-43d2a9e0"},void 0)}),void 0)}const ao={id:"music-3b9fa23c",use:"music-3b9fa23c-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="music-3b9fa23c"><path fill="#FE2C55" d="M13.667 1.401v9.933a2.333 2.333 0 1 1-2.334-2.333h1.2V3.147L6 3.997v8.337a2.333 2.333 0 1 1-2.334-2.333h1.2V2.462c0-.167.125-.309.291-.33L13.29 1.07c.2-.026.377.129.377.33" /></symbol>'};function io(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(ao),()=>{t.remove("music-3b9fa23c")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#music-3b9fa23c"},void 0)}),void 0)}const no={id:"music_dark-177d07e7",use:"music_dark-177d07e7-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="music_dark-177d07e7"><path fill="#FF3B5C" d="M13.667 1.401v9.933a2.333 2.333 0 1 1-2.333-2.333h1.2V3.147l-6.533.85v8.337a2.333 2.333 0 1 1-2.334-2.333h1.2V2.462c0-.167.125-.309.29-.33l8.134-1.061c.2-.026.376.129.376.33" /></symbol>'};function ro(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(no),()=>{t.remove("music_dark-177d07e7")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#music_dark-177d07e7"},void 0)}),void 0)}const so={id:"sav-154c9c02",use:"sav-154c9c02-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="sav-154c9c02"><path fill="#FE2C55" fill-rule="evenodd" d="M8.333.507a.437.437 0 0 0-.666 0L1.105 8.209a.437.437 0 0 0 .333.721h3.529v5.86c0 .24.196.437.437.437H10.6a.437.437 0 0 0 .437-.438V8.93h3.526a.437.437 0 0 0 .333-.72z" clip-rule="evenodd" /></symbol>'};function lo(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(so),()=>{t.remove("sav-154c9c02")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#sav-154c9c02"},void 0)}),void 0)}const co={id:"sav_dark-7a488257",use:"sav_dark-7a488257-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="sav_dark-7a488257"><path fill="#FF3B5C" fill-rule="evenodd" d="M8.333.507a.437.437 0 0 0-.666 0L1.105 8.209a.437.437 0 0 0 .333.721h3.528v5.86c0 .24.196.437.438.437h5.194a.437.437 0 0 0 .438-.438V8.93h3.525a.437.437 0 0 0 .333-.72z" clip-rule="evenodd" /></symbol>'};function uo(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(co),()=>{t.remove("sav_dark-7a488257")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#sav_dark-7a488257"},void 0)}),void 0)}const ho={id:"x_mark-ed30da86",use:"x_mark-ed30da86-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="x_mark-ed30da86"><path fill="#161823" fill-opacity=".34" d="M7.057 8 3.431 4.374a.333.333 0 0 1 0-.472l.472-.471c.13-.13.34-.13.47 0L8 7.057l3.626-3.626c.13-.13.342-.13.472 0l.471.471c.13.13.13.342 0 .472L8.943 8l3.626 3.626c.13.13.13.341 0 .472l-.471.471a.333.333 0 0 1-.472 0L8 8.943l-3.626 3.626a.333.333 0 0 1-.471 0l-.472-.471a.333.333 0 0 1 0-.472z" /></symbol>'};function po(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(ho),()=>{t.remove("x_mark-ed30da86")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#x_mark-ed30da86"},void 0)}),void 0)}const _o={id:"x_mark_dark-d4e23371",use:"x_mark_dark-d4e23371-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="x_mark_dark-d4e23371"><path fill="white" fill-opacity=".34" d="M7.057 8 3.431 4.374a.333.333 0 0 1 0-.472l.472-.471c.13-.13.34-.13.47 0L8 7.057l3.626-3.626c.13-.13.342-.13.472 0l.471.471c.13.13.13.342 0 .472L8.943 8l3.626 3.626c.13.13.13.341 0 .472l-.471.471a.333.333 0 0 1-.472 0L8 8.943l-3.626 3.626a.333.333 0 0 1-.471 0l-.472-.471a.333.333 0 0 1 0-.472z" /></symbol>'};function vo(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(_o),()=>{t.remove("x_mark_dark-d4e23371")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#x_mark_dark-d4e23371"},void 0)}),void 0)}const go={id:"arrow_broken_line_up-deab4f6d",use:"arrow_broken_line_up-deab4f6d-usage",viewBox:"0 0 16 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14" id="arrow_broken_line_up-deab4f6d"><path fill="#FE2C55" fill-rule="evenodd" d="M5.461 5.026a.83.83 0 0 1 .642.098l3.61 2.221 3.879-6.57 1.148.679a.333.333 0 0 1 .118.456l-4.14 7.014a.833.833 0 0 1-1.155.286L5.961 6.993l-3.906 6.8a.333.333 0 0 1-.455.123l-.867-.498a.333.333 0 0 1-.123-.455l4.334-7.545a.83.83 0 0 1 .517-.392" clip-rule="evenodd" /><path fill="#FE2C55" fill-rule="evenodd" d="m10.585 1.86 3.97-1.77a.358.358 0 0 1 .49.282l.453 4.327a.258.258 0 0 1-.387.25L10.557 2.32a.256.256 0 0 1 .028-.46" clip-rule="evenodd" /></symbol>'};function mo(e){const t=(0,s.useContext)($t.X);return(0,s.useLayoutEffect)((()=>(t.add(go),()=>{t.remove("arrow_broken_line_up-deab4f6d")})),[]),(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,a.jsx)("use",{xlinkHref:"#arrow_broken_line_up-deab4f6d"},void 0)}),void 0)}const fo=(0,ue.default)("ul",{target:"e1ysk6kp0"})((({theme:{colors:e,isDark:t},isFullSideNav:o})=>[{position:"absolute",width:"100%",boxSizing:"border-box",maxHeight:o?"min(calc(100vh - 150px), 734px)":`min(calc(100vh - 96px - ${pe.uF}px), 760px)`,overflowY:"auto",overflowX:"hidden",listStyleType:"none",paddingInlineStart:0},!o&&{paddingTop:"8px",marginTop:"8px",background:e.BGSecondary,boxShadow:t?"":`0 2px 12px ${e.ShadowPrimary}`,borderRadius:"8px"}]),"label:UlContainer;");fo.defaultProps=Object.assign(Object.assign({},fo.defaultProps),{"data-e2e":"transfer-container"});const xo=(0,ue.default)("div",{target:"e1ysk6kp1"})((({theme:e,theme:{colors:t}})=>[(0,pe.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"14px",lineHeight:"22px",color:t.TextSecondary,padding:"5px 12px 3px"}]),"label:DivHeader;"),bo=(0,ue.default)("li",{target:"e1ysk6kp2"})((({active:e,theme:{colors:t}})=>({padding:"9px 16px",cursor:"pointer",background:e?t.BGView:void 0,display:"flex",alignItems:"center"})),"label:LiItemContainer;"),yo=(0,ue.default)("h4",{target:"e1ysk6kp3"})((({theme:e,theme:{direction:t}})=>[(0,pe.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"16px",lineHeight:"24px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},(0,pe.mp)({direction:t,paddingStart:"8px",paddingEnd:"12px"})]),"label:H4ItemText;"),wo=(0,ue.default)("div",{target:"e1ysk6kp4"})((({theme:{direction:e}})=>[(0,pe.mp)({direction:e}),{width:"100%",padding:"12px 0px",cursor:"pointer",display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center"}]),"label:DivFooter;"),ko=(0,ue.default)("div",{target:"e1ysk6kp5"})((({theme:e,theme:{direction:t,colors:o}})=>[(0,pe.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),(0,pe.mp)({direction:t,marginStart:"2px"}),{color:o.TextTertiaryAlt,fontSize:"15px",lineHeight:"18px"}]),"label:DivFooterText;"),So=(0,ue.default)("div",{target:"e1ysk6kp6"})((({theme:e,theme:{colors:t}})=>[(0,pe.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"15px",lineHeight:"18px",color:t.TextTertiaryAlt}]),"label:DivFeedback;"),jo=(0,ue.default)(Ut,{target:"e1ysk6kp7"})((({theme:{direction:e}})=>[(0,pe.mp)({direction:e,marginStart:"2px"}),{width:"12px",height:"12px"}]),"label:StyledChevronDown;"),Lo=(0,ue.default)(Kt,{target:"e1ysk6kp8"})((({theme:{direction:e}})=>[(0,pe.mp)({direction:e,marginStart:"2px"}),{width:"12px",height:"12px"}]),"label:StyledChevronDownDark;"),Co={width:"16px",height:"16px",flexShrink:0},Io=(0,ue.default)(Xt,{target:"e1ysk6kp9"})(Co,"label:StyledClockFill;"),To=(0,ue.default)(Qt,{target:"e1ysk6kp10"})(Co,"label:StyledClockFillDark;"),Mo=(0,ue.default)(po,{target:"e1ysk6kp11"})((({theme:{direction:e}})=>[(0,pe.mp)({direction:e,marginStart:"auto"}),Co]),"label:StyledXMark;"),Oo=(0,ue.default)(vo,{target:"e1ysk6kp12"})((({theme:{direction:e}})=>[(0,pe.mp)({direction:e,marginStart:"auto"}),Co]),"label:StyledXMarkDark;"),Po=(0,ue.default)("div",{target:"e1ysk6kp13"})({width:"16px",height:"16px",display:"flex",flexShrink:0,justifyContent:"center",alignItems:"center"},"label:DivMark;"),Fo=(0,ue.default)("div",{target:"e1ysk6kp14"})((({theme:{colors:e}})=>({width:"6px",height:"6px",borderRadius:"50%",background:e.TextQuaternary})),"label:DivMarkDot;"),Do={2:(0,ue.default)(eo,{target:"e1ysk6kp16"})(Co),17:(0,ue.default)(lo,{target:"e1ysk6kp17"})(Co),18:(0,ue.default)(io,{target:"e1ysk6kp18"})(Co)},Eo={2:(0,ue.default)(oo,{target:"e1ysk6kp19"})(Co),17:(0,ue.default)(uo,{target:"e1ysk6kp20"})(Co),18:(0,ue.default)(ro,{target:"e1ysk6kp21"})(Co)},Bo={2:(0,ue.default)(mo,{target:"e1ysk6kp22"})(Co)},Ro={2:(0,ue.default)(mo,{target:"e1ysk6kp23"})(Co)},Ao=(0,ue.default)("div",{target:"e1ysk6kp24"})({display:"flex",justifyContent:"center",alignItems:"center",height:"18px",marginTop:"11.5px",marginBottom:"20.5px"},"label:DivTransferFooter;"),Go=(0,ue.default)("div",{target:"e1ysk6kp25"})((({theme:{colors:e}})=>({cursor:"pointer",fontSize:"14px",fontWeight:500,lineHeight:"18px",color:e.TextTertiaryAlt,display:"flex"})),"label:DivFooterButton;"),Ho=(0,ue.default)("div",{target:"e1ysk6kp26"})((({theme:{colors:e}})=>({height:"12px",color:e.LineSecondary,margin:"0 16px",display:"flex",alignItems:"center"})),"label:DivFooterSeparator;"),Wo=(0,ue.default)("div",{target:"e1ysk6kp27"})((({theme:{colors:e,direction:t}})=>[{display:"flex",width:"16px",height:"16px",justifyContent:"center",alignItems:"center","*":{fill:e.TextTertiaryAlt}},(0,pe.mp)({direction:t,marginEnd:"4px"})]),"label:DivFooterIconWrapper;"),No=(0,s.memo)((function(e){const{offset:t,index:o,item:n,onSelect:r}=e,{isDark:l}=(0,ne.u)(),{active:d,handleMouseEnter:c}=Vt(t+o),[{rootEnterFrom:u}]=(0,i.S)(X.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),[{videoPageType:h}]=(0,i.S)(I.C,{selector:e=>({videoPageType:e.videoPageType}),dependencies:[]}),p=(0,le.Ul)(),{shouldRecomReduceIconRisk:g}=(0,ae.a8)(),m=(0,s.useCallback)((e=>{var t,a,i,s,l;e.preventDefault(),(null==n?void 0:n.word)&&(v.$G.handleTrendingWordsClick({enter_from:u,words_source:"recom_search",words_position:o,words_content:null==n?void 0:n.word,search_position:_.f.commonParams.page_name,words_type:null!==(a=Nt._[null!==(t=null==n?void 0:n.word_type)&&void 0!==t?t:""])&&void 0!==a?a:"",group_id:null!==(i=null==n?void 0:n.group_id)&&void 0!==i?i:"",impr_id:null!==(s=null==n?void 0:n.impr_id)&&void 0!==s?s:"",enter_group_id:null!==(l=null==p?void 0:p.id)&&void 0!==l?l:"",video_page_type:h}),null==r||r(e,null==n?void 0:n.word,"recom_search",null==n?void 0:n.impr_id,!1))}),[n,o,r,u,p,h]);return(0,a.jsxs)(bo,{"data-e2e":"search-transfer-guess-search-item",id:`transfer-list-item-${o}`,active:d,onMouseMove:c,onMouseDown:m,children:[(()=>{var e,t;if(null==n?void 0:n.word_type){let o=Do[null==n?void 0:n.word_type],i=Eo[null==n?void 0:n.word_type];if(g&&(o=null!==(e=Bo[null==n?void 0:n.word_type])&&void 0!==e?e:o,i=null!==(t=Ro[null==n?void 0:n.word_type])&&void 0!==t?t:i),l&&i)return(0,a.jsx)(i,{});if(o)return(0,a.jsx)(o,{})}return(0,a.jsx)(Po,{children:(0,a.jsx)(Fo,{})})})(),(0,a.jsx)(yo,{children:n.word})]})})),Vo=(0,s.memo)((function(e){const{index:t,item:o,onSelect:n,onDeleteHistory:r}=e,{isDark:l}=(0,ne.u)(),{active:d,handleMouseEnter:c}=Vt(t),[{rootEnterFrom:u}]=(0,i.S)(X.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),h=(0,s.useCallback)((e=>{e.preventDefault(),v.$G.handleSearchHistory({enter_from:u,search_entrance:u,search_position:_.f.commonParams.page_name,search_keyword:o,action_type:"click",order:t}),null==n||n(e,o,"search_history")}),[o,t,n,u]),p=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),null==r||r(o,t)}),[o,t,r]);return(0,a.jsxs)(bo,{"data-e2e":"search-transfer-history-item",id:`transfer-list-item-${t}`,active:d,onMouseMove:c,onMouseDown:h,children:[l?(0,a.jsx)(To,{}):(0,a.jsx)(Io,{}),(0,a.jsx)(yo,{children:o}),l?(0,a.jsx)(Oo,{onMouseDown:p}):(0,a.jsx)(Mo,{onMouseDown:p})]})})),$o=(0,s.memo)((function(e){var t,o;const{hasHistory:r,hasGuessSearch:l,onSelect:d,isFullSideNav:c}=e,u=(0,f.s)(),{isDark:h}=(0,ne.u)(),[p,g]=(0,s.useState)(!0),{language:m}=null!==(t=(0,te.W)((()=>["language"]),[]))&&void 0!==t?t:{},[{rootEnterFrom:b,preSearchId:j}]=(0,i.S)(X.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom,preSearchId:e.searchGlobalParams.preSearchId}),dependencies:[]}),[{historyList:L,guessSearchList:C},T]=(0,i.S)(ee._,{dependencies:[],selector:e=>({historyList:e.historyList,guessSearchList:e.guessSearchList})}),M=(0,i.w)(J),O=(0,i.w)(I.C),{user:P}=(0,n.P)(Q.L,{selector:e=>{var t;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),F=null==P?void 0:P.uid,D=Boolean(P),{abTestVersion:E}=(0,y.L$)((0,te.W)((()=>["abTestVersion"]),[])),B="v2"===(null!==(o=(0,w.qt)(E,"search_report"))&&void 0!==o?o:"v1")&&D,{hasPersonalizedSwitch:R}=(0,ae.uJ)(),A=(0,s.useCallback)((()=>{T.setShouldRemainOpen(!1),O.handleInputFocusChange(!0)}),[T,O]),G=(0,ce.$)(),H=(0,ce.L)(),{PersonalizedModal:W,handleOpenModal:N}=(0,Wt.D0)({beforeModalCloseCallback:A,afterStatusChangeCallback:()=>{G(),H()},preSearchId:j,showToastRightAfterChange:!0});(0,s.useEffect)((()=>{var e;if(F){const t=(0,x._S)(k.Z3);let o=[];o=null!==(e=S.LU.getItem(F))&&void 0!==e?e:[],0===o.length&&t&&(o=JSON.parse(t)),T.setHistoryList(null!=o?o:[])}}),[T,F]);const V=(0,s.useCallback)((()=>{T.setActiveIndex(-1)}),[T]),$=(0,s.useCallback)((e=>{e.preventDefault(),v.$G.handleSearchHistory({enter_from:b,search_entrance:b,search_position:_.f.commonParams.page_name,search_keyword:"",action_type:"show_all",order:-1}),g(!1)}),[g,b]),z=(0,s.useCallback)((e=>{e.preventDefault(),v.$G.handleSearchHistory({enter_from:b,search_entrance:b,search_position:_.f.commonParams.page_name,search_keyword:"",action_type:"clear_all",order:-1}),T.setHistoryList([]),S.LU.removeAll()}),[T,b]),U=(0,s.useCallback)((()=>{M.getReport({aid:Te.TIKTOK_SEARCH_PC,app_name:"pc_tt_search_feedback",lang:Pe(null!=m?m:"en"),entrance:"transfer_page",faq_type:"",appkey:"pc_tt_search_feedback-web"}),M.setIsOpenReport(!0),T.setShouldUpdateData(!1),T.setShouldRemainOpen(!0),v.$G.handleClickSearchFeedback({enter_from:b,search_position:_.f.commonParams.page_name,button_type:"open",text_type:"recom_search_feedback"})}),[M,T,m,b]),q=()=>{if(p&&!(L.length<=5))return(0,a.jsxs)(wo,{"data-e2e":"search-transfer-history-see-more",onMouseDown:$,children:[(0,a.jsx)(ko,{children:u("embed_music_card_see_more")}),h?(0,a.jsx)(Lo,{}):(0,a.jsx)(jo,{})]})},K=()=>{if(!(p||L.length<=5))return(0,a.jsx)(wo,{"data-e2e":"search-transfer-history-clear-all",onMouseDown:z,children:(0,a.jsx)(ko,{children:u("web_search_clear_btn")})})},Z=(0,s.useCallback)(((e,t)=>{if(F){v.$G.handleSearchHistory({enter_from:b,search_entrance:b,search_position:_.f.commonParams.page_name,search_keyword:"",action_type:"clear",order:t});const o=L.filter((t=>t!==e));T.setHistoryList(o),S.LU.setItem(F,o)}}),[L,T,b,F]),Y=()=>{if(B&&!R)return(0,a.jsx)(wo,{"data-e2e":"search-transfer-feedback",onMouseDown:U,children:(0,a.jsx)(So,{children:u("suggested_search_feedback9")})})},oe=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),T.setShouldRemainOpen(!0),T.setShouldUpdateData(!1),N()}),[N,T]),ie=()=>{if(!R)return;let e=[{name:u("searchquerycomment_feedbackpanel_header"),event:U,icon:(0,a.jsx)(Wo,{children:(0,a.jsx)(Gt.O,{size:13})})},{name:u("personalisedSearch_searchResults_searchBlankPage_manageSearchLabel"),event:oe,icon:(0,a.jsx)(Wo,{children:(0,a.jsx)(Ht.K,{size:13})})}];return B||(e=e.slice(1)),(0,a.jsx)(Ao,{children:e.map(((t,o)=>(0,a.jsxs)(s.Fragment,{children:[(0,a.jsxs)(Go,{onMouseDown:t.event,children:[t.icon,t.name]}),o<e.length-1&&(0,a.jsx)(Ho,{children:"|"})]},o)))})};return(0,a.jsxs)(fo,{"data-e2e":"search-transfer",id:"header-transfer",onMouseLeave:V,isFullSideNav:c,children:[(()=>{if(!L.length||!r)return;let e=L;return L.length>5&&p&&(e=L.slice(0,5)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(xo,{"data-e2e":"search-transfer-history-title",children:u("web_search_recent_header")}),e.map(((e,t)=>(0,a.jsx)(Vo,{item:e,index:t,onDeleteHistory:Z,onSelect:d},e))),q(),K()]})})(),(()=>{var e;if(!l||!C.length)return;let t=null!==(e=Number(L.length))&&void 0!==e?e:0;return L.length>5&&p&&(t=5),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(xo,{"data-e2e":"search-transfer-guess-search-title",children:u("pc_web_you_may_like")}),C.map(((e,o)=>(0,a.jsx)(No,{item:e,offset:t,index:o,onSelect:d},e.word))),Y(),ie()]})})(),R?W:null]})})),{getPureUserPath:zo}=u.h,Uo=p.OZ.searchReminder,qo=(0,s.memo)((function({onBrowserModeClose:e,isBrowserMode:t=!1,isFullSideNav:o=!1,onSubmitSuccess:u}){var T,M,O;const{search:P,pathname:F}=(0,l.useLocation)(),D=(0,c.eb)(),{q:E}=(0,r.parse)(P),{withNewStyle:B}=(0,ae.hA)(),R=(0,j.JD)((e=>e.showingBrowserMode)),[A,G]=(0,s.useState)(""),H=(0,s.useMemo)((()=>R?"browser_mode":"video"===(0,m.sn)(F)?"video_detail":""),[F,R]),W=(0,L.gc)(ie.n[F]),N=(0,s.useRef)(null),{placeholder:V,hasVideoSugWord:$,word_id:z,logId:U,videoId:q}=(0,C.H1)(R),[{searchValue:K,loading:Z,sugList:ne,inputFocus:re,activeIndex:se},le]=(0,i.S)(I.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,loading:e.loading,sugList:e.sugList,inputFocus:e.inputFocus,activeIndex:e.activeIndex})}),[{isOpenReport:de,isOpenSuccessModal:ce},ue]=(0,i.S)(J,{dependencies:[],selector:e=>({isOpenReport:e.isOpenReport,isOpenSuccessModal:e.isOpenSuccessModal})}),{lang:he,user:pe}=(0,n.P)(Q.L,{selector:e=>{var t;return{lang:e.lang,user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),_e=null==pe?void 0:pe.uid,{searchVideoForLoggedin:ve}=(0,n.P)(Y.$,{selector:e=>{var t,o;return{searchVideoForLoggedin:null!==(o=null===(t=e.bizContext)||void 0===t?void 0:t.searchVideoForLoggedin)&&void 0!==o?o:[]}},dependencies:[]}),{isOpenNewTab:ge}=(0,b.M4)(),[{currentKeyword:me,rootEnterFrom:fe},xe]=(0,i.S)(X.tq,{selector:e=>{var t,o;return{currentKeyword:null!==(o=null===(t=e[ie.n[F]])||void 0===t?void 0:t.keyword)&&void 0!==o?o:"",rootEnterFrom:e.searchGlobalParams.rootEnterFrom}},dependencies:[F]}),[{transferHistoryList:be,guessSearchList:ye,blankpageEnterMethod:we,shouldRemainOpen:ke},Se]=(0,i.S)(ee._,{dependencies:[],selector:e=>({transferHistoryList:e.historyList,guessSearchList:e.guessSearchList,blankpageEnterMethod:e.blankpageEnterMethod,shouldRemainOpen:e.shouldRemainOpen})}),Le=Boolean(pe),Ce=null===(T=null==pe?void 0:pe.hasSearchPermission)||void 0===T||T,Ie=(0,s.useRef)([]),{abTestVersion:Te}=(0,y.L$)((0,te.W)((()=>["abTestVersion"]),[])),Me=null!==(M=(0,w.qt)(Te,"search_transfer_history"))&&void 0!==M?M:"v1",Oe=null!==(O=(0,w.qt)(Te,"search_transfer_guesssearch"))&&void 0!==O?O:"v1",Pe="v2"===Me&&Le,Fe="v2"===Oe,De=(0,s.useMemo)((()=>Pe&&be.length||Fe&&ye.length),[Pe,be,Fe,ye]),Ee=(0,l.useHistory)(),Be=(0,l.useLocation)(),Re=(0,s.useCallback)((()=>{le.getSugList({app_language:(0,h.uk)(he),history_list:encodeURIComponent(JSON.stringify(Ie.current)),keyword:K,abTestVersion:Te})}),[le,he,K]),Ae=(0,s.useMemo)((()=>{var e;if(_e){let t=[];const o=(0,x._S)(k.Z3),a=S.LU.getItem(_e);return a?(t=null!=a?a:[],t):(0===t.length&&o&&(t=null!==(e=JSON.parse(o))&&void 0!==e?e:[],S.LU.setItem(_e,t),(0,x.sc)(k.Z3)),t)}}),[_e]),Ge=(0,s.useCallback)((()=>{Se.setHistoryList(null!=Ae?Ae:[])}),[Se,Ae]),He=!Boolean((0,l.matchPath)(F,{path:Uo}))&&Boolean((0,l.matchPath)(F,{path:p.OZ.searchHome})),We=(0,s.useCallback)((e=>{if(_e){let t=[];const o=S.LU.getItem(_e);o&&(t=o.filter((t=>t!==e))),t.unshift(e),t.length>10&&(t=t.slice(0,10)),Se.setHistoryList(t),S.LU.setItem(_e,t)}}),[Se,_e]);(0,s.useEffect)((()=>{le.setVideoPageType(H)}),[le,H]),(0,s.useEffect)((()=>{He&&E&&le.setSearchValue(String(E))}),[E,He]),(0,s.useEffect)((()=>{Pe&&E&&We(String(E))}),[E,Pe]),(0,s.useEffect)((()=>{Re()}),[Re]),(0,s.useEffect)((()=>{R||Ge()}),[Ge,R]),(0,s.useEffect)((()=>{fe||xe.setSearchGlobalParams({rootEnterFrom:He?"search_outer":_.f.commonParams.page_name})}),[fe,He,xe]),(0,s.useEffect)((()=>{var e,t,o,a;if(R){const i=20,n=84,r=16,s=null!==(t=null===(e=document.getElementById("browser-mode-logo-icon"))||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0,l=null!==(a=null===(o=document.getElementById("browser-mode-report-btn"))||void 0===o?void 0:o.clientWidth)&&void 0!==a?a:0,d=2*Math.max(i+l,n+s);G(`calc(100% - ${r+d}px)`)}}),[R]),(0,s.useEffect)((()=>{re||ke||Se.setNewGuessSearchWord(void 0)}),[re,ke,Se]),(0,s.useEffect)((()=>{t&&R||!$||R&&!B||v.$G.handleTrendingWordsShow({enter_from:fe,search_position:R?"video_detail":_.f.commonParams.page_name,words_source:"related_search_anchor_v2",words_position:0,words_content:V,words_type:"search_bar_outer",group_id:null!=z?z:"",impr_id:null!=U?U:"",previous_page:_.f.commonParams.previous_page,video_page_type:H,enter_group_id:q})}),[q,$,R,U,V,fe,z,B,H,t]);const Ne=(0,s.useCallback)(((t,o,a,i)=>{var n;le.setInputFocus(!1);const s=Date.now();let l=He?Be.pathname:p.$T.searchHome();if(null===(n=null==N?void 0:N.current)||void 0===n||n.onEnterInputBlur(),He&&o===me)return void W(!0,!0);!Le&&ve&&void 0===i&&(l=p.$T.searchUser());let d=(0,m.p5)(Be.pathname);const c=(0,m.sM)(Be.pathname);d&&(l=p.$T.searchLive());const u=(0,oe.F)({location:Be,to:{pathname:l,search:{q:o,t:s}}});R&&ge?window.open((0,r.stringifyUrl)({url:u,query:Object.assign({searchSource:"normal_search",videoPageType:H},a)})):d||c?window.location.href=(0,r.stringifyUrl)({url:u,query:Object.assign({searchSource:"normal_search",videoPageType:H},a)}):(null==e||e(t,!0),Ee.push(u,Object.assign({searchSource:"normal_search",videoPageType:H},a)))}),[He,Be,Le,W,Ee,le,ve,me,e,R,ge,H]),Ve=(0,s.useCallback)(((e,t,o)=>{const{extra_info:{unique_id:a,sug_user_id:i},word_record:{words_content:n,group_id:s},content:l,impr_id:d}=t;Ie.current.push(l);const c=Boolean(i);v.$G.handleSugClick({impr_id:d,words_source:"sug",words_position:o,words_content:n,raw_query:K,sug_type:c?"enrich_sug":"normal_sug",query_id:"",group_id:s,video_page_type:H,search_position:R?"video_detail":_.f.commonParams.page_name,enter_group_id:q}),c?(g.q.handleEnterUser({enter_from:"search_sug",search_keyword:K,to_user_id:i,search_id:d,impr_id:d,rank:o,search_type:ie.n[F]}),window.location.href=(0,r.stringifyUrl)({url:zo({uniqueId:a}),query:{lang:he}})):(xe.resetSearchResult(),Ne(e,l,{enterMethod:"click_icon",searchSource:"search_sug",imprId:d,blankpageEnterFrom:_.f.commonParams.page_name,blankpageEnterMethod:we}))}),[K,H,R,F,he,xe,Ne,we,q]),$e=(0,s.useCallback)(((e,t,o,a,i)=>{Ie.current.push(t),le.setSearchValue(t),Ne(e,t,{enterMethod:"click_icon",searchSource:o,imprId:a,blankpageEnterFrom:_.f.commonParams.page_name,blankpageEnterMethod:we},i)}),[Ne,le,we]),ze=(0,s.useCallback)(((e,t)=>{xe.resetSearchResult(),Ne(e,K,{enterMethod:t})}),[Ne,xe,K]),Ue=(0,s.useCallback)(((e,t)=>{le.setSearchValue(V),xe.resetSearchResult(),v.$G.handleTrendingWordsClick({enter_from:fe,search_position:R?"video_detail":_.f.commonParams.page_name,words_source:"related_search_anchor_v2",words_position:0,words_content:V,words_type:"search_bar_outer",group_id:null!=z?z:"",impr_id:null!=U?U:"",previous_page:_.f.commonParams.previous_page,video_page_type:H,enter_group_id:q}),Ne(e,V,{enterMethod:t,searchSource:"default_search_keyword",preClickId:U})}),[le,V,xe,fe,R,z,U,H,q,Ne]),qe=(0,s.useCallback)((()=>{le.setInputFocus(!0),ue.setIsOpenReport(!1),Se.setShouldRemainOpen(!1),v.$G.handleClickSearchFeedback({enter_from:fe,search_position:_.f.commonParams.page_name,button_type:"close",text_type:"recom_search_feedback"}),ue.resetData()}),[ue,le]),Ke=(0,s.useCallback)((()=>{ue.setIsOpenReport(!1),D.open(),ue.setIsOpenSuccessModal(!0),ue.resetData()}),[ue,le]),Ze=(0,s.useCallback)((()=>{ue.setIsOpenSuccessModal(!1),Se.setShouldUpdateData(!1),setTimeout((()=>{var e;null===(e=null==N?void 0:N.current)||void 0===e||e.onEnterInputFocus(),Se.setShouldRemainOpen(!1)}),0)}),[ue,le,fe]),Xe=(0,s.useCallback)(((e,t)=>{if(K){if(t&&ne[se])return Ve(e,ne[se],se),void(null==u||u());ze(e,t?"click_enter":"click_icon"),null==u||u()}else $&&Ue(e,t?"click_enter":"click_icon")}),[K,ne,se,ze,$,Ue,Ve]),Je=(0,ae.AF)(),nt=(0,s.useMemo)((()=>(Je||!Z)&&Boolean(K)&&ne.length>0&&(re||o)),[Je,Z,K,ne.length,re,o]),rt=(0,s.useMemo)((()=>!R&&!K.length&&(re||o)&&De||ke),[R,K,re,De,ke,o]),[st,lt]=(0,s.useState)("");(0,s.useEffect)((()=>{var e;o&&(null===(e=null==N?void 0:N.current)||void 0===e||e.onEnterInputFocus(),K&&lt(K))}),[o]);const dt=(0,f.s)();return Ce?(0,a.jsxs)(Ye,{showingBrowserMode:R,onClick:x.dG,searchBarWidth:A,children:[(0,a.jsx)(je,{initialValue:st,onSubmit:Xe,ref:N,isBrowserMode:t,isFullSideNav:o}),nt&&(0,a.jsx)(At,{onSelect:Ve,onSelectMore:ze,isFullSideNav:o}),rt&&(0,a.jsx)($o,{onSelect:$e,hasHistory:Pe,hasGuessSearch:Fe,isFullSideNav:o}),de&&(0,a.jsx)(Qe,{onClose:qe,onSubmitSuccess:Ke}),(()=>{if(ce)return(0,a.jsxs)(c.nO,Object.assign({},D,{width:"Small",height:"Compact",children:[(0,a.jsx)(c.ND,{children:(0,a.jsx)(c.Ft,{icon:d.A,size:72})}),(0,a.jsxs)(tt,{children:[(0,a.jsx)(ot,{children:dt("search_feedback_success_tips1")}),(0,a.jsx)(at,{children:dt("suggested_search_feedback13")})]}),(0,a.jsx)(it,{children:(0,a.jsx)(et,{onClick:Ze,children:dt("OK")})})]}))})()]}):null}))},45266:(e,t,o)=>{o.d(t,{s:()=>n});var a=o(71281),i=o(57431);const n=()=>{var e,t;const{user:o}=(0,i.x)();return{showAds:"v2"===(null!==(e=(0,a.d)("enable_ads"))&&void 0!==e?e:"v1")&&!!o,showAboutThisAd:"v2"===(null!==(t=(0,a.d)("enable_about_this_ad"))&&void 0!==t?t:"v1")}}},24728:(e,t,o)=>{o.d(t,{Fc:()=>m,H1:()=>v,iA:()=>f});var a=o(41271),i=o(40099),n=o(47172),r=o(25616),s=o(78662),l=o(21367),d=o(71281),c=o(49057),u=o(89107),h=o(87654),p=o(52333),_=o(82512);function v(e){var t;const o=(0,r.s)(),p=(0,i.useMemo)((()=>o(e?"search_videosearchbar_recommended_generic_1":"please_input_search_keyword")),[o,e]),_=(0,l.Ul)(),{id:v}=null!=_?_:{},{abTestVersion:g}=null!==(t=(0,c.W)((()=>["abTestVersion"]),[]))&&void 0!==t?t:{},m="v2"===(0,d.qt)(g,"search_entry_search_bar"),{wordList:x,logId:b}=f(null!=v?v:"","feed_bar"),{newGuessSearchWord:y}=(0,a.P)(h._),{inputFocus:w}=(0,a.P)(u.C),{shouldRemainOpen:k}=(0,a.P)(h._),{pathname:S}=(0,n.useLocation)();return(0,i.useMemo)((()=>{var t;const{word:o,word_id:a}=null!==(t=x[0])&&void 0!==t?t:{},{word:i="",group_id:n=""}=null!=y?y:{},r={placeholder:p,hasVideoSugWord:!1},l=(0,s.sn)(S);return m?o&&(e||["fyp","following","video"].includes(l))?{placeholder:o,word_id:a,hasVideoSugWord:!0,logId:b,videoId:v}:(w||k)&&i&&!e?{placeholder:i,word_id:n,hasVideoSugWord:!0,logId:b,videoId:v}:r:r}),[x,y,p,S,m,e,w,k,b,v])}const g=(e,t)=>t&&0!==t.length?e.filter((({word_id:e})=>!t.includes(e))):e,m=(e,t)=>{var o;return null!==(o=null==t?void 0:t.includes(e))&&void 0!==o&&o};function f(e,t){var o;const{user:n}=null!==(o=(0,c.W)((()=>["user"]),[]))&&void 0!==o?o:{},{wordIdList:r,videoIdList:s}=(0,a.P)(_.Zr,{selector:e=>{var t,o;return null!==(o=e.blockListMap[null!==(t=null==n?void 0:n.uid)&&void 0!==t?t:_.yJ])&&void 0!==o?o:{}},dependencies:[n]}),l=(0,a.P)(p.k,{selector:t=>t[null!=e?e:""],dependencies:[e]});return(0,i.useMemo)((()=>{var e,o,a,i;if(!l||n&&!n.hasSearchPermission||m(null==l?void 0:l.id,s))return{wordList:[],hintText:""};const d=(null!==(o=null===(e=l.videoSuggestWordsList)||void 0===e?void 0:e.video_suggest_words_struct)&&void 0!==o?o:[]).find((e=>e.scene===t)),c=null!==(a=null==d?void 0:d.words)&&void 0!==a?a:[];return{wordList:g(c,r),hintText:null!==(i=null==d?void 0:d.hint_text)&&void 0!==i?i:"",logId:l.logId}}),[s,r,t,n,l])}},68880:(e,t,o)=>{o.d(t,{_:()=>a});const a={2:"hot",17:"top",18:"music"}},87654:(e,t,o)=>{o.d(t,{_:()=>S});var a=o(58632),i=o(64162),n=o(4126),r=o(93995),s=o(8536),l=o(23999),d=o(26324),c=o(24451),u=o(62564),h=o(72916),p=o(95719),_=o(74690),v=o(93608),g=o(65365),m=o(43271),f=o(89107),x=o(45489),b=o(68880),y=o(38203),w=o(39228);let k=class{constructor(e){this.fetch=e}getTransferList(e){return this.fetch.get("/api/search/suggest/guide/",{query:e,baseUrlType:2})}};k=(0,a.__decorate)([(0,y._)(),(0,a.__metadata)("design:paramtypes",[w.pM])],k);let S=class extends i.E{constructor(e,t,o,a){super(),this.service=e,this.search=t,this.sug=o,this.personalization=a,this.defaultState={historyList:[],guessSearchList:[],mobileGuessSearchList:[],activeIndex:-1,blankpageEnterMethod:void 0,preRecomShowId:"",videoSuggestWord:void 0,newGuessSearchWord:void 0,logId:void 0,mobileLogId:void 0,shouldRemainOpen:!1,shouldUpdateData:!0}}setData(e,t){e.guessSearchList=t}setMobileData(e,t){e.mobileGuessSearchList=t}setLogId(e,t){e.logId=t}setMobileLogId(e,t){e.mobileLogId=t}setActiveIndex(e,t){e.activeIndex=t}setEnterMethod(e,t){e.blankpageEnterMethod=t}setHistoryList(e,t){e.historyList=t}setVideoSuggestWord(e,t){e.videoSuggestWord=t}setNewGuessSearchWord(e,t){e.newGuessSearchWord=t}setShouldRemainOpen(e,t){e.shouldRemainOpen=t}setShouldUpdateData(e,t){e.shouldUpdateData=t}getTransferList(e){return e.pipe((0,c.E)(this.search.state$,this.sug.state$,this.state$,this.personalization.state$),(0,u.T)((([e,{searchGlobalParams:t},{videoPageType:o},{videoSuggestWord:a},{isSearchPersonalized:i}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,videoSuggestWord:a,videoPageType:o,nonPersonalized:i?void 0:1}))),(0,h.n)((({payload:e,rootEnterFrom:t,videoSuggestWord:o,videoPageType:a,nonPersonalized:i})=>{var n;return this.service.getTransferList(Object.assign(Object.assign({},e),{is_non_personalized_search:i,current_placeholder:null!==(n=null==o?void 0:o.word)&&void 0!==n?n:""})).pipe((0,u.T)((e=>{const{status_code:t,data:o=[],log_id:a}=e;let i=[];return 0===t&&o.length&&(i=o.map((e=>Object.assign(Object.assign({},e),{impr_id:a})))),Object.assign(Object.assign({},e),{data:i})})),(0,p.M)((({data:o,log_id:i})=>{const n={enter_from:t,words_source:"recom_search",search_position:v.f.commonParams.page_name,enter_group_id:e.from_group_id,impr_id:null!=i?i:"",raw_query:"",video_page_type:a};g.$G.handleTrendingShow(Object.assign({words_num:o.length},n)),o.forEach(((e,t)=>{var o,a,i,r;return g.$G.handleTrendingWordsShow(Object.assign({words_position:t,words_content:null!==(o=null==e?void 0:e.word)&&void 0!==o?o:"",words_type:null!==(i=b._[null!==(a=null==e?void 0:e.word_type)&&void 0!==a?a:""])&&void 0!==i?i:"",group_id:null!==(r=null==e?void 0:e.group_id)&&void 0!==r?r:""},n))}))})),(0,s.Z)((e=>{var t;return(0,l.of)(this.getActions().setData(null==e?void 0:e.data),this.getActions().setLogId(null==e?void 0:e.log_id),this.getActions().setNewGuessSearchWord(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t[0]))})),(0,_.Z)(this.getActions().setActiveIndex(-1)))})))}getMobileTransferList(e){return e.pipe((0,c.E)(this.search.state$,this.sug.state$,this.state$,this.personalization.state$),(0,u.T)((([e,{searchGlobalParams:t},{videoPageType:o},{videoSuggestWord:a},{isSearchPersonalized:i}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,videoSuggestWord:a,videoPageType:o,nonPersonalized:i?void 0:1}))),(0,h.n)((({payload:e,videoSuggestWord:t,nonPersonalized:o})=>{var a;return this.service.getTransferList(Object.assign(Object.assign({},e),{is_non_personalized_search:o,current_placeholder:null!==(a=null==t?void 0:t.word)&&void 0!==a?a:""})).pipe((0,u.T)((e=>{const{status_code:t,data:o=[],log_id:a}=e;let i=[];return 0===t&&o.length&&(i=o.map((e=>Object.assign(Object.assign({},e),{impr_id:a})))),Object.assign(Object.assign({},e),{data:i})})),(0,p.M)((({data:e,log_id:t})=>{const o={words_source:"recom_search",search_position:"search_blankpage_web",impr_id:null!=t?t:""};e.forEach(((e,t)=>{var a,i,n,r;g.$G.handleTrendingWordsShow(Object.assign({words_position:t,words_content:null!==(a=null==e?void 0:e.word)&&void 0!==a?a:"",words_type:null!==(n=b._[null!==(i=null==e?void 0:e.word_type)&&void 0!==i?i:""])&&void 0!==n?n:"",group_id:null!==(r=null==e?void 0:e.group_id)&&void 0!==r?r:""},o))}))})),(0,s.Z)((e=>(0,l.of)(this.getActions().setMobileData(null==e?void 0:e.data),this.getActions().setMobileLogId(null==e?void 0:e.log_id)))))})))}};(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Array]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setData",null),(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Array]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setMobileData",null),(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,String]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setLogId",null),(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,String]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setMobileLogId",null),(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Number]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setActiveIndex",null),(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setEnterMethod",null),(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Array]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setHistoryList",null),(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setVideoSuggestWord",null),(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setNewGuessSearchWord",null),(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setShouldRemainOpen",null),(0,a.__decorate)([(0,n.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"setShouldUpdateData",null),(0,a.__decorate)([(0,n.Mj)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[d.c]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"getTransferList",null),(0,a.__decorate)([(0,n.Mj)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[d.c]),(0,a.__metadata)("design:returntype",void 0)],S.prototype,"getMobileTransferList",null),S=(0,a.__decorate)([(0,r.n)("Transfer"),(0,a.__metadata)("design:paramtypes",[k,m.tq,f.C,x.fu])],S)},9782:(e,t,o)=>{o.d(t,{FP:()=>_,mx:()=>v});var a,i,n,r,s,l,d,c,u,h,p=o(93608);function _(e){switch(e){case 0:return"video_live";case 1:return"third_party";case 3:return"audio";case 4:return"screen_share";case 5:return"social_live";case 6:return"live_studio";default:return"others"}}!function(e){e.LivePlay="livesdk_live_play",e.LivePlayV2="livesdk_live_play_v2",e.LivePause="livesdk_live_pause",e.LivePlayFail="livesdk_live_play_fail",e.LiveRefresh="livesdk_live_refresh",e.LiveShow="livesdk_live_show",e.LiveEnter="livesdk_enter_room",e.LiveEndShow="livesdk_audience_live_end_show",e.WatchOneMin="livesdk_watch_onemin",e.LiveShare="livesdk_share",e.LiveDuration="livesdk_live_duration",e.LiveInteractDuration="livesdk_connection_watch_duration",e.LiveFinish="livesdk_finish_show",e.LiveEndViolationShow="livesdk_live_end_show",e.ShowVerifiedIcon="livesdk_authentication_icon_show",e.OBSRevokeUserPop="livesdk_obs_revoke_user_pop",e.SharePanelShow="share_panel_show",e.SharePanelClick="share_panel_click",e.ClickShareButton="click_share_button",e.RankingsSettingShow="livesdk_live_setting_show",e.ClickRankingsSetting="livesdk_live_rankings_setting_click",e.ClickRankingsSettingSubmit="livesdk_live_rankings_setting_result",e.LiveMatureThemeMaskShow="livesdk_mature_theme_mask_show",e.RecLivePlay="livesdk_rec_live_play",e.ReflowVideoPlay="reflow_video_play",e.EnterRoomDuration="livesdk_enter_room_duration",e.QuestionScanShow="livesdk_question_scan_show",e.LeaderBoardShow="livesdk_leaderboard_show",e.LeaderBoardFaqShow="livesdk_leaderboard_faq_show",e.LeaderBoardDuration="livesdk_leaderboard_duration",e.BottomMessageShow="livesdk_bottom_message_show",e.BottomMessageGPPPAShow="livesdk_election_notice_tag_show",e.BottomMessageGPPPAClick="livesdk_election_notice_tag_click",e.WarningMaskLayer="livesdk_violation_mask_layer",e.GuestDetailOpenClick="livesdk_guest_detail_open_click",e.LiveUnavailable="livesdk_live_unavailable",e.AutoplayUnavailable="livesdk_live_autoplay_unavailable",e.LiveChatIconClick="livesdk_live_chat_icon_click",e.LiveRefreshRetryIconShow="livesdk_live_refresh_retry_icon_show",e.LiveRefreshRetryIconClick="livesdk_live_refresh_retry_icon_click",e.LiveNextIconShow="livesdk_live_next_icon_show",e.LiveNextIconClick="livesdk_live_next_icon_click",e.LiveAIGCTagShow="view_live_aigc_label",e.LiveAIGCTagClick="click_live_aigc_label",e.LivePreviewFail="livesdk_preview_play_fail",e.LiveNonStreamingShow="livesdk_live_nonstreaming_show",e.LiveRoomDraw="livesdk_live_draw",e.LiveLeavePage="livesdk_live_leave_page",e.LiveNonStreamingIMMsg="livesdk_live_nonstreaming_im_msg",e.LiveMobileRelayToast="livesdk_open_on_computer_toast",e.LiveAnchorCountDownSeiReceived="livesdk_anchor_count_down_sei_received"}(a||(a={})),function(e){e.VideoAnchorPK="video_anchor_pk",e.VideoAnchorConnect="video_anchor_connect",e.SharedScreenAnchorConnect="shared_screen_anchor_connect",e.VideoAnchorOrder="video_anchor_order",e.VideoAnchorGuestConnect="video_anchor_guest_connect",e.StudioGuestConnect="studio_guest_connect",e.NormalVideoLive="normal_video_live"}(i||(i={})),function(e){e.normal="normal",e.programLive="program_live"}(n||(n={})),function(e){e.VideoLive="video_live",e.ThirdParty="third_party",e.Media="media",e.Audio="audio",e.ScreenShare="screen_share",e.SocialLive="social_live",e.LiveStudio="live_studio",e.Others="others"}(r||(r={})),function(e){e.DiscoverFeed="discorver_feed"}(s||(s={})),function(e){e.Screenshot="screen_shot",e.UserUpload="user_upload",e.Null="null"}(l||(l={})),function(e){e[e.UserRoomFail=2051]="UserRoomFail",e[e.RoomEnterFail=205]="RoomEnterFail",e[e.UserLeave=208]="UserLeave"}(d||(d={})),function(e){e.Pause="pause",e.Leave="leave",e.ChangeMode="change_mode",e.ChangePage="change_webpage",e.ChangeMute="change_mute",e.ChangeDefinition="change_definition",e.LiveEnd="live_end",e.Disconnected="disconnected",e.Others="others",e.UnLogin="unlogin"}(c||(c={})),function(e){e.ManulClick="manul_click",e.DisconnectedToast="disconnected_toast"}(u||(u={})),function(e){e.Paused="paused",e.Playing="playing"}(h||(h={}));const v={isSPA:!1,handleLivePause:e=>{p.f.event("livesdk_live_pause",e)},handleLiveChatIconClick:e=>{p.f.event("livesdk_live_chat_icon_click",Object.assign(Object.assign({},e),{action_type:"click"}))},handleCheckAutoplayError:()=>{p.f.event("livesdk_live_autoplay_unavailable")},handleLiveEndShow:e=>{p.f.event("livesdk_audience_live_end_show",e)},handleLiveEntranceShow:e=>{p.f.event("livesdk_live_show",e)},handleLiveRoomUnavailable:e=>{p.f.event("livesdk_live_unavailable",Object.assign(Object.assign({},e),{action_type:"show"}))},handleLiveEndViolationShow:e=>{p.f.event("livesdk_live_end_show",e)},handleVoiceChatPanelExpand:e=>{p.f.event("livesdk_guest_detail_open_click",Object.assign(Object.assign({},e),{app_name:"webapp"}))},handleBottomMessageShow:e=>{p.f.event("livesdk_bottom_message_show",Object.assign(Object.assign({},e),{user_type:"user"}))},handleWarningMaskShow:e=>{p.f.event("livesdk_violation_mask_layer",Object.assign(Object.assign({},e),{violation_type:"mask_layer"}))},handleEnterRoomDuration:e=>{p.f.event("livesdk_enter_room_duration",e)},handleLivePlayFail:e=>{p.f.event("livesdk_live_play_fail",e)},handleLivePlay:e=>{p.f.event("livesdk_live_play",e)},handleLivePlayV2:e=>{p.f.event("livesdk_live_play_v2",e)},handleRecLivePlay:e=>{p.f.event("livesdk_rec_live_play",e)},handleReflowVideoPlay:e=>{p.f.event("reflow_video_play",e)},handleLiveRefresh:e=>{p.f.event("livesdk_live_refresh",e)},handleLiveShow:e=>{p.f.event("livesdk_live_show",e)},handleLiveEnter:e=>{p.f.event("livesdk_enter_room",e)},handleOBSRevokeUserPopShow:e=>{p.f.event("livesdk_obs_revoke_user_pop",e)},handleWatchOneMin:e=>{p.f.event("livesdk_watch_onemin",e)},handleLiveShare:e=>{p.f.event("livesdk_share",e)},handleLiveDuration:(e,t)=>{(null==t?void 0:t.sendBeacon)?p.f.beconEvent("livesdk_live_duration",e):p.f.event("livesdk_live_duration",e)},handleLiveInteractDuration:(e,t)=>{(null==t?void 0:t.sendBeacon)?p.f.beconEvent("livesdk_connection_watch_duration",e):p.f.event("livesdk_connection_watch_duration",e)},handleInnerNextIconClick:e=>{p.f.event("livesdk_live_next_icon_click",e)},handleInnerNextIconShow:e=>{p.f.event("livesdk_live_next_icon_show",e)},handleLiveFinish:e=>{p.f.event("livesdk_finish_show",e)},handleShowVerifiedIcon:e=>{p.f.event("livesdk_authentication_icon_show",e)},handleSharePanelShow:e=>{p.f.event("share_panel_show",e)},handleSharePanelClick:e=>{p.f.event("share_panel_click",e)},handleShareButtonClick:e=>{p.f.event("click_share_button",e)},handleRankingsSettingShow:e=>{p.f.event("livesdk_live_setting_show",e)},handleRankingsSettingClick:e=>{p.f.event("livesdk_live_rankings_setting_click",e)},handleRankingsSettingSubmit:e=>{p.f.event("livesdk_live_rankings_setting_result",e)},handleLiveMatureThemeMaskShow:e=>{p.f.event("livesdk_mature_theme_mask_show",e)},handleQuestionScanShow:e=>{p.f.event("livesdk_question_scan_show",e)},handleLeaderBoardFaqShow:e=>{p.f.event("livesdk_leaderboard_faq_show",e)},handleLeaderBoardShow:e=>{p.f.event("livesdk_leaderboard_show",e)},handleLeaderBoardDuration:e=>{p.f.event("livesdk_leaderboard_duration",e)},handleLiveRefreshRetryIconShow:e=>{p.f.event("livesdk_live_refresh_retry_icon_show",e)},handleLiveRefreshRetryIconClick:e=>{p.f.event("livesdk_live_refresh_retry_icon_click",e)},handleLivePreviewFail:e=>{p.f.event("livesdk_preview_play_fail",e)},handleLiveNonStreamingShow:e=>{p.f.event("livesdk_live_nonstreaming_show",e)},handleLiveRoomDraw:e=>{p.f.event("livesdk_live_draw",e)},handleLiveLeavePage:(e,t)=>{t?p.f.beconEvent("livesdk_live_leave_page",e):p.f.event("livesdk_live_leave_page",e)},handleLiveNonStreamingIMMsg:e=>{p.f.event("livesdk_live_nonstreaming_im_msg",e)},handleLiveMobileRelayToast:e=>{p.f.event("livesdk_open_on_computer_toast",e)},handleLiveAnchorCountDownSeiReceived:e=>{p.f.event("livesdk_anchor_count_down_sei_received",e)},handleBottomMessageGPPPAShow:e=>{p.f.event("livesdk_election_notice_tag_show",e)},handleBottomMessageGPPPAClick:e=>{p.f.event("livesdk_election_notice_tag_click",e)},handleLiveAIGCTagShow:e=>{p.f.event("view_live_aigc_label",e)},handleLiveAIGCTagClick:e=>{p.f.event("click_live_aigc_label",e)}}}}]);