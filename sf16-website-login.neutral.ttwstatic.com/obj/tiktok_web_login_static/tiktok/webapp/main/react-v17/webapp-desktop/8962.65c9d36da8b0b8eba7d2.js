"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8962],{90159:(e,t,o)=>{o.d(t,{ZC:()=>c,_g:()=>s,d7:()=>d});var i=o(70364),a=o.n(i),r=o(2387),n=o.n(r),l=o(40099);function s(e,t,o){return(0,l.useMemo)((()=>a()(e,o)),t)}function d(e,t,o){return(0,l.useMemo)((()=>n()(e,o)),t)}function c(e){const t=(0,l.useRef)(e);return(0,l.useEffect)((()=>{t.current=e}),[e]),t.current}},63809:(e,t,o)=>{o.d(t,{$2:()=>u,Fs:()=>n,MH:()=>s,WA:()=>x,dM:()=>d,eH:()=>l,hH:()=>p,iA:()=>r,mW:()=>g,tU:()=>c,xj:()=>h});var i=o(62186),a=o(72153);const r=(0,i.default)("div",{target:"e1cbfxtu0"})((({theme:{colors:e,direction:t},isNotice:o,isMobile:i=!1})=>[{height:"68px",minHeight:"68px",display:"flex",flexDirection:"row",alignItems:"center",position:"relative",cursor:"pointer",":hover":i?{}:{backgroundColor:e.BGPlaceholderDefault}},(0,a.mp)({direction:t,paddingStart:"16px",paddingEnd:o?"16px":"24px"})]),"label:DivReportItemContainer;"),n=(0,i.default)("div",{target:"e1cbfxtu1"})((({theme:{colors:e}})=>[{minWidth:"48px",width:"48px",height:"48px",borderRadius:"24px",border:`1px solid ${e.LinePrimary}`,backgroundColor:e.BGTertiary,display:"flex",justifyContent:"center",alignItems:"center","> svg > path":{fill:e.TextPrimary}}]),"label:DivFlagContainer;"),l=(0,i.default)("div",{target:"e1cbfxtu2"})((({theme:{direction:e}})=>[{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"center",overflow:"hidden",wordWrap:"break-word"},(0,a.mp)({direction:e,marginStart:"12px"})]),"label:DivReportItemContent;"),s=(0,i.default)("div",{target:"e1cbfxtu3"})((({theme:{direction:e,colors:t}})=>[Object.assign(Object.assign({minWidth:"16px",width:"16px",height:"16px"},"rtl"===e&&{transform:"rotate(180deg)"}),{"> svg > path":{fill:t.TextPrimary}})]),"label:DivArrowContainer;"),d=(0,i.default)("span",{target:"e1cbfxtu4"})((({theme:e,isNotice:t})=>[(0,a.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextPrimary",fontWeight:"semiBold"}),{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:t?"normal":"nowrap",lineHeight:"17px"}]),"label:SpanTitle;"),c=(0,i.default)("span",{target:"e1cbfxtu5"})((({theme:e,isNotice:t})=>[(0,a.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",fontWeight:"normal",color:t?"TextPrimary":"TextTertiary"}),{lineHeight:"17px"}]),"label:SpanSubtitle;"),p=(0,i.default)("span",{target:"e1cbfxtu6"})((({theme:e})=>[(0,a.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",fontWeight:"normal",color:"TextQuaternary"}),{lineHeight:"17px"}]),"label:SpanTimestamp;"),u=(0,i.default)("div",{target:"e1cbfxtu7"})((({theme:{direction:e}})=>[{position:"relative",width:"42px",minWidth:"42px",height:"56px",minHeight:"56px",borderRadius:"2px",overflow:"hidden"},(0,a.mp)({direction:e,marginStart:"12px"})]),"label:DivCoverImageWrapper;"),g=(0,i.default)("img",{target:"e1cbfxtu8"})((({theme:{colors:e},isNotLoaded:t})=>[Object.assign({width:"100%",height:"100%",objectFit:"cover"},t?{backgroundColor:e.TextTertiary}:{})]),"label:ImgCoverImage;"),h=(0,i.default)("div",{target:"e1cbfxtu9"})({display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100%",height:"100%",top:0,left:0,backgroundColor:"rgba(0, 0, 0, .5)"},"label:DivViolationMask;"),x=(0,i.default)("span",{target:"e1cbfxtu10"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"70%",float:"left"},"label:SpanReportBoxRow;")},41730:(e,t,o)=>{o.d(t,{$B:()=>r,BQ:()=>c,_k:()=>d,bK:()=>n,he:()=>l,zC:()=>s});var i=o(62186),a=o(63809);const r=(0,i.default)("div",{target:"ewcaboj0"})((({theme:{direction:e,colors:t},isModalOnLeft:o})=>[{width:"400px",borderRadius:"8px",backgroundColor:t.BGPrimary},o?{direction:"ltr"===e?"rtl":"ltr"}:{direction:e}]),"label:DivReportOptionsModal;"),n=(0,i.default)("div",{target:"ewcaboj2"})({padding:"18px 16px"},"label:DivReportOptionsContainer;"),l=(0,i.default)("div",{target:"ewcaboj3"})((({})=>[{display:"flex",flexDirection:"column",gap:"30px"}]),"label:DivOptionsContainer;"),s=(0,i.default)("div",{target:"ewcaboj4"})((({theme:{colors:e}})=>[{display:"flex",flexDirection:"row",color:e.TextPrimary,fontWeight:600,fontSize:"16px",lineHeight:"24px",alignItems:"center",cursor:"pointer"}]),"label:DivOptionsContainerRow;"),d=(0,i.default)("div",{target:"ewcaboj5"})({DivArrowContainer:a.MH,marginInlineStart:"auto",height:"16px"},"label:DivReportOptionsArrowContainer;"),c=(0,i.default)("div",{target:"ewcaboj6"})((({theme:{direction:e},isModalOnLeft:t})=>[Object.assign({position:"absolute",bottom:"0px",left:"-403px",boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",borderRadius:"8px"},(t&&"ltr"===e||!t&&"rtl"===e)&&{right:"-403px",left:"initial"})]),"label:DivFloatingContainer;")},29793:(e,t,o)=>{o.d(t,{Ve:()=>A,$4:()=>I,Pz:()=>L,hf:()=>z,VO:()=>B,K0:()=>O,Se:()=>F,Re:()=>U});var i=o(58632),a=o(64162),r=o(4126),n=o(93995),l=o(42051),s=o(35626),d=o.n(s),c=o(23999),p=o(46657),u=o(26324),g=o(24451),h=o(8536),x=o(95719),v=o(74690),m=o(80339),_=o(35572),f=o(20259),b=o(44815),y=o(11983),j=o(64356),w=o(17566),S=o(97164);const k=({reportTarget:e,getVideoPath:t})=>{if(!e)return null;const{report_type:o,video_owner:i,video_id:a,object_id:r}=e;let n=null;if(a&&i){const l=t({uniqueId:null==i?void 0:i.uniqueId,videoId:a,secUid:null==i?void 0:i.secUid,isPhotomode:e.aweme_type===w.Rj});n=`${location.origin}${l}`,"comment"===o&&(n=`${n}&cid=${(0,S.X)(r)}`)}return n};var D,C=o(82512),T=o(44304),P=o(52333),R=o(85612);!function(e){e[e.Normal=0]="Normal",e[e.Bully=1]="Bully",e[e.Legal=2]="Legal",e[e.Spam=3]="Spam",e[e.UserPretend=4]="UserPretend",e[e.UserProfile=5]="UserProfile",e[e.Netzdg=6]="Netzdg",e[e.Kopig=7]="Kopig",e[e.Avia=8]="Avia"}(D||(D={}));const I=[112,212,9014],A=[222,9015],U=({reportTarget:e},t)=>{const o=k({reportTarget:e,getVideoPath:t});return"https://www.tiktok.com/legal/report/NetzDG?lang=de"+(o?`&reporturl=${encodeURIComponent(o)}`:"")},O=({reportTarget:e},t)=>{const o=k({reportTarget:e,getVideoPath:t});return"https://www.tiktok.com/legal/report/lcen?lang=fr"+(o?`&reporturl=${encodeURIComponent(o)}`:"")},F=({reportTarget:e},t)=>{const o=k({reportTarget:e,getVideoPath:t});return"https://www.tiktok.com/legal/copyright-policy"+(o?`?report_url=${encodeURIComponent(o)}`:"")},L={hideArrow:"hideArrow",hideReportBox:"hideReportBox",avia:"avia",pretend:"pretend",bully:"bully",showDesc:"showDesc",requireDesc:"requireDesc",requireImage:"requireImage",hideBlockUser:"hideBlockUser",needLogin:"needLogin",webappNeedLoginLegal:"webappNeedLoginLegal",webappNeedLoginNetzdg:"webappNeedLoginNetzdg",webappNeedLoginAvia:"webappNeedLoginAvia"};var H;!function(e){e[e.Reason=0]="Reason",e[e.Normal=1]="Normal",e[e.Kopig=2]="Kopig",e[e.User=3]="User",e[e.BlockUser=4]="BlockUser",e[e.Finish=5]="Finish",e[e.Ftcreport=6]="Ftcreport",e[e.ImageDesc=7]="ImageDesc",e[e.Old=8]="Old",e[e.DSA=9]="DSA",e[e.ChooseCountry=10]="ChooseCountry",e.SearchSomeone="search_someone",e.DescTextarea="desc_textarea",e.OnlyDesc="only_desc"}(H||(H={}));const B={User:3,Desc:1,NETZDG:2,Old:8,Counterfeit:7,DSA:9,search_someone:"search_someone",desc_textarea:"desc_textarea",only_desc:"only_desc"};let z=class extends a.E{constructor(e,t,o,i){super(),this.service=e,this.searchEntry=t,this.itemModule=o,this.t=i,this.defaultState={reasons:null,config:{},showing:!1,loading:!1,requesting:void 0,reportTarget:null,lastStatus:-1,PageState:0,PageStateData:void 0,PreState:[],UserData:{selectedReason:void 0,submitresult:void 0,HistoryReason:[]},blockedVideos:[],reasonsAPIVersion:2,choosenDSACountry:void 0,DSACountriesList:[],submitCallback:void 0}}setSubmitCallback(e,t){e.submitCallback=t}setConfig(e,t){e.config=t}setChoosenDSACountry(e,t){e.choosenDSACountry=t}setDSACountriesList(e,t){e.DSACountriesList=[...t]}setReasonsAPIVersion(e,t){e.reasonsAPIVersion=t}setReportTarget(e,t){e.reportTarget=t}judgeFtc(e,t){"kid_mode_video"===t.report_type&&(e.PageState=6)}setReasons(e,t){e.reasons=t,e.PageStateData={reasons:t}}addBlockVideo(e,t){e.blockedVideos.includes(t)||e.blockedVideos.push(t)}removeBlockVideo(e,t){e.blockedVideos=e.blockedVideos.filter((e=>e!==t))}setLoading(e,t){e.loading=t}getDSACountries(e){return e.pipe((0,g.E)(this.state$),(0,h.Z)((()=>this.service.getDSACountries().pipe((0,x.M)((({body:e})=>{e.data.length||y.F.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})})),(0,h.Z)((e=>0===e.statusCode?(0,c.of)(this.getActions().setDSACountriesList(e.body.data)):(0,c.of)(this.getActions().setDSACountriesList([]))))))))}getReasons(e){return e.pipe((0,g.E)(this.state$),(0,h.Z)((([e,t])=>{var o,i;if(d()(e,t.reportTarget)&&t.reasons&&(null===(o=t.reasons)||void 0===o?void 0:o.length)>0)return(0,c.of)(this.getActions().setReasons(t.reasons),this.getActions().setConfig(null!==(i=null==t?void 0:t.config)&&void 0!==i?i:{}));const{report_type:a,lang:r,object_id:n}=e;return(0,R.Pl)(a)?this.service.getLiveReportReasons({report_type:a,lang:r,object_id:n,api_version:t.reasonsAPIVersion}).pipe((0,x.M)((({data:e})=>{(null==e?void 0:e.data.length)||y.F.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})})),(0,h.Z)((e=>{var t,o;return(0,c.of)(this.getActions().setReasons(null!==(o=null===(t=e.data)||void 0===t?void 0:t.data)&&void 0!==o?o:[]))})),(0,v.Z)(this.getActions().setLoading(!0)),(0,m.q)(this.getActions().setLoading(!1))):this.service.getReportReasons(Object.assign(Object.assign({report_type:a,lang:r},!1===["sug_recommend","suggestion"].includes(a)&&{object_id:n}),{api_version:t.reasonsAPIVersion})).pipe((0,x.M)((({body:e})=>{e.length||y.F.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})})),(0,h.Z)((o=>{var i,a,r,n;if(0===o.statusCode){let l=null!==(i=o.body)&&void 0!==i?i:[];"user"===e.report_type&&2===t.reasonsAPIVersion&&(l=null!==(r=null===(a=l.find((e=>9101===e.reason_type)))||void 0===a?void 0:a.next_reason)&&void 0!==r?r:l);const s=JSON.parse(null!==(n=null==o?void 0:o.config)&&void 0!==n?n:"{}");return(0,c.of)(this.getActions().setReasons(l),this.getActions().setConfig(null!=s?s:{}))}return(0,c.of)(this.getActions().setReasons([]))})),(0,v.Z)(this.getActions().setLoading(!0)),(0,m.q)(this.getActions().setLoading(!1)))})))}handleNextReason(e){return e.pipe((0,g.E)(this.state$),(0,x.M)((([{reason_id:e},{reportTarget:t}])=>{const{object_id:o="",report_type:i=""}=null!=t?t:{};b.o.handleReportNext({object_id:o,object_type:i,reason_id:e})})),(0,h.Z)((([{nextReason:e},{PageStateData:t,PageState:o}])=>(0,c.of)(this.getActions().setPageStateData({reasons:e}),this.getActions().appendToPreState({state:o,data:t})))))}handleNextForm(e){return e.pipe((0,g.E)(this.state$),(0,h.Z)((([e,{PageStateData:t,PageState:o}])=>(0,c.of)(this.getActions().setPageState(e),this.getActions().setPageStateData({}),this.getActions().appendToPreState({state:o,data:t})))))}setShowing(e,t){e.showing=t}showDSAReport(e){return e.pipe((0,h.Z)((({reportReasons:e,reportTarget:t,selectedReason:o})=>(0,c.of)(this.getActions().setReasons(e),this.getActions().setUserData({selectedReason:o}),this.getActions().setReasonsAPIVersion(3),this.getActions().setReportTarget(t)))))}showReport(e){return e.pipe((0,h.Z)((e=>(0,c.of)(this.getActions().setShowing(!0),this.getActions().judgeFtc(e),this.getActions().getReasons(e),this.getActions().setReportTarget(e)))))}hideReport(e){return e.pipe((0,h.Z)((()=>(0,c.of)(this.getActions().setShowing(!1)))))}setRequesting(e,t){e.requesting=t}setLastStatus(e,t){e.lastStatus=t}postReport(e){return e.pipe((0,g.E)(this.state$),(0,_.p)((([{reason:e,extraData:t,region:o,uid:i,loggedOut:a,wid:r,callbackFn:n},{reportTarget:l,UserData:s,PageState:d,submitCallback:u}])=>{var g;if(!l)return p.w;const x=8===(null===(g=null==s?void 0:s.selectedReason)||void 0===g?void 0:g.special_type),_=(0,R.Pl)(l.report_type),y={};Array.isArray(e)&&"kid_mode_video"===l.report_type&&(y.additional_reasons=`%5B${e.join(",")}%5D`,e=e[0]);const j=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({app_name:"tiktok_web",aid:1988,current_region:o,reporter_id:i,reason:e},l),{target:l.object_id}),t),{report_type:"kid_mode_video"===l.report_type?"video":l.report_type}),y);return this.service.postReport(j,_).pipe((0,f.W)((()=>(0,c.of)({status_code:-1}))),(0,h.Z)((t=>{var o,p,g,h,v,m,_,f,y,j,w;if((null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.need_captcha)&&(null===(p=null==t?void 0:t.data)||void 0===p?void 0:p.decision_conf)&&n)return(0,R.Vb)(r,t.data,n),(0,c.of)(this.noop());if(u)return null==u||u(t),(0,c.of)(this.noop());let S;switch(t.status_code){case 90002:S={title:this.t("Web_report_thanks_for_report"),content:this.t("Web_report_report_detail"),button:this.t("live_close"),success:!1};break;case 0:S={title:this.t("Web_report_thanks_for_report"),content:x?this.t("avia_law_report_received_confirm"):9===d?a?this.t("dsa_illegal_report_received_confirm_logout"):this.t("dsa_illegal_report_received_confirm"):this.t("Web_report_report_detail"),button:this.t("pm_mt_live_done"),success:!0};break;default:S={title:this.t("Web_report_report_for_error"),content:this.t("Sorry, something wrong with the server, please try again."),button:this.t("live_close"),success:!1}}if(0===t.status_code){const{object_id:t,report_type:o}=l;b.o.handleReportSubmit({object_id:t,object_type:o,reason_id:e}),"suggestion"!==l.report_type&&"sug_recommend"!==l.report_type||b.o.handleReportSugSubmit({report_reason:null===(g=s.selectedReason)||void 0===g?void 0:g.text,reason_code:e.toString(),impr_id:null===(h=l.suggestion_extra)||void 0===h?void 0:h.impr_id,feedback_id:null===(v=l.suggestion_extra)||void 0===v?void 0:v.feedback_id,group_id:null===(m=l.suggestion_extra)||void 0===m?void 0:m.group_id,sug_type:null===(_=l.suggestion_extra)||void 0===_?void 0:_.sug_type,raw_query:null===(f=l.suggestion_extra)||void 0===f?void 0:f.raw_query,words_content:null===(y=l.suggestion_extra)||void 0===y?void 0:y.words_content,words_position:null===(j=l.suggestion_extra)||void 0===j?void 0:j.words_position,words_source:null===(w=l.suggestion_extra)||void 0===w?void 0:w.words_source})}return"video"===l.report_type&&0===t.status_code&&l.object_id?(0,c.of)(this.getActions().addBlockVideo(l.object_id),this.getActions().setLastStatus(t.status_code),this.getActions().setPageState(5),this.getActions().setUserData({submitresult:S}),this.searchEntry.getActions().setBlockListByUid({uid:i,blockId:l.object_id,blockType:"videoIdList"}),this.itemModule.getActions().addMlModelTrainData({id:l.object_id,action:"report"})):(0,c.of)(this.getActions().setLastStatus(t.status_code),this.getActions().setPageState(5),this.getActions().setUserData({submitresult:S}))})),(0,v.Z)(this.getActions().setRequesting(!0)),(0,m.q)(this.getActions().setRequesting(!1)))})))}setPageState(e,t){e.PageState=t}appendToPreState(e,t){e.PreState.push(t)}removeFromPreState(e){e.PreState.pop()}resetPreState(e){e.PreState=[]}setUserData(e,t){e.UserData=Object.assign(Object.assign({},e.UserData),t)}setPageStateData(e,t){e.PageStateData=t}resetState(e){return e.pipe((0,h.Z)((e=>(0,c.of)(this.getActions().resetPreState(),this.getActions().setUserData({selectedReason:void 0,HistoryReason:[]}),this.getActions().setPageState(0),this.getActions().setPageStateData(null),this.getActions().setSubmitCallback(void 0)))))}popHistoryReason(e){return e.pipe((0,g.E)(this.state$),(0,h.Z)((([e,{UserData:t}])=>{var o;const i=[...null!==(o=t.HistoryReason)&&void 0!==o?o:[]];return i.pop(),(0,c.of)(this.getActions().setUserData({HistoryReason:i}))})))}handlePrevStep(e){return e.pipe((0,g.E)(this.state$),(0,h.Z)((([e,{PreState:t}])=>{if(0===t.length)return p.w;const{state:o,data:i}=t[t.length-1];return(0,c.of)(this.getActions().popHistoryReason(),this.getActions().setPageState(o),this.getActions().setPageStateData(i),this.getActions().removeFromPreState())})))}};(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setSubmitCallback",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setConfig",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setChoosenDSACountry",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Array]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setDSACountriesList",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Number]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setReasonsAPIVersion",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setReportTarget",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"judgeFtc",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Array]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setReasons",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,String]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"addBlockVideo",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,String]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"removeBlockVideo",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setLoading",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"getDSACountries",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"getReasons",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"handleNextReason",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"handleNextForm",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setShowing",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"showDSAReport",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"showReport",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"hideReport",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setRequesting",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Number]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setLastStatus",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"postReport",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setPageState",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"appendToPreState",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"removeFromPreState",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"resetPreState",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setUserData",null),(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"setPageStateData",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"resetState",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"popHistoryReason",null),(0,i.__decorate)([(0,r.Mj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[u.c]),(0,i.__metadata)("design:returntype",void 0)],z.prototype,"handlePrevStep",null),z=(0,i.__decorate)([(0,n.n)("Report"),(0,i.__param)(3,(0,l.y)(j.hp)),(0,i.__metadata)("design:paramtypes",[T.G,C.Zr,P.k,Function])],z)},44304:(e,t,o)=>{o.d(t,{G:()=>s});var i=o(58632),a=o(38203),r=o(23999),n=o(26325),l=o(39228);let s=class{constructor(e){this.fetch=e}getReportReasons(e){return this.fetch.get("/node/report/reasons",{query:e,baseUrlType:2})}getLiveReportReasons(e){return this.fetch.get("/webcast/v3/feedback/reasons/",{query:e,baseUrlType:4})}getDSACountries(){return this.fetch.get("/tns-api/report/dsa",{baseUrlType:2})}postReport(e,t){return t?this.fetch.post("/webcast/v1/aweme/feedback/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},baseUrlType:4}):this.fetch.get("/aweme/v2/aweme/feedback/",{query:e,baseUrlType:2})}uploadImage(e){if(0===e.length)return(0,r.of)({data:[],statusCode:0});const t=new FormData;for(let o=0;o<e.length;o++){const i=e[o];t.append("type",i.type),t.append("size",`${i.size}`),t.append("name",i.name),t.append("height",i.height),t.append("width",i.width),t.append(`file${o}`,i,i.name)}return this.fetch.post("/node/feedback/upload_image/",{body:t,headers:{[n.nk]:this.fetch.csrfToken},baseUrlType:2,omitContentType:!0})}getTustedFlaggerState(){return this.fetch.get("/trusted_flagger/check/v1",{})}unbindTrustedFlagger(){return this.fetch.delete("/trusted_flagger/unbind/v1",{})}};s=(0,i.__decorate)([(0,a._)(),(0,i.__metadata)("design:paramtypes",[l.pM])],s)},98910:(e,t,o)=>{o.d(t,{Ah:()=>h,Hs:()=>p,gQ:()=>g});var i=o(24643),a=o(46682),r=o(40099),n=o(44815),l=o(20157),s=o(29793),d=o(37361);const c=["video","music","hashtag","photo_mode","comment","user","suggestion","sug_recommend","live","video_page_tag"],p=3,u=2,g=(0,r.memo)((function({onClose:e,reportTarget:t,onBack:o,reasonList:n,setPage:l,selectedReason:g,useBack:h,onSubmit:x}){const v=(0,a.w)(s.hf);c.includes(t.report_type)||n?v.setReasonsAPIVersion(p):v.setReasonsAPIVersion(u),v.setReportTarget(t),void 0===n?v.getReasons(t):v.setReasons(n),g&&v.setUserData({selectedReason:g});const m=(0,r.useCallback)((()=>{null==e||e()}),[e]);return(0,i.jsx)(d.p,{onClose:m,setPage:l,asComponent:!0,onBack:o,useBack:h,onSubmit:x})}));function h({onShow:e,reportTarget:t}){const{showModal:o}=(0,l.g)(),i=(0,a.w)(s.hf);return{handleShowReport:(0,r.useCallback)((a=>{null==e||e(a),o(),c.includes(t.report_type)?i.setReasonsAPIVersion(p):i.setReasonsAPIVersion(u),i.showReport(t),n.o.handleShowReport({object_type:t.report_type,type:t.report_type,object_id:t.object_id,play_mode:t.play_mode,poi_id:t.poi_id,aweme_type:t.aweme_type,pic_cnt:t.pic_cnt,is_sub_only_video:t.is_sub_only_video,suggestion_extra:t.suggestion_extra,report_content:t.tag_content})}),[i,e,t,o])}}},37361:(e,t,o)=>{o.d(t,{p:()=>sa});var i=o(24643),a=o(46682),r=o(41271),n=o(40099),l=o(68652),s=o(12527),d=o(54622),c=o(25616),p=o(95481),u=o(47926),g=o(89311),h=o(29793),x=o(73580),v=o(11983),m=o(91543),_=o(62186);const f=(0,_.default)("div",{target:"eyl260m0"})((({theme:e})=>({minHeight:"226px",width:"400px",background:e.colors.BGPrimary,borderRadius:"8px",boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",padding:"32px"})),"label:DivWapper;"),b=(0,_.default)("div",{target:"eyl260m1"})((({theme:e})=>({minHeight:"32px",width:"100%",textAlign:"center",lineHeight:"32px",fontSize:"24px",color:e.colors.TextPrimary})),"label:DivTitle;"),y=(0,_.default)("div",{target:"eyl260m2"})((({theme:e})=>({margin:"16px 0px 24px",width:"100%",textAlign:"center",lineHeight:"22px",fontSize:"16px",color:e.colors.TextSecondary})),"label:DivDetail;"),j=(0,_.default)("div",{target:"eyl260m3"})({display:"flex",justifyContent:"space-between"},"label:DivContain;"),w=(0,_.default)("button",{target:"eyl260m4"})((({theme:e,active:t})=>({width:"164px",height:"46px",flex:"0 1 auto",borderRadius:"4px",padding:"12px 0px",textAlign:"center",fontSize:"16px",cursor:"pointer",lineHeight:"16px",color:t?e.colors.Primary:e.colors.TextPrimary,backgroundColor:e.colors.BGSecondary2,border:` 1px solid ${t?e.colors.Primary:e.colors.TextPrimary}`})),"label:ButtonC;"),S=e=>{var t,o,a;const l=(0,c.s)(),s=(0,x.Nj)(m.D),{onClose:d}=e,p=(0,r.P)(h.hf,{selector:e=>{const{UserData:t,reportTarget:o}=e;return{UserData:t,reportTarget:o}},dependencies:[]}),u=(0,n.useCallback)((e=>{var t,o;s.blockUser({sec_user_id:null!==(o=null===(t=p.reportTarget)||void 0===t?void 0:t.secUid)&&void 0!==o?o:"",block_type:1}).subscribe((e=>{0===e.status_code&&(d(),v.F.open({content:l("Blocked"),duration:3,widthType:"half"}))}))}),[d,null===(t=p.reportTarget)||void 0===t?void 0:t.secUid,s,l]);return(0,i.jsxs)(f,{children:[(0,i.jsx)(b,{children:l("Web_report_block_who",{username:null===(o=p.reportTarget)||void 0===o?void 0:o.nickname})}),(0,i.jsx)(y,{children:l("Web_report_block_detail",{username:null===(a=p.reportTarget)||void 0===a?void 0:a.nickname})}),(0,i.jsxs)(j,{children:[(0,i.jsx)(w,{active:!1,onClick:e.onClose,children:l("copyright_check_post_popup_cancel")}),(0,i.jsx)(w,{active:!0,onClick:u,children:l("webdm_block")})]})]})};var k=o(67518),D=o(71615),C=o(26722),T=o(23359),P=o(84827),R=o(84987);const I={id:"Eye-6958131c",use:"Eye-6958131c-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="Eye-6958131c"><path fill-rule="evenodd" d="M16.667 10c0 .918-.53 1.919-1.73 2.76C13.74 13.595 12 14.165 10 14.165s-3.741-.57-4.937-1.407c-1.2-.84-1.73-1.841-1.73-2.76 0-.917.53-1.918 1.73-2.759C6.26 6.404 8 5.833 10 5.833s3.741.57 4.937 1.407c1.2.84 1.73 1.842 1.73 2.76m1.666 0c0 3.222-3.73 5.833-8.333 5.833S1.667 13.222 1.667 10 5.397 4.167 10 4.167 18.333 6.778 18.333 10m-7.083 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0m1.667 0a2.917 2.917 0 1 1-5.834 0 2.917 2.917 0 0 1 5.834 0" clip-rule="evenodd" /></symbol>'};function A(e){const t=(0,n.useContext)(R.X);return(0,n.useLayoutEffect)((()=>(t.add(I),()=>{t.remove("Eye-6958131c")})),[]),(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,i.jsx)("use",{xlinkHref:"#Eye-6958131c"},void 0)}),void 0)}const U={id:"Speaker_2_LTR-89f7aa08",use:"Speaker_2_LTR-89f7aa08-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="Speaker_2_LTR-89f7aa08"><path fill-rule="evenodd" d="M8.473 3.488a1.25 1.25 0 0 1 1.944 1.04v10.943a1.25 1.25 0 0 1-1.944 1.04L4.331 13.75H2.5c-.69 0-1.25-.56-1.25-1.25v-5c0-.69.56-1.25 1.25-1.25h1.831zm.277 1.819-3.704 2.47a.83.83 0 0 1-.463.14H2.917v4.166h1.666c.165 0 .326.049.463.14l3.704 2.47zm5 4.693c0-1.017-.405-1.94-1.063-2.616a.455.455 0 0 1-.042-.604l.529-.644a.393.393 0 0 1 .576-.045A5.4 5.4 0 0 1 15.417 10c0 1.536-.64 2.924-1.667 3.909a.393.393 0 0 1-.576-.046l-.53-.643a.455.455 0 0 1 .043-.604A3.74 3.74 0 0 0 13.75 10m1.673-5.396a.44.44 0 0 0 .038.597A6.65 6.65 0 0 1 17.501 10a6.65 6.65 0 0 1-2.04 4.799.44.44 0 0 0-.038.597l.54.634a.4.4 0 0 0 .58.04A8.3 8.3 0 0 0 19.167 10c0-2.393-1.01-4.55-2.624-6.07a.4.4 0 0 0-.58.04z" clip-rule="evenodd" /></symbol>'};function O(e){const t=(0,n.useContext)(R.X);return(0,n.useLayoutEffect)((()=>(t.add(U),()=>{t.remove("Speaker_2_LTR-89f7aa08")})),[]),(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,i.jsx)("use",{xlinkHref:"#Speaker_2_LTR-89f7aa08"},void 0)}),void 0)}const F={id:"Thumbs_Up-1543f508",use:"Thumbs_Up-1543f508-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="Thumbs_Up-1543f508"><path fill-rule="evenodd" d="M10.724 17.896c-.497.27-1.145.346-1.752-.02a3.02 3.02 0 0 1-1.462-2.584v-2.08H3.977a2.29 2.29 0 0 1-2.284-2.631l1.005-6.552a2.29 2.29 0 0 1 2.284-1.945H15.38a2.515 2.515 0 0 1 2.53 2.176 1 1 0 0 1 .007.112v5.096a1 1 0 0 1-.008.111c-.163 1.206-1.203 2.276-2.529 2.257h-1.4l-2.211 4.9c-.21.468-.573.904-1.045 1.16m3.55-7.724h1.127c.365.006.765-.312.85-.77V4.438a.85.85 0 0 0-.86-.689h-1.117zM12.61 3.749H4.968a.624.624 0 0 0-.624.53v.001L3.34 10.83a.623.623 0 0 0 .624.718h4.38c.46 0 .833.372.833.832v2.912a1.35 1.35 0 0 0 .675 1.168h.003a.2.2 0 0 0 .075-.027.8.8 0 0 0 .319-.376l.002-.004 2.36-5.228z" clip-rule="evenodd" /></symbol>'};function L(e){const t=(0,n.useContext)(R.X);return(0,n.useLayoutEffect)((()=>(t.add(F),()=>{t.remove("Thumbs_Up-1543f508")})),[]),(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,i.jsx)("use",{xlinkHref:"#Thumbs_Up-1543f508"},void 0)}),void 0)}var H=o(49057),B=o(54502);const z=(0,_.default)("label",{target:"e1d46yfg0"})((({theme:e})=>({display:"flex",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"16px",color:e.colors.TextSecondary,cursor:"pointer"})),"label:LabelCheckbox;"),W=(0,_.default)("div",{target:"e1d46yfg1"})((({size:e})=>({color:"#fff",position:"relative",height:`${e}px`,width:`${e}px`,lineHeight:`${e}px`,marginInlineEnd:"8px"})),"label:DivCheckboxSymbol;"),N=(0,_.default)("input",{target:"e1d46yfg2"})((({selected:e,bordertype:t,theme:o,size:i})=>Object.assign(Object.assign({appearance:"none",width:`${i}px`,height:`${i}px`,border:`1.5px solid ${o.colors.LineSecondary}`,margin:"0 10px -2.5px 0"},e?{border:"none",backgroundColor:o.colors.Primary}:{}),"radio"===t?{borderRadius:"50%"}:{borderRadius:"2px"})),"label:InputCheckbox;"),E=(0,_.default)("div",{target:"e1d46yfg3"})((({size:e})=>({pointerEvents:"none",position:"absolute",left:`calc(50% - (${e}px * 0.618) / 2 + 0.5px)`,top:`calc(50% - (${e}px * 0.455) / 2 + 0.04px)`,width:`calc(${e}px * 0.618)`,height:`calc(${e}px * 0.455)`,lineHeight:"0px"})),"label:DivCheckboxIcon;"),M=(0,n.memo)((function({id:e,value:t,label:o,onChange:a,bordertype:r="radio",style:l={},size:s=22}){const d=(0,n.useCallback)((e=>{a&&a(e.target.checked)}),[a]);return(0,i.jsxs)(z,{htmlFor:e,style:l,children:[(0,i.jsxs)(W,{size:s,className:"checkbox-symbol"+(t?" selected":""),children:[(0,i.jsx)(N,{bordertype:r,selected:t,id:e,checked:t,type:"checkbox",size:s,onChange:d}),t&&(0,i.jsx)(E,{size:s,children:(0,i.jsx)(B.A,{width:.618*s,height:.455*s})})]}),o]})}));var q=o(31367);const V=(0,_.default)("div",{target:"e9ly1o60"})((({theme:e})=>({width:"400px",minHeight:"394px",background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden"})),"label:DivWapper;"),$=(0,_.default)("div",{target:"e9ly1o61"})((({theme:e})=>({width:"100%",padding:"32px",textAlign:"center",lineHeight:"32px",fontSize:"24px",color:e.colors.TextPrimary})),"label:DivTitle;"),G=(0,_.default)("div",{target:"e9ly1o62"})({display:"inline-block",verticalAlign:"middle",marginRight:"8px"},"label:DivIcon;"),J=(0,_.default)("div",{target:"e9ly1o63"})((({theme:e})=>({height:"52px",margin:"0 33px",position:"relative",textAlign:"center",lineHeight:"52px",fontSize:"16px",color:e.colors.TextPrimary,borderBottom:`solid 1px ${e.colors.LineSecondary}`})),"label:DivRow;"),K=(0,_.default)("div",{target:"e9ly1o64"})((({theme:e})=>({height:"32px",paddingTop:"12px",marginBottom:"110px",textAlign:"center",lineHeight:"20px",fontSize:"14px",color:e.colors.Negative})),"label:DivReminder;"),Z=(0,_.default)("div",{target:"e9ly1o65"})({height:"100%",float:"left",paddingLeft:"32px"},"label:DivReasonText;"),Y=(0,_.default)("div",{target:"e9ly1o66"})({display:"flex",justifyContent:"space-between",position:"absolute",bottom:"0",width:"100%",padding:"32px"},"label:DivContain;"),Q=(0,_.default)("button",{target:"e9ly1o67"})((({theme:e,active:t,cancel:o})=>({width:"164px",height:"46px",flex:"0 1 auto",borderRadius:"4px",padding:"12px 0px",textAlign:"center",fontSize:"16px",cursor:"pointer",lineHeight:"16px",color:o?e.colors.TextPrimary:t?e.colors.ConstTextInverse:e.colors.TextQuaternary,backgroundColor:o?e.colors.BGSecondary2:t?e.colors.Primary:e.colors.BGInput2,border:o?`1px solid ${e.colors.LineSecondary2}`:"none"})),"label:ButtonC;"),X=(0,_.default)("div",{target:"e9ly1o68"})((({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`})),"label:DivMid;"),ee=(0,_.default)("div",{target:"e9ly1o69"})({position:"absolute",top:"18px",left:"0px",height:"20px",lineHeight:"20px"},"label:DivSvg;"),te=(0,_.default)("button",{target:"e9ly1o610"})((({theme:e})=>({width:"240px",height:"44px",margin:"80px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"})),"label:ButtonRetry;"),oe=20,ie=e=>{var t,o,l,s,d;const p=(0,c.s)(),{colors:u}=(0,k.u)(),[g,x]=(0,n.useState)(!1),[v,m]=(0,n.useState)([]),[_,f]=(0,n.useState)(!1),b=(0,a.w)(h.hf),y=(0,r.P)(h.hf,{selector:e=>{const{lastStatus:t,requesting:o,loading:i,PageState:a,PageStateData:r,UserData:n,reportTarget:l}=e;return{lastStatus:t,requesting:o,loading:i,PageState:a,PageStateData:r,UserData:n,reportTarget:l}},dependencies:[]}),j=(0,n.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),y.reportTarget&&b.getReasons(y.reportTarget)}),[b,y.reportTarget]),w=(0,n.useCallback)((e=>t=>{t.preventDefault(),t.stopPropagation();const o=v.indexOf(e);if(o>-1){const e=[...v];e.splice(o,1),m(e),x(e.length>0)}else{const t=[...v,e];m(t),f(0===t.length),x(t.length>0)}}),[v]),{region:S="",user:R}=null!==(t=(0,H.W)((()=>["region","user"]),[]))&&void 0!==t?t:{},I=(0,n.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),v.length>0?b.postReport({reason:v,extraData:null,region:S,uid:null==R?void 0:R.uid}):f(!0)}),[b,v,S,null==R?void 0:R.uid]),U=e=>0===e?(0,i.jsx)(ee,{children:(0,i.jsx)(A,{width:oe,height:oe})}):1===e?(0,i.jsx)(ee,{children:(0,i.jsx)(O,{width:oe,height:oe})}):(0,i.jsx)(ee,{children:(0,i.jsx)(L,{width:oe,height:oe})});return(0,i.jsx)(V,{children:y.loading?(0,i.jsx)(q.TU,{children:(0,i.jsx)(P.R,{})}):0===(null===(l=null===(o=y.PageStateData)||void 0===o?void 0:o.reasons)||void 0===l?void 0:l.length)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(X,{top:57,children:(0,i.jsx)(D.A,{width:72,height:72})}),(0,i.jsx)(X,{top:20,style:{fontSize:"18px",lineHeight:"24px",color:u.TextPrimary},children:p("pm_mt_live_page_sth_wrong")}),(0,i.jsx)(X,{top:12,style:{fontSize:"16px",lineHeight:"22px",color:u.TextSecondary},children:p("pm_mt_live_page_try_again")}),(0,i.jsxs)(te,{onClick:j,children:[(0,i.jsx)(C.A,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}}),p("report_inbox_retry_btn")]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)($,{children:p("km_report_question")}),null===(d=null===(s=y.PageStateData)||void 0===s?void 0:s.reasons)||void 0===d?void 0:d.map(((e,t)=>(0,i.jsxs)(J,{onClick:w(e.reason_type),children:[U(t),(0,i.jsx)(Z,{children:e.text}),(0,i.jsx)(M,{style:{position:"absolute",right:"-22px",top:"15px"},bordertype:"checkbox",label:"",value:v.includes(e.reason_type)})]},e.reason_type))),_?(0,i.jsxs)(K,{children:[(0,i.jsx)(G,{children:(0,i.jsx)(T.A,{width:14,height:14})}),(0,i.jsx)("span",{children:p("km_pick_reason")})]}):null,(0,i.jsxs)(Y,{children:[(0,i.jsx)(Q,{cancel:!0,active:!1,onClick:e.onClose,children:p("copyright_check_post_popup_cancel")}),(0,i.jsx)(Q,{cancel:!1,active:g,onClick:I,children:p("choosepassword_button")})]})]})})};var ae=o(41077),re=o.n(ae),ne=o(73635),le=o(90046),se=o(44304),de=o(20157);const ce=(0,_.default)("div",{target:"e1fkwyf80"})({position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:3001},"label:DivPreviewImageContainer;"),pe=(0,_.default)("div",{target:"e1fkwyf81"})((({theme:e})=>({position:"absolute",left:0,top:0,right:0,bottom:0,background:e.colors.SDPrimary})),"label:DivMaskContainer;"),ue=(0,_.default)("div",{target:"e1fkwyf82"})({position:"absolute",zIndex:1,left:0,top:0,right:0,bottom:0},"label:DivImageContainer;"),ge=(0,_.default)("div",{target:"e1fkwyf83"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"692px",height:"810px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"contain"},"label:DivPreviewImage;"),he=(0,_.default)("div",{target:"e1fkwyf84"})((({theme:e})=>({position:"absolute",top:"20px",right:"20px",width:"48px",height:"48px",borderRadius:"24px",backgroundColor:e.colors.ConstTextInverse5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7}})),"label:DivIconClose;"),xe={position:"absolute",top:"50%",transform:"translateY(-50%)",width:"48px",height:"48px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:.5,":hover":{opacity:1}},ve=(0,_.default)("div",{target:"e1fkwyf85"})(Object.assign(Object.assign({},xe),{left:"32px"}),"label:DivIconPrev;"),me=(0,_.default)("div",{target:"e1fkwyf86"})(Object.assign(Object.assign({},xe),{left:"auto",right:"32px"}),"label:DivIconNext;"),_e=(0,n.memo)((function({imgList:e,defaultIndex:t,onClose:o}){const[a,r]=(0,n.useState)(t>e.length-1?e.length-1:t<0?0:t),{showModal:d,hideModal:c}=(0,de.g)();(0,n.useEffect)((()=>(d(),()=>{c()})),[d,c]);const p=(0,n.useCallback)((()=>{null==o||o()}),[o]),u=(0,n.useCallback)((()=>r((e=>e-1))),[]),g=(0,n.useCallback)((()=>r((e=>e+1))),[]);return(0,i.jsxs)(ce,{children:[(0,i.jsx)(pe,{}),(0,i.jsxs)(ue,{children:[(0,i.jsx)(ge,{style:{backgroundImage:`url(${e[a]})`}}),(0,i.jsx)(he,{onClick:p,children:(0,i.jsx)(ne.A,{height:24,width:24,fill:"#fff"})}),a>0&&(0,i.jsx)(ve,{onClick:u,children:(0,i.jsx)(s.A,{height:30,width:30,fill:"#fff"})}),a<e.length-1&&(0,i.jsx)(me,{onClick:g,children:(0,i.jsx)(l.A,{height:30,width:30,fill:"#fff"})})]})]})})),fe=(0,_.default)("div",{target:"e183km5u0"})((({theme:e})=>({fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,display:"flex",flexWrap:"wrap"})),"label:DivUploadImageContainer;"),be=(0,_.default)("div",{target:"e183km5u1"})((({theme:e,size:t})=>({boxSizing:"border-box",width:`${t}px`,height:`${t}px`,display:"flex",alignItems:"center",flexDirection:"column",background:e.colors.BGInput,borderRadius:"2px",overflow:"hidden",cursor:"pointer",paddingTop:(t-30)/2+"px"})),"label:DivImageUploadElement;"),ye=(0,_.default)("div",{target:"e183km5u2"})((({theme:e,size:t})=>({width:`${t}px`,height:`${t}px`,marginRight:"12px",position:"relative",borderRadius:"2px",overflow:"hidden",cursor:"pointer",":before":{content:'""',position:"absolute",width:"200%",height:"200%",borderRadius:"4px",border:`1px solid ${e.colors.LineSecondary}`,transform:"scale(.5)",left:"-50%",top:"-50%",boxSizing:"border-box"},img:{objectFit:"cover",zIndex:3,transform:"translateZ(10px)"}})),"label:DivImageItem;"),je=(0,_.default)("span",{target:"e183km5u3"})({position:"absolute",display:"flex",boxSizing:"border-box",padding:"5px",top:0,right:0,width:"16px",height:"16px",background:"rgba(22, 24, 35, 0.75)",borderBottomLeftRadius:"2px",cursor:"pointer"},"label:SpanClose;"),we=(0,_.default)("span",{target:"e183km5u4"})((({theme:e})=>({fontSize:"12px",lineHeight:"15px",color:e.colors.TextTertiary,marginTop:"4px"})),"label:SpanImageNumber;"),Se=(0,_.default)("input",{target:"e183km5u5"})({display:"none",width:0,height:0},"label:InputImage;"),ke=(0,_.default)("div",{target:"e183km5u6"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMid;");let De=0;const Ce=Number(1048576),Te=(e,t)=>e>=5242880?t?.1:.2:e>=1572864?t?.3:.5:e>=524288?t?.4:.6:t?.6:.8,Pe=(0,n.memo)((function({max:e,onChange:t,size:o=72}){const a=(0,x.Nj)(se.G),[r,l]=(0,n.useState)([]),[s,d]=(0,n.useState)(0),[c,p]=(0,n.useState)(!1),u=(0,n.useRef)([]),{colors:g}=(0,k.u)(),h=(0,n.useCallback)((t=>{const o=[],i=t.target.files,a=e-r.length;if(i){const e=i.length>a?a:i.length;for(let t=0;t<e;t++)if(i[t].type.match("image")){const a=new FileReader;a.readAsDataURL(i[t]),a.onload=t=>{o.push({id:De++,uri:t.target.result,uploaded:!1}),o.length===e&&l((e=>[...e,...o]))},u.current.push(i[t])}t.target.value=""}}),[e,r.length]),v=(0,n.useCallback)((e=>()=>{d(e),p(!0)}),[]),m=(0,n.useCallback)((e=>{const t=u.current[e];new(re())(t,{quality:Te(t.size),convertSize:Ce,success:o=>{u.current[e]=o,o.with=t.width,o.height=t.height,a.uploadImage([o]).subscribe((t=>{const i=[...r];i[e]=Object.assign(Object.assign(Object.assign({},i[e]),t.data[0]),{size:o.size,uploaded:!0}),l(i)}))}})}),[r,u,a]),_=e=>()=>{const t=r.slice();t.splice(e,1),l(t),u.current.splice(e,1)},f=(0,n.useCallback)((()=>{p(!1)}),[]);return(0,n.useEffect)((()=>{r.forEach(((e,t)=>{!1===r[t].uploaded&&m(t)})),t(r)}),[r,t,m]),(0,i.jsxs)("div",{children:[(0,i.jsxs)(fe,{children:[r.map(((e,t)=>(0,i.jsxs)(ye,{size:o,children:[(0,i.jsx)("img",{src:e.uri,width:o,height:o,style:e.uploaded?{}:{filter:"blur(1px)"},onClick:v(t)}),(0,i.jsx)(je,{className:"close",onClick:_(t),children:(0,i.jsx)(ne.A,{width:7,height:7,fill:"#fff"})}),e.uploaded?null:(0,i.jsx)(ke,{children:(0,i.jsx)(P.R,{size:20})})]},e.id))),c&&(0,i.jsx)(_e,{defaultIndex:s,imgList:r.map((e=>e.uri)),onClose:f}),e<=r.length?null:(0,i.jsx)("label",{htmlFor:"upload-image-file",children:(0,i.jsxs)(be,{size:o,children:[(0,i.jsx)(le.A,{height:30,width:30,fill:g.TextTertiary}),(0,i.jsxs)(we,{className:"img-number",children:[r.length,"/",e]})]})})]}),(0,i.jsx)(Se,{multiple:!0,className:"file-input",accept:"image/png,image/jpeg,image/jpg,image/bmp",type:"file",onChange:h,id:"upload-image-file"})]})})),Re=(0,_.default)("div",{target:"e11o6rhn0"})({height:"580px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivKopigContainer;"),Ie=(0,_.default)("div",{target:"e11o6rhn1"})({display:"flex",flexDirection:"column",alignItems:"stretch",padding:"0px"},"label:DivScrollContainer;"),Ae=(0,_.default)("div",{target:"e11o6rhn2"})({display:"flex",flexDirection:"row",justifyContent:"center",boxSizing:"border-box",padding:"16px 24px 12px"},"label:DivSectionHeader;"),Ue=(0,_.default)("div",{target:"e11o6rhn3"})((({theme:e})=>({display:"flex",flexDirection:"row",boxSizing:"border-box",fontSize:"16px",padding:"16px 24px",lineHeight:"22px",color:e.colors.TextSecondary,backgroundColor:e.colors.BGView,marginBottom:"8px"})),"label:DivSectionLine;"),Oe=(0,_.default)("span",{target:"e11o6rhn4"})((({theme:e})=>({flex:1,fontSize:"18px",lineHeight:"24px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary})),"label:SpanSectionTitle;"),Fe=(0,_.default)("span",{target:"e11o6rhn5"})((({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary})),"label:SpanWordCount;"),Le=(0,_.default)("textarea",{target:"e11o6rhn6"})((({theme:e})=>Object.assign(Object.assign({},(e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}))(e)),{resize:"none",height:"80px",backgroundColor:e.colors.BGPrimary})),"label:TextareaDescription;"),He=(0,_.default)("div",{target:"e11o6rhn8"})({margin:"4px 24px"},"label:DivImageUploader;"),Be=(0,_.default)("div",{target:"e11o6rhn9"})((({theme:e})=>({marginTop:"4px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"12px",color:e.colors.Primary})),"label:DivFileSizeWarning;");var ze=o(98910);const We=(0,n.memo)((function(){var e,t,o,l,s,d,p,u;const g=(0,c.s)(),x=(0,a.w)(h.hf),v=(0,r.P)(h.hf,{selector:e=>{const{UserData:t,PreState:o,reasonsAPIVersion:i}=e;return{UserData:t,PreState:o,reasonsAPIVersion:i}},dependencies:[]}),[m,_]=(0,n.useState)(""),[f,b]=(0,n.useState)([]),[y,j]=(0,n.useState)(!1),[w,S]=(0,n.useState)(!1),{region:k="",user:D}=null!==(e=(0,H.W)((()=>["region","user"]),[]))&&void 0!==e?e:{},C=null===(l=JSON.parse(null!==(o=null===(t=v.UserData.selectedReason)||void 0===t?void 0:t.option)&&void 0!==o?o:"").tags)||void 0===l?void 0:l.includes("requireDesc"),T=null===(p=JSON.parse(null!==(d=null===(s=v.UserData.selectedReason)||void 0===s?void 0:s.option)&&void 0!==d?d:"").tags)||void 0===p?void 0:p.includes("requireImage"),P=(0,n.useMemo)((()=>{var e,t,o,i,a,r,n;return v.reasonsAPIVersion===ze.Hs&&(null===(e=v.UserData)||void 0===e?void 0:e.selectedReason).reason_code?null!==(i=null===(o=null===(t=v.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_code)&&void 0!==i?i:0:null!==(n=null===(r=null===(a=v.UserData)||void 0===a?void 0:a.selectedReason)||void 0===r?void 0:r.reason_type)&&void 0!==n?n:0}),[v.reasonsAPIVersion]);(0,n.useEffect)((()=>{var e,t;(null!==(e=C&&0===m.length)&&void 0!==e?e:T&&(null!==(t=0===f.length)&&void 0!==t?t:y))?S(!1):S(!0)}),[m,f,y]);const R=(0,n.useCallback)((e=>{j(!1);for(const t of e)t.size&&t.size>20971520&&j(!0);b(e)}),[]),I=(0,n.useCallback)((e=>{e.stopPropagation()}),[]),A=(0,n.useCallback)((e=>_(e.target.value)),[]),U=(0,n.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),P&&w){const e={report_desc:m,uri:f.map((e=>e.url)).join(",")};x.postReport({reason:P,extraData:e,region:k,uid:null==D?void 0:D.uid})}}),[m,f,P,w,x]);return(0,i.jsxs)(Re,{children:[(0,i.jsxs)(Ie,{children:[(0,i.jsx)(Ue,{children:`${g("Web_report_reason_select")} ${null===(u=v.UserData.selectedReason)||void 0===u?void 0:u.text}`}),(0,i.jsxs)(Ae,{children:[(0,i.jsx)(Oe,{children:g("Web_report_description")}),(0,i.jsxs)(Fe,{children:[m.length,"/",200]})]}),(0,i.jsx)(Le,{rows:5,maxLength:200,placeholder:g("Please provide as much detail as possible"),value:m,onChange:A,onKeyDown:I}),(0,i.jsxs)(He,{children:[(0,i.jsx)(Pe,{max:4,onChange:R}),y&&(0,i.jsx)(Be,{children:g("attachment_upload_limit")})]})]}),(0,i.jsx)(q.rW,{children:(0,i.jsx)(q.jl,{disabled:!w,onClick:U,children:g("Submit")})})]})}));var Ne=o(85612);const Ee=(0,_.default)("div",{target:"egyld0v0"})({height:"580px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivKopigContainer;"),Me=(0,_.default)("div",{target:"egyld0v1"})({display:"flex",flexDirection:"column",alignItems:"stretch",padding:"0px"},"label:DivScrollContainer;"),qe=(0,_.default)("div",{target:"egyld0v2"})({display:"flex",flexDirection:"row",justifyContent:"center",boxSizing:"border-box",padding:"16px 24px 12px"},"label:DivSectionHeader;"),Ve=(0,_.default)("div",{target:"egyld0v3"})((({theme:e})=>({display:"flex",flexDirection:"row",boxSizing:"border-box",fontSize:"16px",padding:"16px 24px",lineHeight:"22px",color:e.colors.TextSecondary,backgroundColor:e.colors.BGView,marginBottom:"8px"})),"label:DivSectionLine;"),$e=(0,_.default)("span",{target:"egyld0v4"})((({theme:e})=>({flex:1,fontSize:"18px",lineHeight:"24px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary})),"label:SpanSectionTitle;"),Ge=(0,_.default)("span",{target:"egyld0v5"})((({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary})),"label:SpanWordCount;"),Je=e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}),Ke=(0,_.default)("textarea",{target:"egyld0v6"})((({theme:e})=>Object.assign(Object.assign({},Je(e)),{resize:"none",height:"80px",backgroundColor:e.colors.BGPrimary})),"label:TextareaDescription;"),Ze=(0,_.default)("input",{target:"egyld0v7"})((({theme:e})=>Object.assign(Object.assign({},Je(e)),{borderBottom:`1px solid ${e.colors.LineSecondary}`,height:"40px",backgroundColor:e.colors.BGPrimary})),"label:InputSignature;"),Ye=(0,_.default)("div",{target:"egyld0v8"})({margin:"4px 24px"},"label:DivImageUploader;"),Qe=(0,_.default)("div",{target:"egyld0v9"})((({theme:e})=>({marginTop:"4px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"12px",color:e.colors.Primary})),"label:DivFileSizeWarning;"),Xe=(0,_.default)("div",{target:"egyld0v10"})({fontSize:"16px",lineHeight:"24px",padding:"16px 24px 0"},"label:DivCheckboxConfirm;"),et=(0,_.default)("div",{target:"egyld0v11"})((({theme:e})=>({marginTop:"20px",padding:"0px 24px",fontSize:"14px",lineHeight:"20px",color:e.colors.TextSecondary})),"label:DivInfo;"),tt=(0,n.memo)((function(){var e,t;const o=(0,c.s)(),l=(0,a.w)(h.hf),s=(0,r.P)(h.hf,{selector:e=>{const{UserData:t,PreState:o,reasonsAPIVersion:i,PageState:a,reasons:r}=e;return{UserData:t,PreState:o,reasonsAPIVersion:i,PageState:a,reasons:r}},dependencies:[]}),[d,p]=(0,n.useState)(""),[u,g]=(0,n.useState)([]),[x,v]=(0,n.useState)(""),[m,_]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[y,j]=(0,n.useState)(!1),[w,S]=(0,n.useState)(!1),k=(0,n.useMemo)((()=>{var e,t,o,i,a,r,n;return s.reasonsAPIVersion===ze.Hs&&(null===(e=s.UserData)||void 0===e?void 0:e.selectedReason).reason_code?null!==(i=null===(o=null===(t=s.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_code)&&void 0!==i?i:0:null!==(n=null===(r=null===(a=s.UserData)||void 0===a?void 0:a.selectedReason)||void 0===r?void 0:r.reason_type)&&void 0!==n?n:0}),[s.reasonsAPIVersion]);(0,n.useEffect)((()=>{const e=u.some((e=>!0!==e.uploaded));8===s.PageState||!e&&!f&&m&&x.length>0?j(!0):j(!1)}),[d,u,x,m,f]);const D=(0,n.useCallback)((e=>{b(!1);for(const t of e)t.size&&t.size>20971520&&b(!0);g(e)}),[]),C=(0,n.useCallback)((e=>{e.stopPropagation()}),[]),T=(0,n.useCallback)((e=>p(e.target.value)),[]),P=(0,n.useCallback)((e=>v(e.target.value)),[]),R=(0,n.useCallback)((e=>_(e)),[]),I=(0,n.useCallback)((e=>S(e)),[]),{region:A="",user:U}=null!==(e=(0,H.W)((()=>["region","user"]),[]))&&void 0!==e?e:{},O=(0,n.useMemo)((()=>{var e,t,o,i;if(s.reasonsAPIVersion===ze.Hs){const o=JSON.parse(null!==(t=null===(e=s.UserData.selectedReason)||void 0===e?void 0:e.option)&&void 0!==t?t:"{}");return"tags"in o&&o.tags.includes("avia")}return 8===(null===(i=null===(o=s.UserData)||void 0===o?void 0:o.selectedReason)||void 0===i?void 0:i.special_type)}),[s.UserData.selectedReason,s.reasonsAPIVersion]),F=(0,n.useCallback)((()=>{var e,t,o;const i=(0,Ne.Rp)(null!==(e=s.reasons)&&void 0!==e?e:[],9014);i&&(l.setUserData({selectedReason:i,HistoryReason:[...null!==(t=s.UserData.HistoryReason)&&void 0!==t?t:[],i]}),l.handleNextReason({nextReason:null!==(o=i.next_reason)&&void 0!==o?o:[],reason_id:i.reason_code}),l.setPageState(0))}),[]),L=(0,n.useCallback)((e=>{if(w)return e.preventDefault(),e.stopPropagation(),void F();if(e.preventDefault(),e.stopPropagation(),k&&y){const e={is_netzdg:1,report_desc:d,uri:u.map((e=>e.url)).join(","),report_signature:x};l.postReport({reason:k,extraData:e,region:A,uid:null==U?void 0:U.uid})}}),[d,u,x,k,y,l,w,A,null==U?void 0:U.uid]);return(0,i.jsxs)(Ee,{children:[(0,i.jsxs)(Me,{children:[(0,i.jsx)(Ve,{children:`${o("Web_report_reason_select")} ${null===(t=s.UserData.selectedReason)||void 0===t?void 0:t.text}`}),(0,i.jsxs)(qe,{children:[(0,i.jsx)($e,{children:o("Web_report_description")}),(0,i.jsxs)(Ge,{children:[d.length,"/",200]})]}),(0,i.jsx)(Ke,{rows:5,maxLength:200,placeholder:o("Please provide as much detail as possible"),value:d,onChange:T,onKeyDown:C}),(0,i.jsxs)(Ye,{children:[(0,i.jsx)(Pe,{max:4,onChange:D}),f&&(0,i.jsx)(Qe,{children:o("attachment_upload_limit")})]}),8===s.PageState?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(Xe,{children:(0,i.jsx)(M,{label:o("Web_report_description_NetzDG"),value:w,onChange:I})})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(qe,{children:(0,i.jsx)($e,{children:o("Signature")})}),(0,i.jsx)(Ze,{placeholder:o("Sign_here"),value:x,maxLength:100,onChange:P,onKeyDown:C}),(0,i.jsx)(Xe,{children:(0,i.jsx)(M,{label:o("Report_confirmation"),value:m,onChange:R})})]}),O&&(0,i.jsx)(et,{children:o("avia_law_false_report_warning")}),(0,i.jsx)(et,{children:o("Web_report_description_tips")})]}),(0,i.jsx)(q.rW,{children:(0,i.jsx)(q.jl,{disabled:!y,onClick:L,children:o("Submit")})})]})})),ot=(0,_.default)("div",{target:"e10dth7g0"})((({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`})),"label:DivMid;"),it=(0,_.default)("button",{target:"e10dth7g1"})((({theme:e})=>({width:"240px",height:"44px",margin:"133px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"})),"label:ButtonRetry;");var at=o(93991),rt=o.n(at),nt=o(44815),lt=o(17566),st=o(15604);const dt={id:"Checkbox-cab5ecb2",use:"Checkbox-cab5ecb2-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="Checkbox-cab5ecb2"><path fill="#FE2C55" d="M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12" /><path fill="white" d="M17.506 7.313c.213.136.276.42.14.633l-5.61 8.78a1.146 1.146 0 0 1-1.829.137L6.51 12.625a.46.46 0 0 1 .045-.647l1.036-.904a.46.46 0 0 1 .646.044l2.692 3.085 4.785-7.49a.46.46 0 0 1 .633-.14z" /></symbol>'};function ct(e){const t=(0,n.useContext)(R.X);return(0,n.useLayoutEffect)((()=>(t.add(dt),()=>{t.remove("Checkbox-cab5ecb2")})),[]),(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,i.jsx)("use",{xlinkHref:"#Checkbox-cab5ecb2"},void 0)}),void 0)}const pt=({isSelected:e})=>{const{colors:t}=(0,k.u)();return e?(0,i.jsx)(ct,{style:{width:"22px",height:"22px"}}):(0,i.jsx)(st.A,{style:{color:t.TextTertiary,width:"22px",height:"22px"}})},ut=()=>{var e,t,o,d,p,u,x;const v=(0,c.s)(),m=(0,lt._u)(),{isRTL:_}=(0,g.m)(),{user:f,region:b=""}=null!==(e=(0,H.W)((()=>["user","region"]),[]))&&void 0!==e?e:{},y=(0,a.w)(h.hf),{colors:j}=(0,k.u)(),w=(0,r.P)(h.hf,{selector:e=>{const{lastStatus:t,requesting:o,loading:i,PageState:a,PageStateData:r,UserData:n,reportTarget:l,reasonsAPIVersion:s,reasons:d,config:c}=e;return{lastStatus:t,requesting:o,loading:i,PageState:a,PageStateData:r,UserData:n,reportTarget:l,reasonsAPIVersion:s,reasons:d,config:c}},dependencies:[]}),{findReason:S}=function(){const e=(0,r.P)(h.hf,{selector:e=>{const{reasons:t}=e;return{reasons:t}},dependencies:[]}),t=(0,n.useCallback)((()=>e.reasons),[e.reasons]),o=(e,t)=>{var i;if(0===e.length)return;let a;for(const r of e){if("reason_code"in r&&t===r.reason_code||"reason_type"in r&&t===r.reason_type)return r;if(a=o(null!==(i=r.next_reason)&&void 0!==i?i:[],t),a)return a}return a};return{findReason:(0,n.useCallback)((t=>{var i;return o(null!==(i=e.reasons)&&void 0!==i?i:[],t)}),[e.reasons]),reasonsList:t}}(),T="radio"===(null===(t=null==w?void 0:w.config)||void 0===t?void 0:t.reason_item_type),R=(0,n.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),w.reportTarget&&y.getReasons(w.reportTarget)}),[y,w.reportTarget]);(0,n.useEffect)((()=>{var e,t;if((null===(e=w.reportTarget)||void 0===e?void 0:e.dsa_from_inbox)&&w.reasons&&w.reasons.length>0){if(w.UserData.selectedReason)return void y.setPageState(9);const e=S(null===(t=w.reportTarget.report_record)||void 0===t?void 0:t.common_data.reason);y.setUserData({selectedReason:e})}}),[w.reportTarget,w.reasons,w.UserData]);const I=e=>w.reasonsAPIVersion===ze.Hs&&(null==e?void 0:e.reason_code)?null==e?void 0:e.reason_code:null==e?void 0:e.reason_type,A=(0,n.useCallback)((e=>t=>{var o,i,a,r,n,l,s,d,c,p,u,g,x,v,_,j,S,k,D,C,P,R,A,U,O,F,L,H,B,z,W,N,E,M,q,V,$,G,J;t.preventDefault(),t.stopPropagation();let K=null===(i=null===(o=w.PageStateData)||void 0===o?void 0:o.reasons)||void 0===i?void 0:i.find((t=>I(t)===e));if(K&&y.setUserData({selectedReason:K,HistoryReason:[...null!==(a=w.UserData.HistoryReason)&&void 0!==a?a:[],K]}),T)return nt.o.handleChooseReportRadioReason({reason_id:e,object_type:null!==(n=null===(r=w.reportTarget)||void 0===r?void 0:r.report_type)&&void 0!==n?n:""});if(K)if(w.reasonsAPIVersion===ze.Hs){const e=Boolean(f),t=null!==(l=K.next_reason)&&void 0!==l?l:[],o=JSON.parse(null!==(s=K.option)&&void 0!==s?s:"{}"),{action:i,tags:a}=o;if(a&&rt()(a)&&a.length>0)for(const t of a)if([h.Pz.webappNeedLoginLegal,h.Pz.webappNeedLoginNetzdg,h.Pz.webappNeedLoginAvia].includes(t)){let o=null;switch(t){case h.Pz.webappNeedLoginLegal:o=(0,h.Se)({reportTarget:w.reportTarget},m);break;case h.Pz.webappNeedLoginNetzdg:(!e&&"video"===(null===(d=w.reportTarget)||void 0===d?void 0:d.report_type)||!e&&"comment"===(null===(c=w.reportTarget)||void 0===c?void 0:c.report_type))&&(o=(0,h.Re)({reportTarget:w.reportTarget},m));break;case h.Pz.webappNeedLoginAvia:(!e&&"video"===(null===(p=w.reportTarget)||void 0===p?void 0:p.report_type)||!e&&"comment"===(null===(u=w.reportTarget)||void 0===u?void 0:u.report_type))&&(o=(0,h.K0)({reportTarget:w.reportTarget},m))}if(o)return void window.open(o,"_blank","noopener,noreferrer")}if(t.length>0)y.handleNextReason({nextReason:null!==(g=K.next_reason)&&void 0!==g?g:[],reason_id:K.reason_code});else switch(i.action_type){case"jumpToUrl":const e=(0,Ne.OK)(null!==(v=null===(x=null==i?void 0:i.action_params)||void 0===x?void 0:x.body_content)&&void 0!==v?v:{},null!==(_=w.reportTarget)&&void 0!==_?_:{}),t=`https://tiktok.com${m(w.reportTarget)}`,o=Object.assign(Object.assign({},e),{reporturl:t,url_type:null===(j=w.reportTarget)||void 0===j?void 0:j.report_type,report_id:"user"===(null===(S=w.reportTarget)||void 0===S?void 0:S.report_type)?null===(k=w.reportTarget)||void 0===k?void 0:k.owner_id:null===(D=w.reportTarget)||void 0===D?void 0:D.object_id}),a=(0,Ne.Rj)(null!==(C=i.action_params.url)&&void 0!==C?C:"",o);window.open(a,"_blank","noopener,noreferrer");break;case"submit":K.reason_code&&("suggestion"!==(null===(P=w.reportTarget)||void 0===P?void 0:P.report_type)&&"sug_recommend"!==(null===(R=w.reportTarget)||void 0===R?void 0:R.report_type)||nt.o.handleReportSugFinish({object_id:w.reportTarget.object_id,object_type:w.reportTarget.report_type,impr_id:null===(A=w.reportTarget.suggestion_extra)||void 0===A?void 0:A.impr_id,feedback_id:null===(U=w.reportTarget.suggestion_extra)||void 0===U?void 0:U.feedback_id,group_id:null===(O=w.reportTarget.suggestion_extra)||void 0===O?void 0:O.group_id,sug_type:null===(F=w.reportTarget.suggestion_extra)||void 0===F?void 0:F.sug_type,raw_query:null===(L=w.reportTarget.suggestion_extra)||void 0===L?void 0:L.raw_query,words_content:null===(H=w.reportTarget.suggestion_extra)||void 0===H?void 0:H.words_content,words_position:null===(B=w.reportTarget.suggestion_extra)||void 0===B?void 0:B.words_position,words_source:null===(z=w.reportTarget.suggestion_extra)||void 0===z?void 0:z.words_source,button_type:"report"}),y.postReport({reason:K.reason_code,extraData:null,region:b,uid:null==f?void 0:f.uid}));break;default:const r=i.action_params.route_path||"Desc";y.handleNextForm(h.VO[r])}}else{const e=Boolean(f);let t=null;switch(K.special_type){case 2:t=(0,h.Se)({reportTarget:w.reportTarget},m);break;case 6:(!e&&"video"===(null===(W=w.reportTarget)||void 0===W?void 0:W.report_type)||!e&&"comment"===(null===(N=w.reportTarget)||void 0===N?void 0:N.report_type))&&(t=(0,h.Re)({reportTarget:w.reportTarget},m));break;case 8:(!e&&"video"===(null===(E=w.reportTarget)||void 0===E?void 0:E.report_type)||!e&&"comment"===(null===(M=w.reportTarget)||void 0===M?void 0:M.report_type))&&(t=(0,h.K0)({reportTarget:w.reportTarget},m))}if(t)return y.popHistoryReason(),void window.open(t,"_blank","noopener,noreferrer");!K||Boolean(null===(q=K.next_reason)||void 0===q?void 0:q.length)?y.handleNextReason({nextReason:null!==(V=K.next_reason)&&void 0!==V?V:[],reason_id:K.reason_type}):[1,4].includes(K.special_type)&&(null===($=w.PageStateData)||void 0===$?void 0:$.reasons)&&K.reason_type!==(null===(G=w.PageStateData)||void 0===G?void 0:G.reasons[0]).reason_type?y.handleNextForm(3):w.UserData.HistoryReason&&[...h.Ve,...h.$4].includes(null===(J=w.UserData.HistoryReason[0])||void 0===J?void 0:J.reason_type)||[8].includes(K.special_type)?y.handleNextForm(2):y.handleNextForm(1)}}),[w.PageStateData,y,w.UserData.HistoryReason,f,w.reportTarget,T]);return(0,i.jsx)(q.an,{children:w.loading?(0,i.jsx)(q.TU,{children:(0,i.jsx)(P.R,{})}):0===(null===(d=null===(o=w.PageStateData)||void 0===o?void 0:o.reasons)||void 0===d?void 0:d.length)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ot,{top:57,children:(0,i.jsx)(D.A,{width:72,height:72})}),(0,i.jsx)(ot,{top:20,style:{fontSize:"18px",lineHeight:"24px",color:j.TextPrimary},children:v("pm_mt_live_page_sth_wrong")}),(0,i.jsx)(ot,{top:12,style:{fontSize:"16px",lineHeight:"22px",color:j.TextSecondary},children:v("pm_mt_live_page_try_again")}),(0,i.jsxs)(it,{onClick:R,children:[(0,i.jsx)(C.A,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}}),v("report_inbox_retry_btn")]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(q.Rh,{children:v(T?"Please select a reason":"Please select a scenario")}),null===(u=null===(p=w.PageStateData)||void 0===p?void 0:p.reasons)||void 0===u?void 0:u.map(((e,t)=>{var o,a,r,n,d,c,p;if(w.reasonsAPIVersion===ze.Hs){const l=JSON.parse(null!==(o=e.option)&&void 0!==o?o:"{}").tags||[];if(l.includes("hideWebappReason"))return null;if(l.includes("flattenReasonList")){const t=null!==(a=e.next_reason)&&void 0!==a?a:[];if(t.length>0){const o=[...null!==(n=null===(r=w.PageStateData)||void 0===r?void 0:r.reasons)&&void 0!==n?n:[]],i=o.findIndex((t=>t.reason_code===e.reason_code));o.splice(i,1),o.push(...t),y.setReasons(o)}return null}if(T){const o=I(e);return(0,i.jsxs)(q.NR,{onClick:A(o),style:{marginBottom:t+1===(null===(c=null===(d=w.PageStateData)||void 0===d?void 0:d.reasons)||void 0===c?void 0:c.length)?"84px":""},children:[(0,i.jsx)(pt,{isSelected:I(null===(p=null==w?void 0:w.UserData)||void 0===p?void 0:p.selectedReason)===o}),(0,i.jsx)(q.fm,{children:e.text})]},o)}}return(0,i.jsxs)(q.KW,{onClick:A(I(e)),children:[(0,i.jsx)(q.Lo,{children:e.text}),_?(0,i.jsx)(s.A,{style:{color:j.TextTertiary},width:20,height:20}):(0,i.jsx)(l.A,{style:{color:j.TextTertiary},width:20,height:20})]},I(e))})),T?(0,i.jsx)(q.rW,{children:(0,i.jsx)(q.jl,{onClick:e=>{var t,o;e.preventDefault(),e.stopPropagation(),y.postReport({reason:null===(o=null===(t=w.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_code,extraData:null,region:b,uid:null==f?void 0:f.uid})},disabled:!I(null===(x=null==w?void 0:w.UserData)||void 0===x?void 0:x.selectedReason),children:v("Submit")})}):null]})})};var gt=o(49605),ht=o(57481);const xt=(0,_.default)("div",{target:"eshtx6u0"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,margin:"0 15px",paddingTop:"30px"})),"label:DivUserBlockSection;"),vt=(0,_.default)("div",{target:"eshtx6u1"})((({theme:e})=>({fontSize:"13px",lineHeight:"17px",color:e.colors.TextTertiary,paddingLeft:"12px"})),"label:DivUserBlockTitle;"),mt=(0,_.default)("div",{target:"eshtx6u2"})({marginTop:"13px",height:"46px",paddingLeft:"12px",marginBottom:"24px"},"label:DivUserBlock;"),_t=(0,_.default)("div",{target:"eshtx6u3"})((({theme:e})=>({width:"46px",height:"46px",marginRight:"13px",display:"inline-block",float:"left",backgroundColor:e.colors.BGInput,padding:"11px",borderRadius:"50%"})),"label:DivUserBlockIcon;"),ft=(0,_.default)("div",{target:"eshtx6u4"})((({theme:e})=>({lineHeight:"46px",height:"46px",fontSize:"15px",color:e.colors.TextPrimary,display:"inline-block",float:"left"})),"label:DivUserBlockName;"),bt=o.p+"fd63eea59850bad9d4fe.png",yt=o.p+"13123d0b9b34561d1a54.png";var jt=o(72153);const wt=1440;function St(){return[(0,jt.jJ)({min:wt,style:{width:"48px",height:"48px"}})]}const kt=(0,_.default)("div",{target:"e480akv0"})((({theme:e})=>[{display:"flex",alignItems:"center",padding:"0 18px",height:"44px",borderBottom:`solid 0.5px ${e.colors.LinePrimary}`},(0,jt.jJ)({min:wt,style:{height:"96px"}})]),"label:DivFormHeader;"),Dt=(0,_.default)("div",{target:"e480akv1"})({height:"calc(100vh - 44px)",overflowY:"scroll"},(0,jt.jJ)({min:wt,style:{height:"calc(100vh - 96px)"}}),"label:DivContent;"),Ct=(0,_.default)("div",{target:"e480akv3"})({cursor:"pointer",padding:"6px",zIndex:10,width:"24px",height:"24px"},...St(),"label:DivBackButton;"),Tt=(0,_.default)("div",{target:"e480akv4"})({cursor:"pointer",padding:"9px",zIndex:10,width:"11px",height:"11px"},...St(),"label:DivCloseButton;"),Pt=(0,_.default)("h4",{target:"e480akv5"})((({theme:e})=>[{fontSize:"17px",lineHeight:"44px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.bold,textAlign:"center",flex:1,width:"100%",left:"0"},(0,jt.jJ)({min:wt,style:{fontSize:"32px"}})]),"label:H4FormTitle;");Pt.defaultProps=Object.assign(Object.assign({},Pt.defaultProps),{"data-e2e":"report-card-title"});const Rt=(0,n.memo)((function({isBackable:e,onBack:t,onClose:o,title:a,children:r,isClosable:c}){const{isRTL:p}=(0,g.m)(),u=(0,n.useCallback)((()=>{e&&t&&t()}),[e,t]),h=(0,n.useCallback)((()=>{c&&o&&o()}),[c,o]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(kt,{children:[e?(0,i.jsx)(Ct,{onClick:u,children:p?(0,i.jsx)(l.A,{width:"100%",height:"100%"}):(0,i.jsx)(s.A,{width:"100%",height:"100%"})}):null,(0,i.jsx)(Pt,{children:a}),c?(0,i.jsx)(Tt,{"data-e2e":"report-card-cancel",onClick:h,children:(0,i.jsx)(d.A,{width:"100%",height:"100%"})}):null]}),(0,i.jsx)(Dt,{children:r})]})}));var It=o(88091);const At=(0,_.default)("div",{target:"e626uaa0"})((({theme:e})=>({position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",height:"70%",zIndex:1e3,borderRadius:"8px",backgroundColor:e.colors.BGPrimary,margin:0,padding:0,overflowY:"scroll"})),"label:SupportWrapper;"),Ut=_.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-left: 32px;
  margin-right: 32px;
  margin-top: 0;
  padding-top: 0;
`,Ot=_.default.h1`
  text-align: center;
  font-size: 24px;
  font-style: normal;
  font-weight: 500;
  line-height: 125%;
  letter-spacing: 0.24px;
`,Ft=_.default.p`
  font-size: 16px;
  margin-bottom: 20px;
  text-align: center;
`,Lt=_.default.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding-bottom: 20px;
`,Ht=_.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  width: 100%;
`,Bt=_.default.h2`
  font-size: 16px;
  font-style: normal;
  font-weight: 500;
  line-height: 130%;
  letter-spacing: 0.03px;
`,zt=_.default.p`
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: 130%;
  letter-spacing: 0.093px;
`,Wt=(0,_.default)(It.I0)`
  border-radius: 30px;
  align-items: flex-start;
  align-self: stretch;
  width: 60px !important;
  text-align: center;
`,Nt=(0,_.default)("div",{target:"e626uaa1"})((({theme:e})=>({borderRadius:"8px",margin:"16px 32px 24px",backgroundColor:e.colors.BGInput,display:"flex",padding:"10px 16px",flexDirection:"column",alignItems:"flex-start",alignSelf:"stretch"})),"label:DivGetMoreSupport;"),Et=_.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  margin-bottom: '8px';
`,Mt=(0,_.default)("div",{target:"e626uaa2"})((({theme:e})=>({color:e.colors.TextPrimary,overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"130%",letterSpacing:"0.03px"})),"label:GetMoreSupportTitle;"),qt=(0,_.default)("p",{target:"e626uaa3"})((({theme:e})=>({color:e.colors.TextSecondary,fontSize:"13px",fontStyle:"normal",fontWeight:400,lineHeight:"130%",letterSpacing:"0.127px"})),"label:GetMoreSupportDescription;"),Vt=(0,_.default)("button",{target:"e626uaa4"})((({theme:e})=>({color:e.colors.TextSecondary,width:"8px",height:"16px"})),"label:GetMoreSupportIcon;");var $t=o(99822);const Gt=({selectedReason:e})=>{const{isDark:t}=(0,k.u)(),{supportInfo:o,showSupportModal:a,handleSupportClick:r,handleSupportModalClose:l,supportButtonHandler:s}=(e=>{const[t,o]=(0,n.useState)(null),[i,a]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{var t;if(e){const i=(e=>{try{const t=e.find((e=>"SUPPORT"===JSON.parse(e).ID));return t?JSON.parse(t):null}catch(e){return console.error("Failed to parse support info:",e),null}})(null!==(t=e.generic_module)&&void 0!==t?t:[]);o(i)}}),[e]),{supportInfo:t,showSupportModal:i,handleSupportClick:(0,n.useCallback)((()=>{a(!0)}),[]),handleSupportModalClose:(0,n.useCallback)((()=>{a(!1)}),[]),supportButtonHandler:(0,n.useCallback)((e=>{e&&window.open(e,"_blank")}),[])}})(e);return a&&o?(0,i.jsx)(At,{children:(0,i.jsx)(Rt,{isBackable:!0,isClosable:!1,onBack:l,title:"",children:(0,i.jsxs)(Ut,{children:[(0,i.jsx)("img",{src:t?yt:bt,style:{width:"100%",height:"auto"}}),(0,i.jsx)(Ot,{children:o.PageTitle}),(0,i.jsx)(Ft,{children:o.PageDescription}),(0,i.jsx)(Lt,{children:(0,i.jsxs)(Ht,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(Bt,{children:o.HelplinkTitle}),(0,i.jsx)(zt,{children:o.HelplinkDescription})]}),(0,i.jsx)(Wt,{variant:"primary",label:o.HelplinkCTA,onClick:()=>s(o.SupportLink),size:"medium",alignSelf:"end"})]})}),(0,i.jsx)(Lt,{children:(0,i.jsx)(Ht,{children:(0,i.jsxs)("div",{children:[(0,i.jsx)(Bt,{children:o.HelplineTitle}),(0,i.jsx)(zt,{children:o.HelplineDescription})]})})})]})})}):o?(0,i.jsxs)(Nt,{children:[(0,i.jsxs)(Et,{children:[(0,i.jsx)(Mt,{children:o.CardTitle}),(0,i.jsx)(Vt,{onClick:r,children:(0,i.jsx)($t.Z,{})})]}),(0,i.jsx)(qt,{children:o.CardDescription})]}):null},Jt=({onClose:e})=>{var t,o,l,s,d;const p=(0,c.s)(),u=(0,a.w)(h.hf),{colors:g}=(0,k.u)(),x=(0,r.P)(h.hf,{selector:e=>{const{UserData:t,reportTarget:o,reasonsAPIVersion:i}=e;return{reportTarget:o,UserData:t,reasonsAPIVersion:i}},dependencies:[]}),[v,m]=(0,n.useState)();(0,n.useEffect)((()=>{var e,t;x.reasonsAPIVersion===ze.Hs&&m(JSON.parse(null!==(t=null===(e=x.UserData.selectedReason)||void 0===e?void 0:e.option)&&void 0!==t?t:"{}"))}),[x.reasonsAPIVersion]);const _=(0,n.useCallback)((()=>{e()}),[e]),f=(0,n.useCallback)((()=>{u.handleNextForm(4)}),[u]),{submitresult:b}=x.UserData,{title:y="Thanks",content:j="Well review your report and if there is a violation of our Community Guidelines, well take appropriate action.",button:w="Done",success:S=!0}=null!=b?b:{};return(0,i.jsxs)("div",{children:[(0,i.jsx)(q.sP,{top:S?25:20,children:S?(0,i.jsx)(B.A,{width:32,height:22,style:{color:g.Positive}}):(0,i.jsx)(gt.A,{width:32,height:32})}),(0,i.jsx)(q.n4,{children:null!==(t=p(y))&&void 0!==t?t:y}),(0,i.jsx)(q.g$,{children:j}),"user"===(null===(o=x.reportTarget)||void 0===o?void 0:o.report_type)&&3!==x.reasonsAPIVersion||x.reasonsAPIVersion===ze.Hs&&"user"===(null===(l=x.reportTarget)||void 0===l?void 0:l.report_type)&&!(null==v?void 0:v.tags.includes("hideBlockUser"))?(0,i.jsxs)(xt,{onClick:f,children:[(0,i.jsx)(vt,{children:p("Web_report_you_can_also")}),(0,i.jsxs)(mt,{children:[(0,i.jsx)(_t,{children:(0,i.jsx)(ht.A,{width:24,height:24})}),(0,i.jsxs)(ft,{children:[p("webdm_block")," ",null===(s=x.reportTarget)||void 0===s?void 0:s.nickname]})]})]}):null,(0,i.jsx)(Gt,{selectedReason:x.UserData.selectedReason}),(0,i.jsx)(q.uH,{onClick:_,children:null!==(d=p(w))&&void 0!==d?d:w})]})};var Kt=o(8475),Zt=o(41730);const Yt=(0,_.default)(Ee,{target:"ei1sqrw0"})({height:"708px"},"label:DivDSAContainer;"),Qt=(0,_.default)("div",{target:"ei1sqrw1"})({display:"flex",marginTop:"24px",marginBottom:"32px",paddingLeft:"24px",paddingRight:"24px"},"label:DivLegalContainer;"),Xt=(0,_.default)("div",{target:"ei1sqrw2"})({marginBottom:"16px",paddingLeft:"24px",paddingRight:"24px"},"label:DivDescriptionContainer;"),eo=(0,_.default)("div",{target:"ei1sqrw3"})((({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,display:"flex"})),"label:DivTitle;"),to=(0,_.default)("span",{target:"ei1sqrw4"})((({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextTertiary,marginLeft:"8px"})),"label:OptionalTag;"),oo=(0,_.default)("div",{target:"ei1sqrw5"})((({theme:e})=>({fontSize:"14px",fontWeight:400,lineHeight:"130%",color:e.colors.TextTertiary,marginTop:"10px"})),"label:OptionalEmailTip;"),io=(0,_.default)("div",{target:"ei1sqrw6"})((({theme:e})=>({fontSize:"16px",lineHeight:"24px",color:e.colors.TextSecondary,fontWeight:400,marginInlineStart:"auto"})),"label:DivCounter;"),ao=(0,_.default)("div",{target:"ei1sqrw7"})((({theme:e})=>({color:e.colors.Primary})),"label:AsteriskColor;"),ro=(0,_.default)(io,{target:"ei1sqrw8"})({display:"flex",marginInlineStart:"auto",alignItems:"center",cursor:"pointer"},"label:DivChooseCountry;"),no=(0,_.default)(Le,{target:"ei1sqrw9"})((({})=>({margin:"0px",width:"100%",height:"unset",marginTop:"10px",fontSize:"16px",lineHeight:"24px"})),"label:DivInputArea;"),lo=(0,_.default)("div",{target:"ei1sqrw10"})((({theme:e})=>({height:"0.5px",background:e.colors.LineSecondary,marginTop:"12.5px"})),"label:DivLine;"),so=(0,_.default)("div",{target:"ei1sqrw11"})((({})=>({padding:"16px 24px",display:"flex",alignItems:"center"})),"label:DivCheckBoxContainer;"),co=(0,_.default)("div",{target:"ei1sqrw12"})((({theme:e})=>({fontSize:"16px",lineHeight:"24px",fontWeight:"400px",marginInlineStart:"9px",color:e.colors.TextPrimary})),"label:DivCheckBoxDesc;"),po=(0,_.default)("div",{target:"ei1sqrw13"})((({theme:e})=>({display:"flex",alignContent:"center",marginTop:"9px",color:e.colors.Negative})),"label:DivWarningContainer;"),uo=(0,_.default)("div",{target:"ei1sqrw14"})({fontSize:"14px",fontWeight:"400px",marginInlineStart:"9px"},"label:DivWarning;"),go=(0,_.default)("div",{target:"ei1sqrw18"})((({theme:e})=>({fontSize:"14px",fontWeight:"400",lineHeight:"22px",padding:"0px 24px",color:e.colors.TextQuaternary})),"label:DivWarnText;");var ho=o(11654),xo=o(50708),vo=o.n(xo),mo=o(67192);function _o(e,t){const o=Object.keys(t),a=new RegExp(`(${o.join("|")})`,"g"),r=e.split(a);return(0,i.jsx)(i.Fragment,{children:r.map((e=>o.includes(e)?t[e]:e))})}const fo=(0,_.default)("p",{target:"eqxhbaw0"})((({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,marginTop:"16px",marginBottom:"16px",paddingLeft:"24px",paddingRight:"24px"})),"label:TrustedFlaggerText;"),bo=(0,_.default)("a",{target:"eqxhbaw1"})((({theme:e})=>({color:e.colors.AssistColorAzure,fontWeight:700,textDecoration:"none"})),"label:TrustedFlaggerLink;"),yo=(0,_.default)("div",{target:"eqxhbaw2"})((({theme:e})=>({color:e.colors.BGPrimary})),"label:ModalWrapper;"),jo=(0,_.default)("span",{target:"eqxhbaw3"})((({theme:e})=>({color:e.colors.TextPrimary,fontWeight:700})),"label:Title;"),wo=(0,_.default)("span",{target:"eqxhbaw4"})((({theme:e})=>({color:e.colors.TextPrimary,fontSize:"14px",lienHeight:"18px"})),"label:Description;"),So=(0,_.default)("button",{target:"eqxhbaw5"})((({theme:e})=>({padding:"8px 10px",fontSize:"16px",lineheight:"20px",cursor:"pointer",borderRadius:"4px",color:e.colors.TextPrimary,backgroundColor:e.colors.UIShapeNeutral4,minWidth:"160px"})),"label:LeftButton;"),ko=(0,_.default)("button",{target:"eqxhbaw6"})((({theme:e})=>({padding:"8px 10px",fontSize:"16px",lineheight:"20px",cursor:"pointer",borderRadius:"4px",color:e.colors.ConstTextInverse,backgroundColor:e.colors.Primary,minWidth:"160px"})),"label:RightButton;"),Do=(0,_.default)("div",{target:"eqxhbaw7"})({display:"flex",padding:"0 24px 32px",alignItems:"center",justifyContent:"space-between",gap:"16px"},"label:ModalFooter;"),Co=()=>{const[e,t]=(0,n.useState)(!1),o=(0,c.s)(),a=()=>{t(!e)},{isTrustedFlagger:r,register:l,unbindTrustedFlagger:s}=(({handleDialog:e})=>{const[t,o]=(0,n.useState)(null),i=(0,x.Nj)(se.G),a=(0,c.s)(),r=()=>{i.getTustedFlaggerState().subscribe((e=>{var t;0===(null===(t=null==e?void 0:e.base)||void 0===t?void 0:t.status_code)?o(e.is_trusted_flagger):o(!1)}))};return(0,n.useEffect)((()=>{let e="";void 0!==document.hidden?e="visibilitychange":void 0!==document.msHidden?e="msvisibilitychange":void 0!==document.webkitHidden&&(e="webkitvisibilitychange");const t=()=>{document.hidden||document.msHidden||document.webkitHidden||r()};return r(),e&&document.addEventListener(e,t),()=>{e&&document.removeEventListener(e,t)}}),[]),{isTrustedFlagger:t,register:()=>{window.open("https://www.tiktok.com/dsa-trusted-flagger/login")},unbindTrustedFlagger:()=>{i.unbindTrustedFlagger().subscribe((t=>{var o;0===(null===(o=null==t?void 0:t.base)||void 0===o?void 0:o.status_code)?(r(),e()):v.F.open({content:a("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})}))}}})({handleDialog:a});return(0,i.jsxs)(i.Fragment,{children:[(()=>{switch(r){case!0:return(0,i.jsx)(fo,{children:_o(o("dsa_illegal_report_trustedflagger_signout"),{"{s_tapHere}":(0,i.jsx)(bo,{onClick:a,children:o("dsa_illegal_report_trustedflaggerlink")})})});case!1:return(0,i.jsx)(fo,{children:_o(o("dsa_illegal_report_trustedflagger"),{"%s":(0,i.jsx)(bo,{onClick:l,children:o("dsa_illegal_report_trustedflaggerlink")})})});default:return null}})(),(0,i.jsx)(It.Mw,{isOpen:e,onClose:a,size:"Small",children:(0,i.jsxs)(yo,{children:[(0,i.jsx)(It.ND,{children:(0,i.jsx)(jo,{children:o("dsa_illegal_report_trustedflagger_signout_popup")})}),(0,i.jsx)(It.Te,{children:(0,i.jsx)(It.Fm,{children:(0,i.jsx)(wo,{children:o("dsa_illegal_report_trustedflagger_signout_popup_desc")})})}),(0,i.jsxs)(Do,{children:[(0,i.jsx)(So,{onClick:s,children:o("dsa_illegal_report_trustedflagger_signout_popup_yes")}),(0,i.jsx)(ko,{onClick:a,children:o("dsa_illegal_report_trustedflagger_signout_popup_no")})]})]})})]})};var To;!function(e){e[e.CHILD_ABUSE_CONTENT=950111]="CHILD_ABUSE_CONTENT",e[e.DISTRIBUTE_CHILD_ABUSE=950112]="DISTRIBUTE_CHILD_ABUSE",e[e.CHILD_GROOMING_SOLICITATION=950113]="CHILD_GROOMING_SOLICITATION"}(To||(To={}));const Po=[To.CHILD_ABUSE_CONTENT,To.CHILD_GROOMING_SOLICITATION,To.DISTRIBUTE_CHILD_ABUSE],Ro=(0,n.memo)((function(){var e,t,o,l,s,d,p;const u=(0,c.s)(),g=mo.l.getInstance(ho.V),[x,v]=(0,n.useState)({relevantLaw:"",reportExplanation:"",signature:"",checked:!1,trustedFlagger:!1,trustedFlaggerEmail:"",loggedOutEmail:""}),{region:m="",user:_,wid:f}=null!==(e=(0,H.W)((()=>["region","user","wid"]),[]))&&void 0!==e?e:{},b=(0,n.useMemo)((()=>Boolean(_)),[_]),y=(0,a.w)(h.hf),j=(0,r.P)(h.hf,{selector:e=>{const{UserData:t,PreState:o,reasonsAPIVersion:i,choosenDSACountry:a,PageStateData:r,reportTarget:n,DSACountriesList:l}=e;return{UserData:t,PreState:o,reasonsAPIVersion:i,choosenDSACountry:a,PageStateData:r,reportTarget:n,DSACountriesList:l}},dependencies:[]}),w=(0,n.useMemo)((()=>{var e,t,o,i;return null===(i=null===(o=JSON.parse(null!==(t=null===(e=j.UserData.selectedReason)||void 0===e?void 0:e.option)&&void 0!==t?t:"{}"))||void 0===o?void 0:o.tags)||void 0===i?void 0:i.includes("hideDSASignature")}),[j.UserData]),S=(0,n.useMemo)((()=>{var e,t,o,i;return null===(i=null===(o=JSON.parse(null!==(t=null===(e=j.UserData.selectedReason)||void 0===e?void 0:e.option)&&void 0!==t?t:"{}"))||void 0===o?void 0:o.tags)||void 0===i?void 0:i.includes("hideTrustedFlagger")}),[j.UserData]),k=(0,n.useMemo)((()=>{var e;return null===(e=j.reportTarget)||void 0===e?void 0:e.dsa_from_inbox}),[null===(t=j.reportTarget)||void 0===t?void 0:t.dsa_from_inbox]),[D,C]=(0,n.useState)({trustedFlaggerInvalid:!1,loggedOutInvalid:!1});(0,n.useEffect)((()=>{j.PageStateData&&"relevantLaw"in j.PageStateData&&v(Object.assign({},j.PageStateData))}),[j.PageStateData]),(0,n.useEffect)((()=>{var e,t,o,i,a,r,n;if(j.DSACountriesList.length>0&&k&&(null===(e=j.reportTarget)||void 0===e?void 0:e.report_record)){const{legal_jurisdiction:e}=null!==(o=null===(t=j.reportTarget)||void 0===t?void 0:t.report_record.common_data)&&void 0!==o?o:{},i=j.DSACountriesList.find((t=>t.code===e));return i&&y.setChoosenDSACountry(i),void nt.o.handleDSAResubmitShow({})}if(k&&0===j.DSACountriesList.length){const{legal_jurisdiction:e,reason:t}=null!==(r=null===(a=null===(i=j.reportTarget)||void 0===i?void 0:i.report_record)||void 0===a?void 0:a.common_data)&&void 0!==r?r:{};if(void 0===e||void 0===t)return void g.emitEvent("dsa_resubmit_entry_fail",{count:1},{legal_jurisdiction:null!=e?e:"",reason:null!==(n=null==t?void 0:t.toString())&&void 0!==n?n:""});y.getDSACountries()}}),[k,j.DSACountriesList]);const P=(0,n.useMemo)((()=>{var e,t,o,i,a,r,n,l,s,d,c;const p=j.reasonsAPIVersion===ze.Hs&&(null===(t=null===(e=j.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_code)?null!==(a=null===(i=null===(o=j.UserData)||void 0===o?void 0:o.selectedReason)||void 0===i?void 0:i.reason_code)&&void 0!==a?a:0:null!==(l=null===(n=null===(r=j.UserData)||void 0===r?void 0:r.selectedReason)||void 0===n?void 0:n.reason_type)&&void 0!==l?l:0;return p||(k?null===(c=null===(d=null===(s=null==j?void 0:j.reportTarget)||void 0===s?void 0:s.report_record)||void 0===d?void 0:d.common_data)||void 0===c?void 0:c.reason:p)}),[j.reasonsAPIVersion,null===(s=null===(l=null===(o=null==j?void 0:j.reportTarget)||void 0===o?void 0:o.report_record)||void 0===l?void 0:l.common_data)||void 0===s?void 0:s.reason]),R=void 0!==(I=P)&&Po.includes(I);var I;const A=(0,n.useMemo)((()=>!(""===x.reportExplanation.trim()||!w&&""===x.signature.trim()||!x.checked||void 0===j.choosenDSACountry||x.trustedFlagger&&(""===x.trustedFlaggerEmail.trim()||!(0,Ne.B9)(x.trustedFlaggerEmail))||!(b||R||""!==x.loggedOutEmail.trim()&&(0,Ne.B9)(x.loggedOutEmail)))),[x]),U=(0,n.useCallback)((e=>{var t,o,i,a,r,n,l,s,d,c,p,u,g,h,v,w,S,D,C,T;if(e.preventDefault(),e.stopPropagation(),P&&A){const e=Object.assign(Object.assign(Object.assign({report_signature:x.signature,relevant_law:x.relevantLaw,trusted_flagger_email:x.trustedFlaggerEmail,logout_reporter_email:x.loggedOutEmail,report_desc:x.reportExplanation,submit_type:k?"2":"1",legal_jurisdiction:null!==(o=null===(t=j.choosenDSACountry)||void 0===t?void 0:t.code)&&void 0!==o?o:""},k&&{parent_id:null!==(a=null===(i=j.reportTarget)||void 0===i?void 0:i.report_id)&&void 0!==a?a:"",verification_code:null!==(n=null===(r=j.reportTarget)||void 0===r?void 0:r.logged_out_code)&&void 0!==n?n:"",report_menu_click_time:null!==(c=null===(d=null===(s=null===(l=j.reportTarget)||void 0===l?void 0:l.report_record)||void 0===s?void 0:s.common_data)||void 0===d?void 0:d.report_menu_click_time)&&void 0!==c?c:""}),k&&(0,Ne.Pl)(null!==(u=null===(p=j.reportTarget)||void 0===p?void 0:p.report_type)&&void 0!==u?u:"")&&Object.assign(Object.assign({},null===(h=null===(g=j.reportTarget)||void 0===g?void 0:g.report_record)||void 0===h?void 0:h.live),null===(w=null===(v=j.reportTarget)||void 0===v?void 0:v.report_record)||void 0===w?void 0:w.live_comment)),k&&!(0,Ne.Pl)(null!==(D=null===(S=j.reportTarget)||void 0===S?void 0:S.report_type)&&void 0!==D?D:"")&&Object.assign({},null===(T=null===(C=j.reportTarget)||void 0===C?void 0:C.report_record)||void 0===T?void 0:T.non_live)),R={reason:P,extraData:e,region:m,wid:f,uid:null==_?void 0:_.uid,loggedOut:!b};y.postReport(Object.assign(Object.assign({},R),{callbackFn:()=>{y.postReport(R)}})),k&&nt.o.handleDSAResubmitReportOnSubmission({})}}),[P,y,x,A,k]),O=(0,n.useCallback)((()=>{k||(y.setPageStateData(x),y.handleNextForm(10))}),[x,k]);(0,n.useEffect)((()=>()=>{y.setChoosenDSACountry(void 0)}),[]);const F=(0,n.useCallback)((()=>{let e=u("dsa_report_penalty_reminder");return e=e.replace(/{{(.*?)}}/g,(e=>`<b id="dsa_illegal_report_penalty_reminder_transparency" style="cursor: pointer">${e.replace(/[{}]/g,"")}</b>`)),(0,i.jsx)(go,{dangerouslySetInnerHTML:{__html:vo().sanitize(e)},onClick:e=>{var t;"dsa_illegal_report_penalty_reminder_transparency"===(null===(t=e.target)||void 0===t?void 0:t.id)&&window.open("https://www.tiktok.com/legal/page/global/reporting-illegal-content/en")}})}),[]);return(0,i.jsx)(Yt,{children:(0,i.jsxs)(Me,{children:[(0,i.jsx)(Ve,{children:`${u("Web_report_reason_select")} ${null===(d=j.UserData.selectedReason)||void 0===d?void 0:d.text}`}),!b&&(0,i.jsxs)(Xt,{style:{marginTop:"16px"},children:[(0,i.jsxs)(eo,{children:[u("dsa_illegal_report_email"),R?(0,i.jsx)(to,{children:u("dsa_illegal_cite_law_optional")}):(0,i.jsx)(ao,{children:"*"})]}),(0,i.jsx)(no,{rows:1,placeholder:u("dsa_illegal_report_fill_email"),value:x.loggedOutEmail,onBlur:()=>{C(Object.assign(Object.assign({},D),{loggedOutInvalid:!(0,Ne.B9)(x.loggedOutEmail)}))},onChange:e=>{var t;v(Object.assign(Object.assign({},x),{loggedOutEmail:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,i.jsx)(lo,{}),R?(0,i.jsx)(oo,{children:u("cseReasons_reportPg_emailAddForm_body")}):null,D.loggedOutInvalid&&(0,i.jsxs)(po,{children:[(0,i.jsx)(T.A,{}),(0,i.jsx)(uo,{children:u("dsa_illegal_report_trustedflagger_fill_email")})]})]}),(0,i.jsxs)(Qt,{children:[(0,i.jsxs)(eo,{children:[u("dsa_illegal_detail_country"),(0,i.jsx)(ao,{children:"*"})]}),(0,i.jsxs)(ro,{onClick:O,children:[null===(p=j.choosenDSACountry)||void 0===p?void 0:p.desc,(0,i.jsx)(Zt._k,{children:(0,i.jsx)(Kt.A,{width:16,height:16})})]})]}),(0,i.jsxs)(Xt,{children:[(0,i.jsxs)(eo,{children:[u("dsa_illegal_detail_law"),(0,i.jsx)(to,{children:u("dsa_illegal_cite_law_optional")}),(0,i.jsxs)(io,{children:[x.relevantLaw.length,"/200"]})]}),(0,i.jsx)(no,{rows:2,maxLength:200,placeholder:u("dsa_illegal_cite_law_desc"),value:x.relevantLaw,onChange:e=>{var t;v(Object.assign(Object.assign({},x),{relevantLaw:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,i.jsx)(lo,{})]}),(0,i.jsxs)(Xt,{children:[(0,i.jsxs)(eo,{children:[u("dsa_illegal_detail_explanation"),(0,i.jsx)(ao,{children:"*"}),(0,i.jsxs)(io,{children:[x.reportExplanation.length,"/400"]})]}),(0,i.jsx)(no,{rows:2,maxLength:400,placeholder:u("dsa_illegal_report_explanation_desc"),value:x.reportExplanation,onChange:e=>{var t;v(Object.assign(Object.assign({},x),{reportExplanation:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,i.jsx)(lo,{})]}),!1===w&&(0,i.jsxs)(Xt,{children:[(0,i.jsxs)(eo,{children:[u("dsa_illegal_appeal_signature"),(0,i.jsx)(ao,{children:"*"})]}),(0,i.jsx)(no,{rows:1,placeholder:u("dsa_illegal_sign_legal_name"),value:x.signature,onChange:e=>{var t;v(Object.assign(Object.assign({},x),{signature:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,i.jsx)(lo,{})]}),b&&!S&&(0,i.jsx)(Co,{}),(0,i.jsxs)(so,{onClick:()=>{v(Object.assign(Object.assign({},x),{checked:!x.checked}))},children:[(0,i.jsx)(It.h$,{checked:x.checked,label:""}),(0,i.jsx)(co,{children:u("dsa_illegal_confirm_accuracy")})]}),x.trustedFlagger&&(0,i.jsxs)(Xt,{style:{marginTop:"16px"},children:[(0,i.jsxs)(eo,{children:[u("dsa_illegal_report_trustedflagger_email"),(0,i.jsx)(ao,{children:"*"})]}),(0,i.jsx)(no,{rows:1,placeholder:"Fill in your email address",value:x.trustedFlaggerEmail,onChange:e=>{var t;v(Object.assign(Object.assign({},x),{trustedFlaggerEmail:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))},onBlur:()=>{C(Object.assign(Object.assign({},D),{trustedFlaggerInvalid:!(0,Ne.B9)(x.trustedFlaggerEmail)}))}}),(0,i.jsx)(lo,{}),D.trustedFlaggerInvalid&&(0,i.jsxs)(po,{children:[(0,i.jsx)(T.A,{}),(0,i.jsx)(uo,{children:u("dsa_illegal_report_trustedflagger_fill_email")})]})]}),F(),(0,i.jsx)(q.rW,{children:(0,i.jsx)(q.jl,{onClick:U,disabled:!A,children:u("Submit")})})]})})})),Io=(0,_.default)("div",{target:"esekbse0"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"703px",overflowY:"auto",overflowX:"hidden"})),"label:DivChooseCountryContainer;"),Ao=(0,_.default)("div",{target:"esekbse1"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,position:"relative"})),"label:DivSubmitContainer;"),Uo={id:"search-35c41e45",use:"search-35c41e45-usage",viewBox:"0 0 19 19",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 19" id="search-35c41e45"><path fill="#161823" fill-opacity=".34" fill-rule="evenodd" d="M8 14A6 6 0 1 1 8 2a6 6 0 0 1 0 12m0 2a8 8 0 1 1 6.32-3.094l4.362 4.362a.5.5 0 0 1 0 .707l-.707.707a.5.5 0 0 1-.707 0l-4.362-4.362A7.97 7.97 0 0 1 8 16" clip-rule="evenodd" /></symbol>'};function Oo(e){const t=(0,n.useContext)(R.X);return(0,n.useLayoutEffect)((()=>(t.add(Uo),()=>{t.remove("search-35c41e45")})),[]),(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,i.jsx)("use",{xlinkHref:"#search-35c41e45"},void 0)}),void 0)}const Fo=(0,_.default)("div",{target:"ei51d10"})((({theme:e})=>({background:e.colors.BGInput,borderRadius:"92px",height:"40px",position:"relative",display:"flex",alignItems:"center"})),"label:DivSearchBoxContainer;"),Lo=(0,_.default)("input",{target:"ei51d11"})((({theme:e})=>({marginInlineStart:"16px",fontWeight:"400px",fontSize:"16px",lineHeight:"24px",color:e.colors.TextTertiary,userSelect:"none",border:"none",background:"none",resize:"none",width:"100%",height:"100%",outline:"none"})),"label:DivSearchBoxInput;"),Ho=(0,_.default)("div",{target:"ei51d12"})((({})=>[{marginInlineStart:"auto",marginInlineEnd:"52px",position:"relative",display:"flex",alignItems:"center"}]),"label:DivSearchContainer;"),Bo=(0,_.default)("div",{target:"ei51d13"})((({theme:e})=>({height:"22px",width:"2px",background:e.colors.LineSecondary})),"label:DivVerticalLine;"),zo=(0,_.default)(Oo,{target:"ei51d14"})((({theme:{direction:e}})=>[{position:"absolute",left:"rtl"===e?"0px":"15px",right:"rtl"===e?"15px":"0px"}]),"label:DivSearchIconContainer;"),Wo=({placeholder:e,value:t,onChange:o,style:a={}})=>(0,i.jsxs)(Fo,{style:a,children:[(0,i.jsx)(Lo,{placeholder:e,value:t,onChange:o}),(0,i.jsxs)(Ho,{children:[(0,i.jsx)(Bo,{}),(0,i.jsx)(zo,{})]})]}),No=(0,_.default)("div",{target:"e1n4g7sr0"})((({theme:e})=>({padding:"16px 15px",display:"flex",alignItems:"center",color:e.colors.TextPrimary,lineHeight:"24px",fontSize:"16px",fontWeight:"400",cursor:"pointer"})),"label:DivItemContainer;"),Eo=(0,_.default)("div",{target:"e1n4g7sr1"})({marginInlineStart:"auto"},"label:DivRadioWrapper;"),Mo=({list:e=[],style:t={},onSelect:o,selectedIndex:a=-1,isMobile:r=!1})=>(0,i.jsx)("div",{style:t,children:e.map(((e,t)=>(0,i.jsxs)(No,{onClick:()=>{o&&o(t,e)},children:[e.text,(0,i.jsx)(Eo,{children:r?(0,i.jsx)(M,{label:"",value:a===t}):(0,i.jsx)(It.v3,{name:"",label:"",value:1,checked:a===t})})]},e.key)))}),qo=(0,n.memo)((function(){const e=(0,c.s)(),[t,o]=(0,n.useState)(""),[l,s]=(0,n.useState)(),[d,p]=(0,n.useState)(-1),u=(0,a.w)(h.hf),g=(0,r.P)(h.hf,{selector:e=>{const{UserData:t,PreState:o,reasonsAPIVersion:i,DSACountriesList:a}=e;return{UserData:t,PreState:o,reasonsAPIVersion:i,DSACountriesList:a}},dependencies:[]});(0,n.useEffect)((()=>{0===g.DSACountriesList.length&&u.getDSACountries()}),[]);const x=(0,n.useCallback)((e=>{null==e||e.preventDefault(),void 0!==l&&(u.setChoosenDSACountry(l),u.handlePrevStep())}),[l]),v=(0,n.useCallback)((e=>e.map((e=>({key:e.code,text:e.desc}))).sort(((e,t)=>e.key.localeCompare(t.key)))),[]),m=(0,n.useMemo)((()=>""===t.trim()?v(g.DSACountriesList):v(g.DSACountriesList).filter((e=>e.text.toLowerCase().startsWith(t.toLowerCase())))),[t,g.DSACountriesList]);return(0,i.jsxs)(Io,{children:[(0,i.jsx)(Wo,{value:t,onChange:e=>{o(e.target.value),p(-1),s(void 0)},placeholder:e("dsa_illegal_select_region"),style:{margin:"24px 24px 16px 24px"}}),(0,i.jsx)(Mo,{selectedIndex:d,list:m,style:{height:"522px",overflowY:"auto",padding:"0px 24px 0px 24px"},onSelect:e=>{p(e),s({code:m[e].key,desc:m[e].text})}}),(0,i.jsx)(Ao,{children:(0,i.jsx)(q.jl,{onClick:x,children:e("Confirm")})})]})})),Vo=1440,$o=(0,_.default)("h4",{target:"e13cyvd6"})((({theme:e})=>({fontSize:"17px",lineHeight:"44px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.bold,textAlign:"center",flex:1})),"label:H4FormTitle;");$o.defaultProps=Object.assign(Object.assign({},$o.defaultProps),{"data-e2e":"report-card-title"});const Go=(0,_.default)("label",{target:"e13cyvd10"})({boxSizing:"border-box",minHeight:"54px",display:"flex",flex:"1 1 100%",flexDirection:"row",alignItems:"center",cursor:"pointer",position:"relative",wordBreak:"break-all",justifyContent:"space-between",borderRadius:"8px"},"label:LabelRadio;");Go.defaultProps=Object.assign(Object.assign({},Go.defaultProps),{"data-e2e":"report-card-reason"});const Jo=(0,_.default)("div",{target:"e13cyvd12"})((({theme:e})=>[{color:e.colors.TextPrimary,fontSize:"17px",lineHeight:"20px",fontWeight:600,marginBottom:"12px",marginTop:"8px"},(0,jt.jJ)({min:Vo,style:{fontSize:"28px",lineHeight:"44px"}})]),"label:DivTitle;"),Ko=(0,_.default)("div",{target:"e13cyvd13"})((({theme:e})=>[{color:e.colors.TextSecondary,fontSize:"14px",lineHeight:"17px",marginBottom:"8px"},(0,jt.jJ)({min:Vo,style:{fontSize:"24px",lineHeight:"38px"}})]),"label:DivSubTitle;"),Zo=(0,_.default)("li",{target:"e13cyvd14"})((({theme:e})=>[{marginBottom:"8px",color:e.colors.TextSecondary,fontSize:"14px",lineHeight:"17px"},(0,jt.jJ)({min:Vo,style:{fontSize:"24px",lineHeight:"38px",margin:"16px 0"}})]),"label:LiItem;"),Yo=((0,jt.jJ)({min:Vo,style:{width:"36px",height:"36px"}}),({title_text:e,subtitle_text:t,desc_text:o,children:a,device:r="pc"})=>{const[n,l,s]="pc"===r?[q.Ug,q.UP,q.lg]:[Jo,Ko,Zo];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{children:null!=e?e:""}),t&&(0,i.jsx)(l,{children:null!=t?t:""}),(null==o?void 0:o.length)?(0,i.jsx)("ul",{style:{margin:"0px",paddingInlineStart:"26px"},children:o.map((e=>(0,i.jsx)(s,{children:(0,i.jsx)("span",{children:e})},e)))}):null,a&&a]})}),Qo=(0,_.default)("div",{target:"e1f38ozo0"})((({theme:e})=>({background:e.colors.BGInput,color:e.colors.TextSecondary,borderRadius:"8px",padding:"12px",margin:"10px"})),"label:SectionWrapper;"),Xo=({text:e,placeholder:t,link:o,linkText:a,style:r})=>{const n=e.split(t).reduce(((e,t,r,n)=>(e.push(t),r<n.length-1&&e.push((0,i.jsx)("a",{href:o,style:{fontWeight:"bold"},target:"_blank",rel:"noopener noreferrer",children:a},`${o}-${r}`)),e)),[]);return(0,i.jsx)(Qo,{style:r,children:n})},ei=({selectedReason:e})=>{const{lawDescription:t}=(e=>{const[t,o]=(0,n.useState)(null);return(0,n.useEffect)((()=>{var t;if(e){const i=((e,t)=>{try{const o=e.find((e=>JSON.parse(e).ID===t));return o?JSON.parse(o):null}catch(e){return console.error(`Failed to parse module data for ID ${t}:`,e),null}})(null!==(t=e.generic_module)&&void 0!==t?t:[],"CA_LAW");o(i)}else o(null)}),[e]),{lawDescription:t}})(e);return t?(0,i.jsx)(Xo,{text:t.ca_law_text,placeholder:t.ca_law_placeholder,link:t.ca_law_link,linkText:t.ca_law_link_text,style:{color:"grey"}}):null},ti=()=>{var e,t,o,l,s,d,p,u,g,x,v,m,_,f,b;const y=(0,c.s)(),j=(0,a.w)(h.hf),w=(0,r.P)(h.hf,{selector:e=>{const{UserData:t,reportTarget:o,reasonsAPIVersion:i}=e;return{UserData:t,reportTarget:o,reasonsAPIVersion:i}},dependencies:[]}),{region:S="",user:k}=null!==(e=(0,H.W)((()=>["region","user"]),[]))&&void 0!==e?e:{},[D,C]=(0,n.useState)({title:"",subtitle:"",introduction:""}),[T,P]=(0,n.useState)(),R=(0,n.useCallback)((e=>{var t,o,i,a,r,n,l,s;e.preventDefault(),e.stopPropagation(),3!==w.reasonsAPIVersion&&(null===(o=null===(t=w.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_type)?j.postReport({reason:null===(a=null===(i=w.UserData)||void 0===i?void 0:i.selectedReason)||void 0===a?void 0:a.reason_type,extraData:null,region:S,uid:null==k?void 0:k.uid}):(null===(n=null===(r=w.UserData)||void 0===r?void 0:r.selectedReason)||void 0===n?void 0:n.reason_code)&&j.postReport({reason:null===(s=null===(l=w.UserData)||void 0===l?void 0:l.selectedReason)||void 0===s?void 0:s.reason_code,extraData:null,region:S,uid:null==k?void 0:k.uid})}),[j,null===(o=null===(t=w.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_type,null===(s=null===(l=w.UserData)||void 0===l?void 0:l.selectedReason)||void 0===s?void 0:s.reason_code,S,null==k?void 0:k.uid]);return(0,n.useEffect)((()=>{if(w.UserData.selectedReason){const e=JSON.parse(w.UserData.selectedReason.option)||{};w.reasonsAPIVersion===ze.Hs?P(e):C(e.intro||{})}}),[]),(0,i.jsx)(q.nM,{children:3!==w.reasonsAPIVersion?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Yo,{title_text:D.title,subtitle_text:D.subtitle,desc_text:(D.introduction||"").split("\n")}),(0,i.jsx)(q.rW,{children:(0,i.jsx)(q.jl,{onClick:R,children:y("Submit")})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Yo,{title_text:null!==(u=null===(p=null===(d=null==T?void 0:T.action)||void 0===d?void 0:d.action_params)||void 0===p?void 0:p.title_text)&&void 0!==u?u:"",subtitle_text:null!==(v=null===(x=null===(g=null==T?void 0:T.action)||void 0===g?void 0:g.action_params)||void 0===x?void 0:x.subtitle_text)&&void 0!==v?v:"",desc_text:null!==(f=null===(_=null===(m=null==T?void 0:T.action)||void 0===m?void 0:m.action_params)||void 0===_?void 0:_.desc_text)&&void 0!==f?f:[]}),(0,i.jsx)(ei,{selectedReason:null===(b=w.UserData)||void 0===b?void 0:b.selectedReason}),(0,i.jsx)(q.rW,{children:(0,i.jsx)(q.jl,{onClick:R,children:y("Submit")})})]})})};var oi=o(29098),ii=o(75778),ai=o(30264),ri=o(75431);const ni=(0,ri.i7)({"0%":{transform:"rotate(0deg)"},"50%":{transform:"rotate(180deg)"},"100%":{transform:"rotate(360deg)"}}),li=(0,_.default)("div",{target:"e1n5v3jy0"})({animation:`${ni} 1s ease-out infinite`,width:"16px",height:"16px"},"label:DivRotate;"),si=(0,_.default)("input",{target:"e1n5v3jy1"})((({theme:e})=>({borderTop:"0px",borderLeft:"0px",borderRight:"0px",borderBottom:`1px solid ${e.colors.LineSecondary}`,fontSize:"16px",width:"100%",padding:"14px 0px",lineHeight:"22px",outline:"none",marginTop:"14px",background:e.colors.BGPrimary,color:e.colors.TextPrimary})),"label:InputUser;"),di=(0,_.default)("div",{target:"e1n5v3jy2"})((({theme:e})=>({padding:"8px 0px",borderBottom:`1px solid ${e.colors.LineSecondary}`})),"label:DivUserCC;"),ci=(0,_.default)("div",{target:"e1n5v3jy3"})({width:"100%",height:"64px",position:"relative"},"label:DivC;"),pi=(0,_.default)("div",{target:"e1n5v3jy4"})({height:"48px",position:"relative"},"label:DivUserInfo;"),ui=(0,_.default)("img",{target:"e1n5v3jy5"})({width:"48px",height:"48px",borderRadius:"50%",position:"absolute",left:"0",top:"0"},"label:ImgUserAvator;"),gi=(0,_.default)("div",{target:"e1n5v3jy6"})((({theme:e})=>({position:"absolute",left:"60px",top:"0px",height:"25px",lineHeight:"25px",fontSize:"18px",color:e.colors.TextPrimary})),"label:DivUserName;"),hi=(0,_.default)("div",{target:"e1n5v3jy7"})((({theme:e})=>({position:"absolute",left:"60px",top:"27px",height:"20px",lineHeight:"20px",fontSize:"14px",color:e.colors.TextPrimary})),"label:DivUserId;"),xi=(0,_.default)("div",{target:"e1n5v3jy8"})({position:"absolute",right:"16px",bottom:"16px",width:"16px",height:"16px"},"label:DivCbutton;"),vi=(0,_.default)("li",{target:"e1n5v3jy9"})((({theme:e})=>({width:"100%",height:"64px",padding:"8px 16px",":hover":{background:e.colors.BGPlaceholderOpaque}})),"label:LiUser;"),mi=(0,_.default)("ul",{target:"e1n5v3jy10"})((({theme:e})=>({position:"relative",margin:"0px",width:"100%",maxHeight:"360px",overflowY:"scroll",padding:"0px",background:e.colors.BGSecondary,boxShadow:e.isDark?"":"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:"8px",zIndex:22})),"label:UlUser;");let _i=null;const fi=(0,n.memo)((function({onChange:e}){const t=(0,c.s)(),o=(0,x.Nj)(ai.S),[a,r]=(0,n.useState)(!1),[l,s]=(0,n.useState)(""),[d,p]=(0,n.useState)(null),[u,g]=(0,n.useState)([]),[h,v]=(0,n.useState)(!1),[m,_]=(0,n.useState)(0),[f,b]=(0,n.useState)(!0),y=(0,n.useCallback)((t=>{d&&(p(null),_(0),s(""),g([]),e(null))}),[d,e]),j=(0,n.useCallback)((t=>o=>{o.preventDefault(),o.stopPropagation(),p(t),r(!1),e(t)}),[e]),w=(0,n.useCallback)(((e,t)=>{!h&&f&&(v(!0),o.getUserSearch({keyword:e,cursor:t}).subscribe((e=>{var o;if(v(!1),0===e.status_code||203===e.status_code){b(Boolean(e.has_more));const{user_list:i}=e,a=null!==(o=null==i?void 0:i.map((e=>({uid:e.user_info.uid,nickname:e.user_info.nickname,username:e.user_info.unique_id,avatar:e.user_info.avatar_thumb.url_list.find((e=>e.indexOf(".jpeg")>-1))||e.user_info.avatar_thumb.url_list[0],isVerify:Boolean(e.user_info.custom_verify||e.user_info.verify_info_tt||e.user_info.enterprise_verify_reason)}))))&&void 0!==o?o:[],n=[...0===t?[]:u,...a];_(n.length),g(n),r(!0)}})))}),[h,f,o,u]),S=(0,n.useCallback)((e=>{const t=e.target.value;s(t),_i&&clearTimeout(_i),_i=setTimeout((()=>{t&&w(t,0)}),1e3)}),[w]),k=(0,n.useCallback)((e=>{const t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&!h&&w(l,m)}),[l,m,w,h]);return(0,i.jsxs)("div",{children:[(0,i.jsxs)(ci,{children:[d?(0,i.jsx)(di,{children:(0,i.jsxs)(pi,{children:[(0,i.jsx)(ui,{src:d.avatar}),(0,i.jsxs)(gi,{children:[(0,i.jsx)("span",{style:{paddingRight:"4px"},children:d.nickname}),d.isVerify?(0,i.jsx)(oi.A,{style:{verticalAlign:"middle"},width:14,height:14,"data-e2e":"user-bluev"}):null]}),(0,i.jsx)(hi,{children:d.username})]})}):(0,i.jsx)(si,{value:l,placeholder:t("Web_report_account_impersonated_search"),onChange:S}),(0,i.jsx)(xi,{onClick:y,children:d?(0,i.jsx)(ii.A,{style:{fontSize:16}}):h?(0,i.jsx)(li,{children:(0,i.jsx)(C.A,{style:{fontSize:16}})}):null})]}),a?(0,i.jsx)(mi,{onScroll:k,children:u.map((e=>(0,i.jsx)(vi,{children:(0,i.jsxs)(pi,{onClick:j(e),children:[(0,i.jsx)(ui,{src:e.avatar}),(0,i.jsxs)(gi,{children:[(0,i.jsx)("span",{style:{paddingRight:"4px"},children:e.nickname}),e.isVerify?(0,i.jsx)(oi.A,{style:{verticalAlign:"middle"},width:14,height:14,"data-e2e":"user-bluev"}):null]}),(0,i.jsx)(hi,{children:e.username})]})},e.username)))}):null]})})),bi=(0,_.default)("div",{target:"e1xsicpb0"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"65vh",overflowY:"hidden",overflowX:"hidden"})),"label:DivRadioWrapper;"),yi=(0,_.default)("div",{target:"e1xsicpb1"})((({theme:e})=>({height:"54px",width:"100%",backgroundColor:e.colors.BGView,padding:"16px 24px",color:e.colors.TextSecondary,fontSize:"16px",lineHeight:"22px"})),"label:DivReport;"),ji=(0,_.default)("div",{target:"e1xsicpb2"})((({theme:e})=>({marginTop:"24px",fontSize:"18px",lineHeight:"24px",height:"24px",padding:"0 24px",color:e.colors.TextPrimary})),"label:DivUTitle;"),wi=(0,_.default)("div",{target:"e1xsicpb3"})((({theme:e})=>({marginTop:"10px",fontSize:"16px",lineHeight:"22px",height:"22px",color:e.colors.TextTertiary,padding:"0 24px"})),"label:DivUSubTitle;"),Si=(0,_.default)("div",{target:"e1xsicpb4"})((({theme:e})=>({position:"absolute",bottom:"96px",left:"0",width:"100%",fontSize:"14px",lineHeight:"20px",color:e.colors.TextSecondary,padding:"0 24px"})),"label:DivDesc;"),ki=(0,_.default)("div",{target:"e1xsicpb5"})({marginTop:"12px",padding:"0px 24px"},"label:DivUser;"),Di=()=>{var e,t,o;const l=(0,c.s)(),s=(0,a.w)(h.hf),[d,p]=(0,n.useState)(null),[u,g]=(0,n.useState)(!0),x=(0,r.P)(h.hf,{selector:e=>{const{UserData:t,reasonsAPIVersion:o}=e;return{UserData:t,reasonsAPIVersion:o}},dependencies:[]}),v=(0,n.useMemo)((()=>{var e,t,o,i,a,r,n;return x.reasonsAPIVersion===ze.Hs&&(null===(e=x.UserData)||void 0===e?void 0:e.selectedReason).reason_code?null!==(i=null===(o=null===(t=x.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_code)&&void 0!==i?i:0:null!==(n=null===(r=null===(a=x.UserData)||void 0===a?void 0:a.selectedReason)||void 0===r?void 0:r.reason_type)&&void 0!==n?n:0}),[x.reasonsAPIVersion]),m=(0,n.useCallback)((e=>{e?(g(!1),p(e)):(g(!0),p(null))}),[]),{region:_="",user:f}=null!==(e=(0,H.W)((()=>["region","user"]),[]))&&void 0!==e?e:{},b=(0,n.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),x.UserData.selectedReason&&d){const e={related_username:d.username,related_ttid:d.uid};s.postReport({reason:v,extraData:e,region:_,uid:null==f?void 0:f.uid})}}),[x.UserData.selectedReason,d,s,_,null==f?void 0:f.uid]);let y="";if(x.UserData.HistoryReason){const e=(null===(t=x.UserData.HistoryReason)||void 0===t?void 0:t.length)||2;e>=2&&(y=(null===(o=x.UserData.HistoryReason[e-2])||void 0===o?void 0:o.text)||"")}return(0,i.jsxs)(bi,{children:[(0,i.jsxs)(yi,{children:[l("Web_report_reason_select"),y]}),(0,i.jsx)(ji,{children:l("Web_report_account_impersonated")}),(0,i.jsx)(wi,{children:l("Web_report_account_impersonated_description")}),(0,i.jsx)(ki,{children:(0,i.jsx)(fi,{onChange:m})}),(0,i.jsx)(Si,{children:l("Web_report_description_tips")}),(0,i.jsx)(q.rW,{children:(0,i.jsx)(q.jl,{disabled:u,onClick:b,children:l("Submit")})})]})},Ci=e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",borderRadius:"4px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}),Ti=(0,_.default)("textarea",{target:"e5vi6k50"})((({theme:e})=>Object.assign(Object.assign({},Ci(e)),{resize:"none",height:"80px",margin:"0px 16px",fontSize:"15px",lineHeight:"18px"})),"label:MobileTextareaDescription;"),Pi=(0,_.default)("div",{target:"e5vi6k51"})((({theme:e})=>({fontSize:"15px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,display:"flex",marginTop:"24px",padding:"0 8px"})),"label:MobileDivTitle;"),Ri=(0,_.default)(Ti,{target:"e5vi6k52"})((({theme:e})=>({margin:"0px",width:"100%",height:"unset",marginTop:"10px",fontSize:"15px",lineHeight:"18px",padding:"16px",backgroundColor:e.colors.BGPlaceholderDefault})),"label:MobileDivInputArea;"),Ii=(0,_.default)("div",{target:"e5vi6k53"})((({theme:e})=>({fontSize:"16px",lineHeight:"24px",color:e.colors.TextSecondary,fontWeight:400,marginInlineStart:"auto",textAlign:"right"})),"label:MobileDivCounter;"),Ai=(0,_.default)("div",{target:"e5vi6k54"})((({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,display:"flex",margin:"24px 8px 0"})),"label:PcDivTitle;"),Ui=Ii,Oi=(0,_.default)("textarea",{target:"e5vi6k55"})((({theme:e})=>Object.assign(Object.assign({},Ci(e)),{resize:"none",height:"80px",margin:"0px 24px",fontSize:"16px",backgroundColor:e.colors.BGPrimary})),"label:PcTextareaDescription;"),Fi=(0,_.default)(Oi,{target:"e5vi6k56"})((({theme:e})=>({margin:"0px",width:"100%",height:"unset",marginTop:"10px",fontSize:"16px",lineHeight:"24px",padding:"16px",minHeight:"200px",backgroundColor:e.colors.BGPlaceholderDefault})),"label:PcDivInputArea;"),Li=({title:e,onChange:t,placeholder:o,maxLength:a=200,rows:r=6,reportExplanation:n,device:l="pc"})=>{const[s,d,c]="pc"===l?[Ai,Fi,Ui]:[Pi,Ri,Ii];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s,{children:e}),(0,i.jsx)(d,{rows:r,maxLength:a,placeholder:o,value:n,onChange:t}),(0,i.jsxs)(c,{children:[n.length,"/",a]})]})},Hi=()=>{var e,t,o,l,s,d,p,u,g,x,v,m,_,f,b;const y=(0,c.s)(),j=(0,a.w)(h.hf),w=(0,r.P)(h.hf,{selector:e=>{const{UserData:t,reportTarget:o}=e;return{UserData:t,reportTarget:o}},dependencies:[]}),{region:S="",user:k}=null!==(e=(0,H.W)((()=>["region","user"]),[]))&&void 0!==e?e:{},[D,C]=(0,n.useState)(),[T,P]=(0,n.useState)(""),R=(0,n.useCallback)((e=>{var t,o,i,a;e.preventDefault(),e.stopPropagation(),(null===(o=null===(t=w.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_code)&&j.postReport({reason:null===(a=null===(i=w.UserData)||void 0===i?void 0:i.selectedReason)||void 0===a?void 0:a.reason_code,extraData:{report_desc:T},region:S,uid:null==k?void 0:k.uid})}),[j,null===(o=null===(t=w.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_type,null===(s=null===(l=w.UserData)||void 0===l?void 0:l.selectedReason)||void 0===s?void 0:s.reason_code,S,null==k?void 0:k.uid,T]);return(0,n.useEffect)((()=>{if(w.UserData.selectedReason){const e=JSON.parse(w.UserData.selectedReason.option)||{};C(e)}}),[]),(0,i.jsxs)(q.nM,{children:[(0,i.jsx)(Yo,{title_text:null!==(u=null===(p=null===(d=null==D?void 0:D.action)||void 0===d?void 0:d.action_params)||void 0===p?void 0:p.title_text)&&void 0!==u?u:"",subtitle_text:null!==(v=null===(x=null===(g=null==D?void 0:D.action)||void 0===g?void 0:g.action_params)||void 0===x?void 0:x.subtitle_text)&&void 0!==v?v:"",desc_text:null!==(f=null===(_=null===(m=null==D?void 0:D.action)||void 0===m?void 0:m.action_params)||void 0===_?void 0:_.desc_text)&&void 0!==f?f:[],children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ei,{selectedReason:null===(b=w.UserData)||void 0===b?void 0:b.selectedReason}),(0,i.jsx)(Li,{title:y("hbReportUpdate_selectReportReason_reportHB_sectionDescribe"),placeholder:y("hbReportUpdate_selectReportReason_reportHB_sectionPlaceholder"),reportExplanation:T,onChange:e=>{const t=e.target.value;t.length<=200&&P(t)},maxLength:200})]})}),(0,i.jsx)(q.rW,{children:(0,i.jsx)(q.jl,{onClick:R,children:y("Submit")})})]})};var Bi=o(23461);const zi=function({className:e,style:t={},onClick:o,isSelected:a,isMobile:r}){return a?(0,i.jsxs)("svg",{onClick:o,style:Object.assign({},t),className:e,"data-cy":"radio_selected_icon",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{x:"3.25",y:"3.25",width:"15.5",height:"15.5",rx:"7.75",fill:"white"}),(0,i.jsx)("rect",{x:"3.25",y:"3.25",width:"15.5",height:"15.5",rx:"7.75",stroke:"#FE2C55",strokeWidth:"6.5"})]}):(0,i.jsx)("svg",{onClick:o,style:Object.assign({},t),className:e,"data-cy":"radio_selected_icon",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("rect",{x:"0.75",y:"0.75",width:"20.5",height:"20.5",rx:"10.25",stroke:r?"var(--TextTertiary2)":"var(--ui-shape-neutral-2)",strokeWidth:"1.5"})})},Wi=(0,ri.i7)({"0%":{transform:"rotate(0deg)"},"50%":{transform:"rotate(180deg)"},"100%":{transform:"rotate(360deg)"}}),Ni=(0,_.default)("div",{target:"e10bm5km0"})({overflow:"hidden",flex:1,display:"flex",flexDirection:"column",minHeight:"300px"},"label:DivUserSearchWrapper;"),Ei=(0,_.default)("div",{target:"e10bm5km1"})({animation:`${Wi} 1s ease-out infinite`,width:"16px",height:"16px"},"label:DivRotate;"),Mi=(0,_.default)("input",{target:"e10bm5km2"})((({theme:e})=>({flex:1,fontSize:"16px",lineHeight:"22px",outline:"none",background:"rgba(255, 255, 255, 0)",color:e.colors.TextPrimary,margin:"0 5px"})),"label:InputUser;"),qi=(0,_.default)("div",{target:"e10bm5km3"})((({theme:e})=>({width:"100%",position:"relative",display:"flex",alignItems:"center",margin:"12px 0",padding:"8px",borderRadius:"4px",backgroundColor:e.colors.BGInput})),"label:DivC;"),Vi=(0,_.default)("div",{target:"e10bm5km4"})({width:"calc(100% - 24px)",height:"48px",display:"flex",justifyContent:"flex-start",alignItems:"center"},"label:DivUserWrapper;"),$i=(0,_.default)("img",{target:"e10bm5km5"})({width:"48px",height:"48px",borderRadius:"50%"},"label:ImgUserAvator;"),Gi=(0,_.default)("div",{target:"e10bm5km6"})((({theme:e})=>({fontSize:"18px",color:e.colors.TextPrimary,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})),"label:DivUserName;"),Ji=(0,_.default)("span",{target:"e10bm5km7"})((({theme:e})=>({color:e.colors.TextTertiary,margin:"0 4px"})),"label:SpanFriend;"),Ki=(0,_.default)("div",{target:"e10bm5km8"})((()=>({overflow:"hidden",margin:"0 12px"})),"label:DivUserInfo;"),Zi=(0,_.default)("div",{target:"e10bm5km9"})((({theme:e})=>({fontSize:"14px",color:e.colors.TextTertiary,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})),"label:DivUserId;"),Yi=(0,_.default)("div",{target:"e10bm5km10"})({width:"16px",height:"16px"},"label:DivCbutton;"),Qi=(0,_.default)("li",{target:"e10bm5km11"})((()=>({display:"flex",justifyContent:"space-between",width:"100%",height:"64px",padding:"8px 0px"})),"label:LiUser;"),Xi=(0,_.default)("ul",{target:"e10bm5km12"})((()=>({margin:"0px",width:"100%",overflowY:"scroll",padding:"0px","::-webkit-scrollbar":{display:"none"}})),"label:UlUser;"),ea=(0,_.default)("div",{target:"e10bm5km13"})({display:"flex",alignItems:"center"},"label:DivIconWrapper;"),ta=(0,_.default)("p",{target:"e10bm5km14"})((({theme:e})=>({color:e.colors.TextTertiary,fontSize:"15px",lineHeight:"18px",padding:"16px 0px"})),"label:PNoResult;"),oa=(0,_.default)("li",{target:"e10bm5km15"})({display:"flex",justifyContent:"center"},"label:LiLoadingWrapper;");let ia=null;const aa=(0,n.memo)((function({onChange:e,selectedUser:t,device:o="pc"}){const a=(0,c.s)(),r=(0,x.Nj)(ai.S),[l,s]=(0,n.useState)(""),[d,p]=(0,n.useState)([]),[u,g]=(0,n.useState)(!1),[h,v]=(0,n.useState)(0),[m,_]=(0,n.useState)(!0),[f,b]=(0,n.useState)(""),y="mobile"===o,j=(0,n.useCallback)((t=>{s(""),e(null),p([]),_(!0)}),[e]),w=(0,n.useCallback)(((e,t)=>{!u&&m&&(g(!0),r.getUserSearch({keyword:e,cursor:t,search_id:f}).subscribe((e=>{var o,i,a;if(g(!1),0===e.status_code||203===e.status_code){_(Boolean(e.has_more));const{user_list:r}=e;b(null!==(i=null===(o=null==e?void 0:e.log_pb)||void 0===o?void 0:o.impr_id)&&void 0!==i?i:"");const n=null!==(a=null==r?void 0:r.map((e=>({uid:e.user_info.uid,nickname:e.user_info.nickname,username:e.user_info.unique_id,avatar:e.user_info.avatar_thumb.url_list.find((e=>e.indexOf(".jpeg")>-1))||e.user_info.avatar_thumb.url_list[0],isFriend:Boolean(e.user_info.friends_status)}))))&&void 0!==a?a:[],l=[...0===t?[]:d,...n];v(l.length),p(l)}})))}),[u,m,r,d]),S=(0,n.useCallback)((e=>{const t=e.target.value;s(t),_(!0),ia&&clearTimeout(ia),ia=setTimeout((()=>{t&&w(t,0)}),1e3)}),[w]),k=(0,n.useCallback)((e=>{const t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&!u&&w(l,h)}),[l,h,w,u]);return(0,i.jsxs)(Ni,{children:[(0,i.jsxs)(qi,{children:[(0,i.jsx)(ea,{style:{color:y?"var(--TextTertiary2)":"var(--ui-shape-neutral-2)"},children:(0,i.jsx)(Bi.K,{size:20,color:"TextTertiary2"})}),(0,i.jsx)(Mi,{value:l,placeholder:a("hbReportUpdate_selectReportReason_reportHB_sectionSearch"),onChange:S}),(0,i.jsx)(Yi,{onClick:j,children:l?(0,i.jsx)(ii.A,{style:{fontSize:16,color:"var(--TextTertiary2)"}}):u?(0,i.jsx)(Ei,{children:(0,i.jsx)(C.A,{style:{fontSize:16}})}):null})]}),u||0!==d.length||!l||m?(0,i.jsxs)(Xi,{onScroll:k,children:[d.map(((o,r)=>(0,i.jsxs)(Qi,{onClick:i=>{i.preventDefault(),i.stopPropagation(),(o=>{(null==o?void 0:o.uid)===(null==t?void 0:t.uid)?e(null):e(o)})(o)},children:[(0,i.jsxs)(Vi,{children:[(0,i.jsx)($i,{src:o.avatar}),(0,i.jsxs)(Ki,{children:[(0,i.jsxs)(Gi,{children:[(0,i.jsx)("span",{style:{paddingRight:"4px"},children:o.nickname}),o.isFriend&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ji,{className:"text-color-TextTertiary",children:""}),(0,i.jsx)(Ji,{className:"text-color-TextTertiary",children:a("hbReportUpdate_selectUser_friendStatus_label")})]})]}),(0,i.jsx)(Zi,{children:o.username})]})]}),(0,i.jsx)(ea,{children:(0,i.jsx)(zi,{isSelected:(null==t?void 0:t.uid)===(null==o?void 0:o.uid),isMobile:y})})]},o.username+r))),u?(0,i.jsx)(oa,{children:(0,i.jsx)(P.R,{})}):null]}):(0,i.jsx)(ta,{children:"no_results"===a("no_results")?"":a("no_results")})]})})),ra=()=>{var e,t,o,l,s,d,p,u,g;const x=(0,c.s)(),v=(0,a.w)(h.hf),m=(0,r.P)(h.hf,{selector:e=>{const{UserData:t}=e;return{UserData:t}},dependencies:[]}),[_,f]=(0,n.useState)(),[b,y]=(0,n.useState)(null),{region:j="",user:w}=null!==(e=(0,H.W)((()=>["region","user"]),[]))&&void 0!==e?e:{},S=(0,n.useCallback)((e=>{var t,o,i,a,r;e.preventDefault(),e.stopPropagation(),(null===(o=null===(t=m.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_code)&&v.postReport({reason:null===(a=null===(i=m.UserData)||void 0===i?void 0:i.selectedReason)||void 0===a?void 0:a.reason_code,extraData:{been_hb_user_ids:JSON.stringify([null!==(r=null==b?void 0:b.uid)&&void 0!==r?r:""])},region:j,uid:null==w?void 0:w.uid})}),[v,null===(o=null===(t=m.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_type,null===(s=null===(l=m.UserData)||void 0===l?void 0:l.selectedReason)||void 0===s?void 0:s.reason_code,j,null==w?void 0:w.uid,null==b?void 0:b.uid]);return(0,n.useEffect)((()=>{var e;if(m.UserData.selectedReason){const t=null!==(e=JSON.parse(m.UserData.selectedReason.option))&&void 0!==e?e:{};f(t)}}),[m.UserData.selectedReason]),(0,i.jsxs)(q.nM,{children:[(0,i.jsx)(Yo,{title_text:null!==(u=null===(p=null===(d=null==_?void 0:_.action)||void 0===d?void 0:d.action_params)||void 0===p?void 0:p.title_text)&&void 0!==u?u:"",subtitle_text:x("hbReportUpdate_selectReportReason_reportHB_sectionAddName"),desc_text:[],children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(aa,{selectedUser:b,onChange:y}),(0,i.jsx)(ei,{selectedReason:null===(g=m.UserData)||void 0===g?void 0:g.selectedReason})]})}),(0,i.jsx)(q.rW,{children:(0,i.jsx)(q.jl,{disabled:!b,onClick:S,children:x("Submit")})})]})},na=e=>{const{UserData:t,reportTarget:o}=e;return{UserData:t,reportTarget:o}},la=()=>{var e,t,o,l,s,d;const p=(0,c.s)(),{v3Contents:u,desc:g,handleSubmitPost:x,onDescInput:v}=((e,t=[])=>{var o,i,l,s,d;const c=(0,a.w)(h.hf),p=(0,r.P)(h.hf,{selector:e,dependencies:t}),{region:u="",user:g}=null!==(o=(0,H.W)((()=>["region","user"]),[]))&&void 0!==o?o:{},[x,v]=(0,n.useState)(),[m,_]=(0,n.useState)(""),f=(0,n.useCallback)((e=>{var t,o,i,a;e.preventDefault(),e.stopPropagation(),(null===(o=null===(t=p.UserData)||void 0===t?void 0:t.selectedReason)||void 0===o?void 0:o.reason_code)&&c.postReport({reason:null===(a=null===(i=p.UserData)||void 0===i?void 0:i.selectedReason)||void 0===a?void 0:a.reason_code,extraData:{report_desc:m},region:u,uid:null==g?void 0:g.uid})}),[c,null===(l=null===(i=p.UserData)||void 0===i?void 0:i.selectedReason)||void 0===l?void 0:l.reason_type,null===(d=null===(s=p.UserData)||void 0===s?void 0:s.selectedReason)||void 0===d?void 0:d.reason_code,u,null==g?void 0:g.uid,m]);return(0,n.useEffect)((()=>{if(p.UserData.selectedReason){const e=JSON.parse(p.UserData.selectedReason.option)||{};v(e)}}),[p.UserData.selectedReason]),{v3Contents:x,desc:m,handleSubmitPost:f,onDescInput:e=>{const t=e.target.value;t.length<=200&&_(t)}}})(na);return(0,i.jsxs)(q.nM,{children:[(0,i.jsx)(Yo,{title_text:null!==(o=null===(t=null===(e=null==u?void 0:u.action)||void 0===e?void 0:e.action_params)||void 0===t?void 0:t.title_text)&&void 0!==o?o:"",subtitle_text:"",desc_text:null!==(d=null===(s=null===(l=null==u?void 0:u.action)||void 0===l?void 0:l.action_params)||void 0===s?void 0:s.desc_text)&&void 0!==d?d:[],children:(0,i.jsx)(Li,{title:p("eCommerceReporting_reportPg_addDesc_title"),placeholder:p("eCommerceReporting_reportPg_addDesc_placeholder"),reportExplanation:g,onChange:v,maxLength:200})}),(0,i.jsx)(q.rW,{children:(0,i.jsx)(q.jl,{onClick:x,children:p("Submit")})})]})},sa=(0,n.memo)((function({onClose:e,visible:t=!1,asComponent:o=!1,setPage:x,onBack:v,useBack:m,onSubmit:_}){var f;const b=(0,c.s)(),{isRTL:y}=(0,g.m)(),j=(0,a.w)(h.hf),w=(0,r.P)(h.hf,{selector:e=>{const{PageState:t,PreState:o,reportTarget:i,reasons:a,UserData:r}=e;return{PageState:t,PreState:o,reportTarget:i,reasons:a,UserData:r}},dependencies:[]}),k=(0,n.useCallback)((()=>{var t,o,i,a,r,n,l,s,d,c;"suggestion"!==(null===(t=w.reportTarget)||void 0===t?void 0:t.report_type)&&"sug_recommend"!==(null===(o=w.reportTarget)||void 0===o?void 0:o.report_type)||nt.o.handleReportSugFinish({object_id:w.reportTarget.object_id,object_type:w.reportTarget.report_type,impr_id:null===(i=w.reportTarget.suggestion_extra)||void 0===i?void 0:i.impr_id,feedback_id:null===(a=w.reportTarget.suggestion_extra)||void 0===a?void 0:a.feedback_id,group_id:null===(r=w.reportTarget.suggestion_extra)||void 0===r?void 0:r.group_id,sug_type:null===(n=w.reportTarget.suggestion_extra)||void 0===n?void 0:n.sug_type,raw_query:null===(l=w.reportTarget.suggestion_extra)||void 0===l?void 0:l.raw_query,words_content:null===(s=w.reportTarget.suggestion_extra)||void 0===s?void 0:s.words_content,words_position:null===(d=w.reportTarget.suggestion_extra)||void 0===d?void 0:d.words_position,words_source:null===(c=w.reportTarget.suggestion_extra)||void 0===c?void 0:c.words_source,button_type:"close"}),e()}),[e,w.reportTarget]),D=(0,n.useCallback)((()=>{j.resetState()}),[j]),C=(0,n.useCallback)((()=>{j.handlePrevStep(),null==v||v()}),[j]);(0,n.useEffect)((()=>{_&&j.setSubmitCallback(_)}),[_]),(0,n.useEffect)((()=>{x&&j.setPageState(x)}),[x]);const T=(0,n.useMemo)((()=>10===w.PageState?b("dsa_illegal_select_country_optional"):b("Report")),[w.PageState]),P=w.PreState.length>0||9===w.PageState&&(null===(f=w.reportTarget)||void 0===f?void 0:f.dsa_from_inbox)||m,R=()=>0===w.PageState?(0,i.jsx)(ut,{}):1===w.PageState?(0,i.jsx)(ti,{}):5===w.PageState?(0,i.jsx)(Jt,{onClose:k}):3===w.PageState?(0,i.jsx)(Di,{}):2===w.PageState||8===w.PageState?(0,i.jsx)(tt,{}):4===w.PageState?(0,i.jsx)(S,{onClose:k}):6===w.PageState?(0,i.jsx)(ie,{onClose:k}):7===w.PageState?(0,i.jsx)(We,{}):10===w.PageState?(0,i.jsx)(qo,{}):9===w.PageState?(0,i.jsx)(Ro,{}):"search_someone"===w.PageState?(0,i.jsx)(ra,{}):"desc_textarea"===w.PageState?(0,i.jsx)(Hi,{}):"only_desc"===w.PageState?(0,i.jsx)(la,{}):void 0,I="undefined"!=typeof document&&document.fullscreenElement;return(0,n.useEffect)((()=>{I&&!t&&j.resetState()}),[j,I,t]),o?(0,i.jsx)(i.Fragment,{children:[0,1,2,3,7,10,8,9,"search_someone","desc_textarea","only_desc"].includes(w.PageState)?(0,i.jsxs)(q.JS,{"data-e2e":"report-form",children:[(0,i.jsxs)(q.JN,{isBackable:P,children:[P&&(0,i.jsx)(q.D_,{onClick:C,children:y?(0,i.jsx)(l.A,{width:20,height:20}):(0,i.jsx)(s.A,{width:20,height:20})}),(0,i.jsx)(q.Fh,{"data-e2e":"report-title",children:T}),(0,i.jsx)(q.Ko,{"data-e2e":"report-card-cancel",onClick:k,children:(0,i.jsx)(d.A,{width:14,height:14})})]}),R()]}):(0,i.jsx)(q.bq,{"data-e2e":"report-form",children:R()})}):"undefined"!=typeof document&&document.fullscreenElement?(0,i.jsx)(p.aF,{parentRef:document.fullscreenElement,visible:t,onClose:k,maskCloseable:6===w.PageState,keyboardCloseable:!1,children:[0,1,2,3,7,10,9,"search_someone","desc_textarea","only_desc"].includes(w.PageState)?(0,i.jsxs)(q.JS,{"data-e2e":"report-form",children:[(0,i.jsxs)(q.JN,{isBackable:P,children:[P&&(0,i.jsx)(q.D_,{onClick:C,children:y?(0,i.jsx)(l.A,{width:20,height:20}):(0,i.jsx)(s.A,{width:20,height:20})}),(0,i.jsx)(q.Fh,{"data-e2e":"report-title",children:T}),(0,i.jsx)(q.Ko,{"data-e2e":"report-card-cancel",onClick:k,children:(0,i.jsx)(d.A,{width:14,height:14})})]}),R()]}):(0,i.jsx)(q.bq,{"data-e2e":"report-form",children:R()})}):(0,i.jsx)(u.i,{compact:!0,isOpen:t,onClose:k,onCloseComplete:D,closeOnBackdropClick:6===w.PageState,closeOnEsc:!1,children:[0,1,2,3,7,10,8,9,"search_someone","desc_textarea","only_desc"].includes(w.PageState)?(0,i.jsxs)(q.JS,{"data-e2e":"report-form",children:[(0,i.jsxs)(q.JN,{isBackable:P,children:[P&&(0,i.jsx)(q.D_,{onClick:C,children:y?(0,i.jsx)(l.A,{width:20,height:20}):(0,i.jsx)(s.A,{width:20,height:20})}),(0,i.jsx)(q.Fh,{"data-e2e":"report-title",children:T}),(0,i.jsx)(q.Ko,{"data-e2e":"report-card-cancel",onClick:k,children:(0,i.jsx)(d.A,{width:14,height:14})})]}),R()]}):(0,i.jsx)(q.bq,{"data-e2e":"report-form",children:R()})})}))},85041:(e,t,o)=>{o.d(t,{E:()=>b});var i=o(58632),a=o(24643),r=o(40099),n=o(25342),l=o(82535),s=o(97071),d=o(8046),c=o(72688),p=o(58305),u=o(34012),g=o(4712),h=o(4725),x=o(81211),v=o(31355),m=o(40935),_=o(52333),f=o(46682);const b=(0,r.memo)((0,r.forwardRef)((function(e,t){var{uniqueId:o,secUid:b,extraQuery:y={},children:j,replace:w=!1,isInBrowserMode:S=!1,teaParams:k,shouldStopPropagation:D=!0,reportTea:C=!0,onClick:T,onLinkClick:P,adInfo:R,style:I}=e,A=(0,i.__rest)(e,["uniqueId","secUid","extraQuery","children","replace","isInBrowserMode","teaParams","shouldStopPropagation","reportTea","onClick","onLinkClick","adInfo","style"]);const U=(0,x.U)({pathname:(0,c.fJR)({uniqueId:o,secUid:b}),search:y}),O=(0,m.yS)(o),F=(0,u.Ig)(),L=(0,r.useRef)(null),H=(0,f.w)(_.k),{playMode:B,ttamRefer:z=n.Hq.Photo}=k,W=null==R?void 0:R.is_normal,N=(0,r.useCallback)((e=>{if(R&&!W&&R.web_url)return(0,p.Gu)(e),void(0,g.Zy)({adInfo:R,refer:z,tag:B&&n.EM[B]||n.xY.OneColumn});if(F)return(0,p.Gu)(e),void(0,h.Hz)("user-select",{uid:null==O?void 0:O.id,uniqueId:o,from:"user-link"});if(D&&e.stopPropagation(),C&&l.q.handleEnterUser(k),null==R?void 0:R.is_normal){const e=(0,s.n5)({ad_info:R,play_mode:null!=B?B:"one_column"});d.pg.handleOtherclick(Object.assign(Object.assign({},e),{refer:z}))}(k.group_id||k.from_group_id)&&H.addMlModelTrainData({id:k.group_id||k.from_group_id,action:"head"}),null==T||T(e),null==P||P(e,U,"user")}),[H,R,F,D,C,k,T,P,U,null==O?void 0:O.id,o,B,z]),E=(0,r.useCallback)((e=>{var t;13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),null===(t=L.current)||void 0===t||t.click())}),[]);return(0,r.useImperativeHandle)(t,(()=>({linkClick:()=>{var e;null===(e=L.current)||void 0===e||e.click()}}))),R&&!W&&R.web_url?(0,a.jsx)("a",Object.assign({href:R.web_url},A,{ref:L,onClick:N,onKeyDown:E,style:I,target:"_blank",rel:"noreferrer",children:j})):(0,a.jsx)(v.N_,Object.assign({to:U},A,{replace:w||S,ref:L,onClick:N,onKeyDown:E,style:I,children:j}))})))},17566:(e,t,o)=>{o.d(t,{Nw:()=>h,Rj:()=>g,_u:()=>x});var i=o(40099),a=o(52409),r=o.n(a),n=o(98885),l=o.n(n),s=o(97497),d=o(72688),c=o(49057),p=o(60484),u=o(57431);const g=150;function h(e,t){var o,i,a,r,n,c,p,x;const{defaultPath:v="",featureParams:m}=null!=t?t:{};if(l()(e))return v;const _="v1"===(null==m?void 0:m.photomodeVid);if(null===(o=e.author)||void 0===o?void 0:o.uniqueId){const o=e;return h({uniqueId:null===(i=o.author)||void 0===i?void 0:i.uniqueId,secUid:null===(a=o.author)||void 0===a?void 0:a.secUid,videoId:o.id,isPhotomode:void 0!==o.imagePost},t)}if(e.authorId){const o=e;return h({uniqueId:o.author,secUid:o.authorSecId,videoId:o.id,isPhotomode:void 0!==o.imagePost},t)}if(e.at){const t=e,o=(null===(r=t.at.aweme)||void 0===r?void 0:r.aweme_type)===g&&_?"photo":"video";return`/@${null===(n=t.at.aweme)||void 0===n?void 0:n.author.uid}/${o}/${null===(c=t.at.aweme)||void 0===c?void 0:c.aweme_id}`}if(e.comment){const t=e,o=(null===(p=t.comment.aweme)||void 0===p?void 0:p.aweme_type)===g&&_?"photo":"video";return`/@${t.comment.aweme.author.uid}/${o}/${t.comment.aweme.aweme_id}`}if(e.digg){const t=e,o=(null===(x=t.digg.aweme)||void 0===x?void 0:x.aweme_type)===g&&_?"photo":"video";return`/@${t.digg.aweme.author.uid}/${o}/${t.digg.aweme.aweme_id}`}if(e.template_notice){const t=function(e){var t,o,i,a,r,n;const l=null===(t=e.template_notice.extra_data)||void 0===t?void 0:t.nudge_info,s=e.template_notice.notice;let{aweme_id:d,author_id:c,cover_url:p,aweme_type:h}=null!=l?l:{};if(p||(p=null===(i=null===(o=null==s?void 0:s.image_url)||void 0===o?void 0:o.url_list)||void 0===i?void 0:i[0]),d||(d=null===(r=null===(a=null==s?void 0:s.right_schema_url)||void 0===a?void 0:a.match(/\/detail\/(\d+)/))||void 0===r?void 0:r[1]),!c&&302===e.type){const{user:e}=(0,u.x)();c=null==e?void 0:e.uid}return{isPhotoMode:h===g||null!==(n=null==p?void 0:p.includes("photomode"))&&void 0!==n&&n,awemeId:d,authorId:c,coverUrl:p}}(e),o=t.isPhotoMode&&_?"photo":"video";return`/@${t.authorId}/${o}/${t.awemeId}`}if(e.owner_id&&e.object_id){const o=e;return h({uniqueId:o.owner_id,videoId:o.object_id,isPhotomode:o.aweme_type===g},t)}const{uniqueId:f,secUid:b,videoId:y,isPhotomode:j}=e,w=(0,d.l3z)({uniqueId:f,secUid:b});return w&&y?j&&_?s.Lj.photo({uniqueId:w,id:y}):s.Lj.video({uniqueId:w,id:y}):v}function x(){const e=function(){var e,t;const{abTestVersion:o,botType:i}=(0,p.L$)((0,c.W)((()=>["abTestVersion","botType"]),[]));return"others"===i?null!==(t=null===(e=null==o?void 0:o.parameters.webapp_seo_photomode_user_exp)||void 0===e?void 0:e.vid)&&void 0!==t?t:"v0":"v1"}();return(0,i.useCallback)(((t,o)=>h(t,r()({featureParams:{photomodeVid:e}},o))),[e])}},4725:(e,t,o)=>{o.d(t,{Hz:()=>a,L9:()=>n,Ri:()=>r});var i=o(58305);const a=(e,t)=>{try{if("business"!==new URLSearchParams(window.location.search).get("scene"))return;window.parent.postMessage({type:e,params:t},window.location.origin)}catch(e){console.error("postMessage error",e)}},r=e=>{var t;const o=`; ${document.cookie}`.split(`; ${e}=`);return o.length>0?null===(t=o.pop())||void 0===t?void 0:t.split(";").shift():null},n=(e,t,o)=>{const a=JSON.parse((0,i._S)(e));a[t]=o,(0,i.AP)(e,JSON.stringify(a))}},82512:(e,t,o)=>{o.d(t,{Zr:()=>g,yJ:()=>p});var i=o(58632),a=o(64162),r=o(4126),n=o(93995),l=o(84838),s=o.n(l),d=o(97086),c=o(16469);const p="NOT_LOGIN_USER";var u;!function(e){e.Word="wordIdList",e.Video="videoIdList"}(u||(u={}));let g=class extends a.E{constructor(){if(super(),this.defaultState={blockListMap:{}},(0,d.fU)())return;const e=c.PC.getStorage();Object.keys(e).forEach((e=>{const t=c.PC.getItem(e);Array.isArray(t)?this.defaultState.blockListMap[e]={wordIdList:t}:this.defaultState.blockListMap[e]=t}))}setBlockListByUid(e,t){var o,i;const{uid:a=p,blockId:r,blockType:n}=t,l=null!==(i=null===(o=e.blockListMap[a])||void 0===o?void 0:o[n])&&void 0!==i?i:[];l.includes(r)||(l.push(r),s()(e.blockListMap,[a,n],l),c.PC.setItem(a,e.blockListMap[a]))}};(0,i.__decorate)([(0,r.h5)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Object]),(0,i.__metadata)("design:returntype",void 0)],g.prototype,"setBlockListByUid",null),g=(0,i.__decorate)([(0,n.n)("SearchEntry"),(0,i.__metadata)("design:paramtypes",[])],g)},40935:(e,t,o)=>{o.d(t,{yS:()=>b,Tu:()=>S,_6:()=>k});var i,a=o(58632),r=o(46682),n=o(40099),l=o(2584),s=o(30023),d=o(97792),c=o(8046),p=o(25616),u=o(49057),g=o(88920),h=o(52333),x=o(32125),v=o(84908),m=o(69589),_=o(94777);!function(e){e[e.FollowNormal=0]="FollowNormal",e[e.FollowPrivate=1]="FollowPrivate",e[e.FollowFollower=2]="FollowFollower",e[e.Unfollow=3]="Unfollow"}(i||(i={}));var f=o(11983);function b(e=""){return(0,v.nW)((t=>t.users[e]),x.bN)}const y={[-1]:"Follow",0:"Follow",1:"Following",3:"requested",2:"friends",4:"webapp_unblocked_button1",5:"Follow",6:"Follow"},j="Inbox_Follow_back",w=(e,t)=>{if(1===t){if(e<1)return j;if(1===e)return y[2]}else if(!t&&6===e)return j;return y[e]};function S({uniqueId:e,followerStatus:t,prevent:o,onNeedLogin:i,teaParams:a={},isInLiveCard:d=!1,liveCardTeaParams:c={},liveFollowStatus:m}){const _=(0,u.W)((()=>["user"]),[]),f=Boolean(null==_?void 0:_.user),[{relation:b,secUid:y},j]=(0,v.JY)((t=>{var o,i,a,r;return{relation:null!==(i=null===(o=t.users[e])||void 0===o?void 0:o.relation)&&void 0!==i?i:-1,secUid:null!==(r=null===(a=t.users[e])||void 0===a?void 0:a.secUid)&&void 0!==r?r:""}}),x.bN);(0,n.useEffect)((()=>{d&&j.setUserRelation({uniqueId:e,relation:Number(null!=m?m:0)})}),[]);const S=(0,r.w)(h.k),k=(0,g.tc)(),{showRightSideComments:D}=(0,g.vP)(),{play_mode:C,group_id:T}=a,P=(0,n.useCallback)((t=>{var r;if(o&&(t.preventDefault(),t.stopPropagation()),l.O.handleGeneralClick("follow",{scene:null!==(r=a.scene)&&void 0!==r?r:"video_feed",group_id:T,play_mode:C}),!f)return null==i?void 0:i();4!==b?(j.postCommitFollowUser(Object.assign(Object.assign({},a),{uniqueId:e,useFollowV2:k,resetWebappQuery:D})),1!==b&&S.addMlModelTrainData({id:a.group_id,action:"follow"}),d&&(1===b?s.YH.handleUnFollow(c):s.YH.handleFollow(c))):j.blockOrUnblockUser({uniqueId:e,secUid:y,isBlock:!0,resetWebappQuery:D})}),[o,f,b,j,a,e,k,d,i,y,c]),R=(0,p.s)()(w(b,t));return{isFollowing:1===b||2===b,text:R,handleFollow:P,relation:b}}function k({uniqueId:e,secUid:t,followerStatus:o,prevent:i,onNeedLogin:s,teaParams:x={}}){const b=(0,p.s)(),y=(0,u.W)((()=>["user"]),[]),j=Boolean(null==y?void 0:y.user),S=(0,r.w)(h.k),k=(0,g.tc)(),{play_mode:D,group_id:C}=x,{data:T,isLoading:P,isError:R}=(0,m.useData)({query:"getUserDetail",queryKeyParams:{uniqueId:e},queryParams:{uniqueId:e,secUid:t}}),[,I]=(0,v.JY)(),{mutate:A}=(0,m.useMutateAction)({mutatorName:"postCommitFollowUser",queryKeyParams:{uniqueId:e}}),{mutate:U}=(0,m.useMutateAction)({mutatorName:"blockOrUnblockUser",queryKeyParams:{uniqueId:e}}),O=(0,n.useCallback)(((o,r)=>n=>{var p;return i&&(n.preventDefault(),n.stopPropagation()),l.O.handleGeneralClick("follow",{scene:null!==(p=x.scene)&&void 0!==p?p:"video_feed",group_id:C,play_mode:D}),j?4===o?(I.handleWebappQueryOptimisticUpdate({uniqueId:e,isBlock:!0}),void U({uniqueId:e,secUid:t,isBlock:!0},{onSuccess:()=>{f.F.open({content:b("webapp_mig_unblocked"),duration:3,e2eTag:"block-toast"})}})):(I.handleWebappQueryOptimisticUpdate({uniqueId:e,targetUser:r,relation:o}),A({uniqueId:e,useFollowV2:k},{onSettled:(t=>o=>(0,a.__awaiter)(this,void 0,void 0,(function*(){var i;const a=function(e){return function({relation:e,handleIsUnfollow:t,handleIsFollow:o}){switch(e){case 0:case-1:case 4:case 5:case 6:return t();default:return o()}}({relation:e,handleIsUnfollow:()=>1,handleIsFollow:()=>0})}(t),{statusCode:r,followStatus:n}=null!==(i=yield o)&&void 0!==i?i:{statusCode:-1,followStatus:-1};if(d.t.handleFollowUser(Object.assign(Object.assign({},x),{status_code:r,follow_status:n,group_id:C,enter_method:x.enter_method,action_position:x.action_position,to_user_id:e,author_id:e,follow_type:2===n?"mutual":"single",is_private:4===n?1:0}),a),x.is_ad_event&&x.tag&&x.value&&x.log_extra&&0===a){const{tag:e,value:t,log_extra:o}=x;c.pg.handleFollowCancel({log_extra:o,tag:e,value:t,is_ad_event:"1"})}})))(o)}),void(1!==o&&S.addMlModelTrainData({id:x.group_id,action:"follow"}))):null==s?void 0:s()}),[i,x,C,D,j,I,e,A,k,b,s,U,t,S]);if(P||R)return{isFollowing:!1,text:b("Follow"),handleFollow:_.l,relation:-1};const{user:F}=T,{relation:L}=F;return{isFollowing:1===L||2===L,text:b(w(L,o)),handleFollow:O(L,F),relation:L}}},44815:(e,t,o)=>{o.d(t,{o:()=>a});var i=o(93608);const a={handleShowReport:e=>{i.f.sendEvent("click_report",Object.assign(Object.assign({},e),{channel:"web"}))},handleReportSubmit:e=>{i.f.sendEvent("web_report_submit",e)},handleReportNext:e=>{i.f.sendEvent("web_choose_report_reason_next",e)},handleReportSugSubmit:e=>{i.f.sendEvent("search_text_submit",e)},handleReportSugFinish:e=>{i.f.sendEvent("sug_report_confirm",e)},handleDSAResubmitReportOnSubmission:e=>{i.f.sendEvent("tns_click_resubmit_report",e)},handleDSAResubmitShow:e=>{i.f.sendEvent("tns_pop_up_resubmit_show",e)},handleDSAResubmitMoreOptionsClick:e=>{i.f.sendEvent("tns_pop_up_resubmit_click",e)},handleChooseReportRadioReason:e=>{i.f.sendEvent("web_choose_report_reason_next",e)}}}}]);